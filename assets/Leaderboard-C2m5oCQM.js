import{b as e,j as t}from"./query-DSsWWIdM.js";import{a as s}from"./sentry-DvvTOdwe.js";import{k as a,u as l,g as r,b as i}from"./index-D0yqgRjz.js";import{L as d}from"./router-jbVFofSC.js";import"./store-BXxpTH1V.js";const n=[{icon:"ðŸŒ±",nameKey:"badge.beginner",count:3,color:"from-green-400 to-emerald-500"},{icon:"ðŸŒ¿",nameKey:"badge.intermediate",count:10,color:"from-teal-400 to-cyan-500"},{icon:"ðŸŒ³",nameKey:"badge.advanced",count:30,color:"from-blue-400 to-indigo-500"},{icon:"ðŸ†",nameKey:"badge.super",count:100,color:"from-amber-400 to-orange-500"}];function c(){const{t:c}=a(),{user:o}=l(),[x,m]=s.useState("all"),{data:h,isLoading:j}=e({queryKey:["leaderboard",x],queryFn:()=>i.get("/invite/leaderboard?type=".concat(x)).then(e=>e.data)}),f=(null==h?void 0:h.leaderboard)||[],u=null==h?void 0:h.myRank;return t.jsxs("div",{className:"min-h-screen relative",children:[t.jsx("div",{className:"bg-animated"}),t.jsx("header",{className:"glass-dark border-b border-white/5 sticky top-0 z-40",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-14 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(d,{to:"https://kighub.cn/",className:"flex items-center gap-2 text-white/60 hover:text-white transition",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),t.jsx("span",{className:"text-sm hidden sm:inline",children:c("leaderboard.backToMap")})]}),t.jsx("div",{className:"w-px h-5 bg-white/10"}),t.jsxs("h1",{className:"text-lg font-bold text-gradient flex items-center gap-2",children:[t.jsx("span",{children:"ðŸ†"}),c("leaderboard.title")]})]}),t.jsxs(d,{to:"/invite",className:"flex items-center gap-2 px-3 py-1.5 glass rounded-lg text-sm text-white/70 hover:text-white transition",children:[t.jsx("span",{children:"ðŸ“¨"}),t.jsx("span",{className:"hidden sm:inline",children:c("leaderboard.myInvite")})]})]})}),t.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 relative z-10",children:[t.jsx("div",{className:"flex gap-2 mb-6",children:[{key:"all",label:c("leaderboard.allTime"),icon:"ðŸ“Š"},{key:"month",label:c("leaderboard.monthly"),icon:"ðŸ“…"},{key:"week",label:c("leaderboard.weekly"),icon:"ðŸ“†"}].map(e=>t.jsxs("button",{onClick:()=>m(e.key),className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 sm:px-6 py-3 rounded-xl text-sm font-medium transition-all ".concat(x===e.key?"bg-gradient-to-r from-primary to-secondary text-white shadow-lg shadow-primary/20":"glass text-white/60 hover:text-white hover:bg-white/10"),children:[t.jsx("span",{children:e.icon}),t.jsx("span",{children:e.label})]},e.key))}),t.jsxs("div",{className:"glass-dark rounded-2xl p-6 mb-6 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"ðŸŽ"}),c("leaderboard.inviteRewards")]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:n.map(e=>t.jsxs("div",{className:"glass rounded-xl p-3 text-center",children:[t.jsx("div",{className:"w-10 h-10 mx-auto rounded-lg bg-gradient-to-br ".concat(e.color," flex items-center justify-center text-xl mb-2"),children:e.icon}),t.jsx("p",{className:"text-xs font-medium text-white",children:c(e.nameKey)}),t.jsxs("p",{className:"text-xs text-white/50",children:[e.count,c("leaderboard.people")]})]},e.nameKey))})]})]}),o&&u&&t.jsxs("div",{className:"glass-dark rounded-2xl p-6 mb-6 border border-primary/30 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-secondary/5"}),t.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-2xl shadow-lg shadow-primary/30",children:"ðŸ‘¤"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/50 text-sm",children:c("leaderboard.myRank")}),t.jsx("p",{className:"text-lg font-bold text-white",children:c("leaderboard.invited",{n:u.inviteCount})})]})]}),t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"text-4xl font-bold text-gradient",children:["#",u.rank]})})]})]}),t.jsx("div",{className:"glass-dark rounded-2xl overflow-hidden",children:j?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-white/50",children:c("leaderboard.loading")})]}):0===f.length?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx("div",{className:"text-4xl mb-4",children:"ðŸ“­"}),t.jsx("p",{className:"text-white/50",children:c("leaderboard.noData")}),t.jsx("p",{className:"text-white/30 text-sm mt-2",children:c("leaderboard.goInvite")})]}):t.jsxs("div",{className:"divide-y divide-white/5",children:[f.slice(0,3).length>0&&t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-end justify-center gap-4",children:[f[1]&&t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-white/10 overflow-hidden border-2 border-gray-400/50",children:f[1].avatar?t.jsx("img",{src:r(f[1].avatar),alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-2xl",children:"ðŸ‘¤"})}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 text-2xl",children:"ðŸ¥ˆ"})]}),t.jsx("p",{className:"mt-4 text-sm font-medium text-white truncate max-w-[80px]",children:f[1].cnName}),t.jsx("p",{className:"text-lg font-bold text-gray-400",children:f[1].inviteCount})]}),f[0]&&t.jsxs("div",{className:"flex flex-col items-center -mt-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/10 overflow-hidden border-2 border-amber-500/50 shadow-lg shadow-amber-500/30",children:f[0].avatar?t.jsx("img",{src:r(f[0].avatar),alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-3xl",children:"ðŸ‘¤"})}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 text-3xl",children:"ðŸ¥‡"})]}),t.jsx("p",{className:"mt-4 text-sm font-medium text-white truncate max-w-[100px]",children:f[0].cnName}),t.jsx("p",{className:"text-xl font-bold text-gradient",children:f[0].inviteCount})]}),f[2]&&t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-white/10 overflow-hidden border-2 border-orange-500/50",children:f[2].avatar?t.jsx("img",{src:r(f[2].avatar),alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-2xl",children:"ðŸ‘¤"})}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 text-2xl",children:"ðŸ¥‰"})]}),t.jsx("p",{className:"mt-4 text-sm font-medium text-white truncate max-w-[80px]",children:f[2].cnName}),t.jsx("p",{className:"text-lg font-bold text-orange-400",children:f[2].inviteCount})]})]})}),f.slice(3).map(e=>t.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-white/5 transition",children:[t.jsx("div",{className:"w-10 text-center",children:t.jsxs("span",{className:"text-lg font-bold text-white/40",children:["#",e.rank]})}),t.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 overflow-hidden flex-shrink-0",children:e.avatar?t.jsx("img",{src:r(e.avatar),alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-xl",children:"ðŸ‘¤"})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("p",{className:"font-medium text-white truncate",children:e.cnName})}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xl font-bold text-primary",children:e.inviteCount}),t.jsx("p",{className:"text-xs text-white/40",children:c("leaderboard.people")})]})]},e.accountId))]})}),(null==h?void 0:h.updatedAt)&&t.jsx("p",{className:"text-center text-xs text-white/30 mt-6",children:c("leaderboard.updatedAt",{time:new Date(h.updatedAt).toLocaleString()})})]})]})}export{c as default};
