!function(){function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,l,o=[],i=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(s=n.call(r)).done)&&(o.push(s.value),o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var s={}.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}System.register(["./query-legacy-CLxXWLnl.js","./sentry-legacy-CTr2CudU.js","./index-legacy-DVoFAd51.js","./router-legacy-9xrJEksD.js","./store-legacy-Bt3CCSnU.js"],function(t,r){"use strict";var s,a,n,l,o,i,c,d,u;return{setters:[function(e){s=e.b,a=e.j},function(e){n=e.a},function(e){l=e.a,o=e.u,i=e.j,c=e.b},function(e){d=e.c,u=e.L},null],execute:function(){t("default",function(){var t=l().t,r=o().isAuthenticated,x=e(d(),2),h=x[0],m=x[1],g=e(n.useState(1),2),p=g[0],f=g[1],v=e(n.useState(""),2),b=v[0],j=v[1],y=e(n.useState(h.get("tag")||""),2),k=y[0],w=y[1],N=e(n.useState(!1),2),L=N[0],C=N[1];n.useEffect(function(){var e=h.get("tag");e&&w(e)},[h]);var M=s({queryKey:["highlights",p,b,k],queryFn:function(){var e=new URLSearchParams({page:String(p),limit:"12"});return b&&e.set("search",b),k&&e.set("tag",k),c.get("/highlights?".concat(e)).then(function(e){return e.data})}}),S=M.data,W=M.isLoading,B=s({queryKey:["highlight-tags"],queryFn:function(){return c.get("/highlights/tags").then(function(e){return e.data})}}).data,A=(null==S?void 0:S.highlights)||[],z=(null==S?void 0:S.totalPages)||1,q=(null==S?void 0:S.total)||0,F=(null==B?void 0:B.tags)||[],H=function(e){var t=e===k?"":e;w(t),f(1),m(t?{tag:t}:{})};return a.jsxs("div",{className:"min-h-screen",style:{background:"var(--color-background)"},children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-1/2 -left-1/4 w-[600px] h-[600px] rounded-full opacity-[0.07]",style:{background:"radial-gradient(circle, #8b5cf6, transparent 70%)"}}),a.jsx("div",{className:"absolute -top-1/3 -right-1/4 w-[500px] h-[500px] rounded-full opacity-[0.05]",style:{background:"radial-gradient(circle, #ec4899, transparent 70%)"}})]}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 pt-12 pb-8 md:pt-20 md:pb-12",children:a.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium mb-5",style:{background:"rgba(139,92,246,0.1)",color:"#8b5cf6",border:"1px solid rgba(139,92,246,0.2)"},children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 animate-pulse"}),q>0?"".concat(q," ").concat(t("highlights.spotsCount")):t("highlights.discover")]}),a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 tracking-tight",style:{color:"var(--color-text)"},children:a.jsx("span",{className:"text-gradient",children:t("highlights.title")})}),a.jsx("p",{className:"text-sm sm:text-base md:text-lg mb-8 max-w-xl mx-auto leading-relaxed",style:{color:"var(--color-text-muted)"},children:t("highlights.subtitle")}),a.jsxs("div",{className:"flex items-center gap-3 justify-center max-w-lg mx-auto",children:[a.jsxs("div",{className:"relative flex-1 transition-all duration-300",style:{transform:L?"scale(1.02)":"scale(1)"},children:[a.jsx("input",{type:"text",value:b,onChange:function(e){j(e.target.value),f(1)},onFocus:function(){return C(!0)},onBlur:function(){return C(!1)},placeholder:t("highlights.searchPlaceholder"),className:"w-full h-11 sm:h-12 px-5 pl-11 rounded-2xl text-sm outline-none transition-all duration-300",style:{background:"var(--card-bg)",border:L?"1.5px solid rgba(139,92,246,0.4)":"1px solid var(--glass-border)",color:"var(--color-text)",boxShadow:L?"0 0 0 4px rgba(139,92,246,0.08), 0 8px 32px rgba(0,0,0,0.08)":"0 2px 12px rgba(0,0,0,0.04)",backdropFilter:"blur(20px)"}}),a.jsx("svg",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 transition-colors",style:{color:L?"#8b5cf6":"var(--color-text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),b&&a.jsx("button",{onClick:function(){j(""),f(1)},className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full flex items-center justify-center transition-colors",style:{background:"var(--hover-bg)",color:"var(--color-text-muted)"},children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r&&a.jsxs(u,{to:"/highlights/create",className:"h-11 sm:h-12 px-5 sm:px-6 rounded-2xl text-sm font-medium text-white flex items-center gap-2 transition-all active:scale-95 flex-shrink-0",style:{background:"linear-gradient(135deg, #8b5cf6, #a855f7, #ec4899)",boxShadow:"0 4px 16px rgba(139,92,246,0.3)"},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{className:"hidden sm:inline",children:t("highlights.create")})]})]})]})})]}),F.length>0&&a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 mb-8",children:a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",style:{scrollbarWidth:"none"},children:[a.jsx("button",{onClick:function(){return H("")},className:"px-4 py-2 rounded-xl text-xs font-medium transition-all flex-shrink-0 whitespace-nowrap",style:{background:k?"var(--card-bg)":"linear-gradient(135deg, #8b5cf6, #ec4899)",color:k?"var(--color-text-muted)":"#fff",border:k?"1px solid var(--glass-border)":"none",boxShadow:k?"none":"0 2px 8px rgba(139,92,246,0.25)"},children:t("highlights.allTags")}),F.map(function(e){return a.jsxs("button",{onClick:function(){return H(e)},className:"px-4 py-2 rounded-xl text-xs font-medium transition-all flex-shrink-0 whitespace-nowrap",style:{background:e===k?"linear-gradient(135deg, #8b5cf6, #ec4899)":"var(--card-bg)",color:e===k?"#fff":"var(--color-text-muted)",border:e===k?"none":"1px solid var(--glass-border)",boxShadow:e===k?"0 2px 8px rgba(139,92,246,0.25)":"none"},children:["#",e]},e)})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 pb-20",children:W?a.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4",children:[a.jsxs("div",{className:"relative w-12 h-12",children:[a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-purple-500/20"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-purple-500 border-t-transparent animate-spin"})]}),a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:t("highlights.loading")})]}):0===A.length?a.jsxs("div",{className:"text-center py-24",children:[a.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl flex items-center justify-center",style:{background:"var(--card-bg)",border:"1px solid var(--glass-border)"},children:a.jsxs("svg",{className:"w-8 h-8 opacity-40",style:{color:"var(--color-text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),a.jsx("p",{className:"text-base font-medium mb-2",style:{color:"var(--color-text)"},children:t("highlights.empty")}),a.jsx("p",{className:"text-sm mb-6",style:{color:"var(--color-text-muted)"},children:t("highlights.emptyHint")}),r&&a.jsxs(u,{to:"/highlights/create",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium text-white transition-all active:scale-95",style:{background:"linear-gradient(135deg, #8b5cf6, #ec4899)"},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t("highlights.create")]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-5",children:A.map(function(e,r){var s,n,l,o,c,d,x;return a.jsxs(u,{to:"/highlights/".concat(e.id),className:"group rounded-2xl overflow-hidden transition-all duration-500 hover:-translate-y-1",style:{background:"var(--card-bg)",border:"1px solid var(--glass-border)",boxShadow:"0 1px 3px rgba(0,0,0,0.04)",animationDelay:"".concat(50*r,"ms")},children:[a.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[a.jsx("img",{src:e.photos[0],alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:i,loading:"lazy"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/10 to-transparent opacity-80 group-hover:opacity-90 transition-opacity"}),e.photos.length>1&&a.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 bg-black/40 backdrop-blur-md rounded-lg px-2 py-1 text-white/90 text-[11px]",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14"})}),e.photos.length]}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3.5",children:[a.jsx("h3",{className:"text-white font-semibold text-sm leading-snug line-clamp-1 mb-1.5 drop-shadow-sm",children:e.title}),a.jsxs("div",{className:"flex items-center gap-1.5 text-white/75 text-xs",children:[a.jsx("svg",{className:"w-3 h-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),a.jsx("span",{className:"truncate",children:e.city||e.province||e.country})]})]})]}),a.jsxs("div",{className:"p-3.5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2.5",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[null!==(s=e.author)&&void 0!==s&&s.avatar?a.jsx("img",{src:e.author.avatar,alt:"",className:"w-7 h-7 rounded-full object-cover ring-2 ring-white/10 flex-shrink-0",onError:i}):a.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-[10px] text-white flex-shrink-0",style:{background:"linear-gradient(135deg, #8b5cf6, #ec4899)"},children:(null===(n=e.author)||void 0===n||null===(n=n.cnName)||void 0===n?void 0:n[0])||"?"}),a.jsx("span",{className:"text-xs font-medium truncate",style:{color:"var(--color-text)"},children:null===(l=e.author)||void 0===l?void 0:l.cnName})]}),a.jsx("span",{className:"text-[10px] flex-shrink-0 ml-2",style:{color:"var(--color-text-muted)"},children:(o=e.createdAt,c=new Date(o),d=(new Date).getTime()-c.getTime(),x=Math.floor(d/864e5),0===x?t("highlights.today"):1===x?t("highlights.yesterday"):x<30?"".concat(x,"d"):c.toLocaleDateString())})]}),a.jsxs("div",{className:"flex items-center gap-3 text-[11px]",style:{color:"var(--color-text-muted)"},children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.viewCount]}),a.jsxs("span",{className:"flex items-center gap-1",style:{color:e.liked?"#ec4899":void 0},children:[a.jsx("svg",{className:"w-3.5 h-3.5",fill:e.liked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.likeCount]}),a.jsxs("span",{className:"flex items-center gap-1",style:{color:e.favorited?"#f59e0b":void 0},children:[a.jsx("svg",{className:"w-3.5 h-3.5",fill:e.favorited?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),e.favoriteCount]}),a.jsx("div",{className:"flex-1 flex justify-end gap-1 overflow-hidden",children:e.tags.slice(0,2).map(function(e){return a.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[9px] truncate max-w-[60px]",style:{background:"var(--hover-bg)",color:"var(--color-text-muted)"},children:["#",e]},e)})})]})]})]},e.id)})}),z>1&&a.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-12",children:[a.jsx("button",{onClick:function(){return f(function(e){return Math.max(1,e-1)})},disabled:1===p,className:"w-9 h-9 rounded-xl flex items-center justify-center transition-all disabled:opacity-30",style:{background:"var(--card-bg)",border:"1px solid var(--glass-border)",color:"var(--color-text-muted)"},children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),Array.from({length:Math.min(z,7)},function(e,t){var r;return r=z<=7||p<=4?t+1:p>=z-3?z-6+t:p-3+t,a.jsx("button",{onClick:function(){return f(r)},className:"w-9 h-9 rounded-xl text-xs font-medium transition-all",style:{background:r===p?"linear-gradient(135deg, #8b5cf6, #ec4899)":"var(--card-bg)",color:r===p?"#fff":"var(--color-text-muted)",border:r===p?"none":"1px solid var(--glass-border)",boxShadow:r===p?"0 2px 8px rgba(139,92,246,0.3)":"none"},children:r},r)}),a.jsx("button",{onClick:function(){return f(function(e){return Math.min(z,e+1)})},disabled:p===z,className:"w-9 h-9 rounded-xl flex items-center justify-center transition-all disabled:opacity-30",style:{background:"var(--card-bg)",border:"1px solid var(--glass-border)",color:"var(--color-text-muted)"},children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})]})})}}})}();
