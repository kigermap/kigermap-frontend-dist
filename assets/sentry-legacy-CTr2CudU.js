!function(){var e=["spanId","traceId","traceFlags"];function t(e){var n="function"==typeof Map?new Map:void 0;return t=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return function(e,t,n){if(i())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&u(a,n.prototype),a}(e,arguments,o(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u(t,e)},t(e)}function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(null,arguments)}function r(e,t,n){return t=o(t),function(e,t){if(t&&("object"==C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i()?Reflect.construct(t,n||[],o(e).constructor):t.apply(e,n))}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(null,arguments)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,r,i,a){var u=r&&r.prototype instanceof s?r:s,c=Object.create(u.prototype);return l(c,"_invoke",function(n,r,i){var a,s,u,c=0,l=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,s=0,u=e,f.n=n,o}};function p(n,r){for(s=n,u=r,t=0;!d&&c&&!i&&t<l.length;t++){var i,a=l[t],p=f.p,v=a[2];n>3?(i=v===r)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((i=n<2&&p<a[1])?(s=0,f.v=r,f.n=a[1]):p<v&&(i=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,f.n=v,s=0))}if(i||n>1)return o;throw d=!0,r}return function(i,l,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),s=l,u=v;(t=s<2?e:u)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,u)):f.n=u:f.v=u);try{if(c=2,a){if(s||(i="next"),t=a[i]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);a=e}else if((t=(d=f.n<0)?u:n.call(r,f))!==o)break}catch(t){a=e,s=1,u=t}finally{c=1}}return{value:t,done:d}}}(n,i,a),!0),c}var o={};function s(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(l(t={},r,function(){return this}),t),p=d.prototype=s.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,l(p,"constructor",d),l(d,"constructor",u),u.displayName="GeneratorFunction",l(d,i,"GeneratorFunction"),l(p),l(p,i,"Generator"),l(p,r,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),(c=function(){return{w:a,m:v}})()}function l(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}l=function(e,t,n,r){function a(t,n){l(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},l(e,t,n,r)}function d(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){d(a,r,i,o,s,"next",e)}function s(e){d(a,r,i,o,s,"throw",e)}o(void 0)})}}function p(e,t){return h(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||I(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){if(Array.isArray(e))return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}function w(e){return function(e){if(Array.isArray(e))return x(e)}(e)||E(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function I(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}System.register([],function(i,u){"use strict";return{execute:function(){function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}i({g:u,i:function(e){var t=b({},e);return wi(t,"react"),Cr("react",{version:M.version}),$s(t)},r:R});var l,d,y={exports:{}},_={};function S(){if(l)return _;l=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==C(e)&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,h(k,y.prototype),k.isPureReactComponent=!0;var S=Array.isArray;function w(){}var E={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function I(t,n,r){var i=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==i?i:null,props:r}}function x(t){return"object"===C(t)&&null!==t&&t.$$typeof===e}var R=/\/+/g;function M(e,t){return"object"===C(e)&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function O(n,r,i,a,o){var s=C(n);"undefined"!==s&&"boolean"!==s||(n=null);var u,c,l=!1;if(null===n)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case e:case t:l=!0;break;case d:return O((l=n._init)(n._payload),r,i,a,o)}}if(l)return o=o(n),l=""===a?"."+M(n,0):a,S(o)?(i="",null!=l&&(i=l.replace(R,"$&/")+"/"),O(o,r,i,"",function(e){return e})):null!=o&&(x(o)&&(u=o,c=i+(null==o.key||n&&n.key===o.key?"":(""+o.key).replace(R,"$&/")+"/")+l,o=I(u.type,c,u.props)),r.push(o)),1;l=0;var f,v=""===a?".":a+":";if(S(n))for(var h=0;h<n.length;h++)l+=O(a=n[h],r,i,s=v+M(a,h),o);else if("function"==typeof(h=null===(f=n)||"object"!==C(f)?null:"function"==typeof(f=p&&f[p]||f["@@iterator"])?f:null))for(n=h.call(n),h=0;!(a=n.next()).done;)l+=O(a=a.value,r,i,s=v+M(a,h++),o);else if("object"===s){if("function"==typeof n.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,a,o);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"==typeof reportError?reportError:function(e){if("object"===("undefined"==typeof window?"undefined":C(window))&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===C(e)&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===("undefined"==typeof process?"undefined":C(process))&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},P={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return _.Activity=f,_.Children=P,_.Component=y,_.Fragment=n,_.Profiler=i,_.PureComponent=b,_.StrictMode=r,_.Suspense=u,_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,_.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},_.cache=function(e){return function(){return e.apply(null,arguments)}},_.cacheSignal=function(){return null},_.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=h({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!T.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return I(e.type,i,r)},_.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},_.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return I(e,a,i)},_.createRef=function(){return{current:null}},_.forwardRef=function(e){return{$$typeof:s,render:e}},_.isValidElement=x,_.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},_.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},_.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===C(r)&&null!==r&&"function"==typeof r.then&&r.then(w,L)}catch(a){L(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},_.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},_.use=function(e){return E.H.use(e)},_.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},_.useCallback=function(e,t){return E.H.useCallback(e,t)},_.useContext=function(e){return E.H.useContext(e)},_.useDebugValue=function(){},_.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},_.useEffect=function(e,t){return E.H.useEffect(e,t)},_.useEffectEvent=function(e){return E.H.useEffectEvent(e)},_.useId=function(){return E.H.useId()},_.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},_.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},_.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},_.useMemo=function(e,t){return E.H.useMemo(e,t)},_.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},_.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},_.useRef=function(e){return E.H.useRef(e)},_.useState=function(e){return E.H.useState(e)},_.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},_.useTransition=function(){return E.H.useTransition()},_.version="19.2.4",_}function R(){return d||(d=1,y.exports=S()),y.exports}var M=i("a",R()),O=(i("R",u(M)),"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__),A=globalThis,D="10.38.0";function L(){return P(A),A}function P(e){var t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||D,t[D]=t[D]||{}}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,r=n.__SENTRY__=n.__SENTRY__||{},i=r[D]=r[D]||{};return i[e]||(i[e]=t())}var F=["debug","info","warn","error","log","assert","trace"],j={};function B(e){if(!("console"in A))return e();var t=A.console,n={},r=Object.keys(j);r.forEach(function(e){var r=j[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(function(e){t[e]=n[e]})}}function U(){return H().enabled}function z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];O&&U()&&B(function(){var t;(t=A.console)[e].apply(t,["".concat("Sentry Logger ","[").concat(e,"]:")].concat(n))})}function H(){return O?N("loggerSettings",function(){return{enabled:!1}}):{enabled:!1}}var q={enable:function(){H().enabled=!0},disable:function(){H().enabled=!1},isEnabled:U,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.apply(void 0,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.apply(void 0,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z.apply(void 0,["error"].concat(t))}},W=50,V="?",J=/\(error: (.*)\)/,$=/captureMessage|captureException/;function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.sort(function(e,t){return e[0]-t[0]}).map(function(e){return e[1]});return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],a=e.split("\n"),o=t;o<a.length;o++){var s=a[o];s.length>1024&&(s=s.slice(0,1024));var u=J.test(s)?s.replace(J,"$1"):s;if(!u.match(/\S*Error: /)){var c,l=T(r);try{for(l.s();!(c=l.n()).done;){var d=(0,c.value)(u);if(d){i.push(d);break}}}catch(f){l.e(f)}finally{l.f()}if(i.length>=W+n)break}}return function(e){if(!e.length)return[];var t=Array.from(e);/sentryWrapped/.test(G(t).function||"")&&t.pop();t.reverse(),$.test(G(t).function||"")&&(t.pop(),$.test(G(t).function||"")&&t.pop());return t.slice(0,W).map(function(e){return b(b({},e),{},{filename:e.filename||G(t).filename,function:e.function||V})})}(i.slice(n))}}function G(e){return e[e.length-1]||{}}var Y="<anonymous>";function X(e){try{return e&&"function"==typeof e&&e.name||Y}catch(t){return Y}}function Q(e){var t=e.exception;if(t){var n=[];try{return t.values.forEach(function(e){e.stacktrace.frames&&n.push.apply(n,w(e.stacktrace.frames))}),n}catch(r){return}}}function Z(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}var ee={},te={};function ne(e,t){ee[e]=ee[e]||[],ee[e].push(t)}function re(e,t){if(!te[e]){te[e]=!0;try{t()}catch(n){O&&q.error("Error while instrumenting ".concat(e),n)}}}function ie(e,t){var n=e&&ee[e];if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(t)}catch(o){O&&q.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(X(a),"\nError:"),o)}}}catch(s){i.e(s)}finally{i.f()}}}var ae=null;function oe(e){var t="error";ne(t,e),re(t,se)}function se(){ae=A.onerror,A.onerror=function(e,t,n,r,i){return ie("error",{column:r,error:i,line:n,msg:e,url:t}),!!ae&&ae.apply(this,arguments)},A.onerror.__SENTRY_INSTRUMENTED__=!0}var ue=null;function ce(e){var t="unhandledrejection";ne(t,e),re(t,le)}function le(){ue=A.onunhandledrejection,A.onunhandledrejection=function(e){return ie("unhandledrejection",e),!ue||ue.apply(this,arguments)},A.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var de=Object.prototype.toString;function fe(e){switch(de.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Se(e,Error)}}function pe(e,t){return de.call(e)==="[object ".concat(t,"]")}function ve(e){return pe(e,"ErrorEvent")}function he(e){return pe(e,"DOMError")}function me(e){return pe(e,"String")}function ye(e){return"object"===C(e)&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ge(e){return null===e||ye(e)||"object"!==C(e)&&"function"!=typeof e}function _e(e){return pe(e,"Object")}function be(e){return"undefined"!=typeof Event&&Se(e,Event)}function ke(e){return Boolean((null==e?void 0:e.then)&&"function"==typeof e.then)}function Se(e,t){try{return e instanceof t}catch(n){return!1}}function we(e){return!("object"!==C(e)||null===e||!(e.__isVue||e._isVue||e.__v_isVNode))}function Ee(e){return"undefined"!=typeof Request&&Se(e,Request)}var Te,Ie,xe=A,Ce=80;function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{for(var n,r=e,i=[],a=0,o=0,s=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||Ce;r&&a++<5&&!("html"===(n=Me(r,s))||a>1&&o+3*i.length+n.length>=u);)i.push(n),o+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch(c){return"<unknown>"}}function Me(e,t){var n=e,r=[];if(null==n||!n.tagName)return"";if(xe.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());var i=null!=t&&t.length?t.filter(function(e){return n.getAttribute(e)}).map(function(e){return[e,n.getAttribute(e)]}):null;if(null!=i&&i.length)i.forEach(function(e){r.push("[".concat(e[0],'="').concat(e[1],'"]'))});else{n.id&&r.push("#".concat(n.id));var a=n.className;if(a&&me(a)){var o,s=T(a.split(/\s+/));try{for(s.s();!(o=s.n()).done;){var u=o.value;r.push(".".concat(u))}}catch(p){s.e(p)}finally{s.f()}}}for(var c=0,l=["aria-label","type","name","title","alt"];c<l.length;c++){var d=l[c],f=n.getAttribute(d);f&&r.push("[".concat(d,'="').concat(f,'"]'))}return r.join("")}function Oe(){try{return xe.document.location.href}catch(e){return""}}function Ae(e){if(!xe.HTMLElement)return null;for(var t=e,n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function De(e,t,n){if(t in e){var r=e[t];if("function"==typeof r){var i=n(r);"function"==typeof i&&Pe(i,r);try{e[t]=i}catch(a){O&&q.log('Failed to replace method "'.concat(t,'" in object'),e)}}}}function Le(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){O&&q.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function Pe(e,t){try{var n=t.prototype||{};e.prototype=t.prototype=n,Le(e,"__sentry_original__",t)}catch(r){}}function Ne(e){return e.__sentry_original__}function Fe(e){if(fe(e))return b({message:e.message,name:e.name,stack:e.stack},Be(e));if(be(e)){var t=b({type:e.type,target:je(e.target),currentTarget:je(e.currentTarget)},Be(e));return"undefined"!=typeof CustomEvent&&Se(e,CustomEvent)&&(t.detail=e.detail),t}return e}function je(e){try{return t=e,"undefined"!=typeof Element&&Se(t,Element)?Re(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function Be(e){if("object"===C(e)&&null!==e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Ue(e){if(void 0!==Te)return Te?Te(e):e();var t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=A;return t in n&&"function"==typeof n[t]?(Te=n[t])(e):(Te=null,e())}function ze(){return Ue(function(){return Math.random()})}function He(){return Ue(function(){return Date.now()})}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function We(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{we(i)?n.push(Z(i)):n.push(String(i))}catch(a){n.push("[value cannot be serialized]")}}return n.join(t)}function Ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!me(e)&&(pe(t,"RegExp")?t.test(e):!!me(t)&&(n?e===t:e.includes(t)))}function Je(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(function(n){return Ve(e,n,t)})}function $e(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e=A).crypto||e.msCrypto;try{if(null!=t&&t.randomUUID)return Ue(function(){return t.randomUUID()}).replace(/-/g,"")}catch(n){}return Ie||(Ie=[1e7]+1e3+4e3+8e3+1e11),Ie.replace(/[018]/g,function(e){return(e^(16*ze()&15)>>e/4).toString(16)})}function Ke(e){var t;return null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t?void 0:t[0]}function Ge(e){var t=e.message,n=e.event_id;if(t)return t;var r=Ke(e);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ye(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type="Error")}function Xe(e,t){var n=Ke(e);if(n){var r=n.mechanism;if(n.mechanism=b(b(b({},{type:"generic",handled:!0}),r),t),t&&"data"in t){var i=b(b({},null==r?void 0:r.data),t.data);n.mechanism.data=i}}}function Qe(e){if(function(e){try{return e.__sentry_captured__}catch(t){}}(e))return!0;try{Le(e,"__sentry_captured__",!0)}catch(t){}return!1}var Ze;function et(){return He()/1e3}function tt(){return(null!=Ze?Ze:Ze=function(){var e=A.performance;if(null==e||!e.now||!e.timeOrigin)return et;var t=e.timeOrigin;return function(){return(t+Ue(function(){return e.now()}))/1e3}}())()}var nt=null;function rt(){return null===nt&&(nt=function(){var e,t=A.performance;if(null!=t&&t.now){var n=3e5,r=Ue(function(){return t.now()}),i=He(),a=t.timeOrigin;if("number"==typeof a&&Math.abs(a+r-i)<n)return a;var o=null===(e=t.timing)||void 0===e?void 0:e.navigationStart;return"number"==typeof o&&Math.abs(o+r-i)<n?o:i-r}}()),nt}function it(e){var t=tt(),n={sid:$e(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:function(){return function(e){return{sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?"".concat(e.did):void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}(n)}};return e&&at(n,e),n}function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||tt(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:$e()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{var n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!t||"object"!==C(t)||n<=0)return t;if(e&&0===Object.keys(t).length)return e;var r=b({},e);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=ot(r[i],t[i],n-1));return r}function st(){return $e()}function ut(){return $e().substring(16)}var ct="_sentrySpan";function lt(e,t){t?Le(e,ct,t):delete e[ct]}function dt(e){return e[ct]}var ft=function(){function e(){m(this,e),this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:st(),sampleRand:ze()}}return g(e,[{key:"clone",value:function(){var t=new e;return t._breadcrumbs=w(this._breadcrumbs),t._tags=b({},this._tags),t._attributes=b({},this._attributes),t._extra=b({},this._extra),t._contexts=b({},this._contexts),this._contexts.flags&&(t._contexts.flags={values:w(this._contexts.flags.values)}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=w(this._eventProcessors),t._attachments=w(this._attachments),t._sdkProcessingMetadata=b({},this._sdkProcessingMetadata),t._propagationContext=b({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,t._conversationId=this._conversationId,lt(t,dt(this)),t}},{key:"setClient",value:function(e){this._client=e}},{key:"setLastEventId",value:function(e){this._lastEventId=e}},{key:"getClient",value:function(){return this._client}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addScopeListener",value:function(e){this._scopeListeners.push(e)}},{key:"addEventProcessor",value:function(e){return this._eventProcessors.push(e),this}},{key:"setUser",value:function(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&at(this._session,{user:e}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"setConversationId",value:function(e){return this._conversationId=e||void 0,this._notifyScopeListeners(),this}},{key:"setTags",value:function(e){return this._tags=b(b({},this._tags),e),this._notifyScopeListeners(),this}},{key:"setTag",value:function(e,t){return this.setTags(k({},e,t))}},{key:"setAttributes",value:function(e){return this._attributes=b(b({},this._attributes),e),this._notifyScopeListeners(),this}},{key:"setAttribute",value:function(e,t){return this.setAttributes(k({},e,t))}},{key:"removeAttribute",value:function(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}},{key:"setExtras",value:function(e){return this._extra=b(b({},this._extra),e),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(e,t){return this._extra=b(b({},this._extra),{},k({},e,t)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(e){return this._fingerprint=e,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(e){return this._level=e,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(e){return this._transactionName=e,this._notifyScopeListeners(),this}},{key:"setContext",value:function(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}},{key:"setSession",value:function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(t){if(!t)return this;var n="function"==typeof t?t(this):t,r=(n instanceof e?n.getScopeData():_e(n)?t:void 0)||{},i=r.tags,a=r.attributes,o=r.extra,s=r.user,u=r.contexts,c=r.level,l=r.fingerprint,d=void 0===l?[]:l,f=r.propagationContext,p=r.conversationId;return this._tags=b(b({},this._tags),i),this._attributes=b(b({},this._attributes),a),this._extra=b(b({},this._extra),o),this._contexts=b(b({},this._contexts),u),s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),p&&(this._conversationId=p),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,lt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:st(),sampleRand:ze()}),this._notifyScopeListeners(),this}},{key:"addBreadcrumb",value:function(e,t){var n="number"==typeof t?t:100;if(n<=0)return this;var r,i=b(b({timestamp:et()},e),{},{message:e.message?qe(e.message,2048):e.message});(this._breadcrumbs.push(i),this._breadcrumbs.length>n)&&(this._breadcrumbs=this._breadcrumbs.slice(-n),null===(r=this._client)||void 0===r||r.recordDroppedEvent("buffer_overflow","log_item"));return this._notifyScopeListeners(),this}},{key:"getLastBreadcrumb",value:function(){return this._breadcrumbs[this._breadcrumbs.length-1]}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(e){return this._attachments.push(e),this}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"getScopeData",value:function(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:dt(this),conversationId:this._conversationId}}},{key:"setSDKProcessingMetadata",value:function(e){return this._sdkProcessingMetadata=ot(this._sdkProcessingMetadata,e,2),this}},{key:"setPropagationContext",value:function(e){return this._propagationContext=e,this}},{key:"getPropagationContext",value:function(){return this._propagationContext}},{key:"captureException",value:function(e,t){var n=(null==t?void 0:t.event_id)||$e();if(!this._client)return O&&q.warn("No client configured on scope - will not capture exception!"),n;var r=new Error("Sentry syntheticException");return this._client.captureException(e,b(b({originalException:e,syntheticException:r},t),{},{event_id:n}),this),n}},{key:"captureMessage",value:function(e,t,n){var r,i=(null==n?void 0:n.event_id)||$e();if(!this._client)return O&&q.warn("No client configured on scope - will not capture message!"),i;var a=null!==(r=null==n?void 0:n.syntheticException)&&void 0!==r?r:new Error(e);return this._client.captureMessage(e,t,b(b({originalException:e,syntheticException:a},n),{},{event_id:i}),this),i}},{key:"captureEvent",value:function(e,t){var n=(null==t?void 0:t.event_id)||$e();return this._client?(this._client.captureEvent(e,b(b({},t),{},{event_id:n}),this),n):(O&&q.warn("No client configured on scope - will not capture event!"),n)}},{key:"_notifyScopeListeners",value:function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(t){t(e)}),this._notifyingListeners=!1)}}])}();var pt=function(){return g(function e(t,n){var r,i;m(this,e),r=t||new ft,i=n||new ft,this._stack=[{scope:r}],this._isolationScope=i},[{key:"withScope",value:function(e){var t,n=this,r=this._pushScope();try{t=e(r)}catch(i){throw this._popScope(),i}return ke(t)?t.then(function(e){return n._popScope(),e},function(e){throw n._popScope(),e}):(this._popScope(),t)}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getIsolationScope",value:function(){return this._isolationScope}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"_pushScope",value:function(){var e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}},{key:"_popScope",value:function(){return!(this._stack.length<=1)&&!!this._stack.pop()}}])}();function vt(){var e=P(L());return e.stack=e.stack||new pt(N("defaultCurrentScope",function(){return new ft}),N("defaultIsolationScope",function(){return new ft}))}function ht(e){return vt().withScope(e)}function mt(e,t){var n=vt();return n.withScope(function(){return n.getStackTop().scope=e,t(e)})}function yt(e){return vt().withScope(function(){return e(vt().getIsolationScope())})}function gt(e){var t=P(e);return t.acs?t.acs:{withIsolationScope:yt,withScope:ht,withSetScope:mt,withSetIsolationScope:function(e,t){return yt(t)},getCurrentScope:function(){return vt().getScope()},getIsolationScope:function(){return vt().getIsolationScope()}}}function _t(){return gt(L()).getCurrentScope()}function bt(){return gt(L()).getIsolationScope()}function kt(){for(var e=gt(L()),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(2===n.length){var i=n[0],a=n[1];return i?e.withSetScope(i,a):e.withScope(a)}return e.withScope(n[0])}function St(){return _t().getClient()}var wt="sentry.source",Et="sentry.sample_rate",Tt="sentry.previous_trace_sample_rate",It="sentry.op",xt="sentry.origin",Ct="sentry.idle_span_finish_reason",Rt="sentry.measurement_unit",Mt="sentry.measurement_value",Ot="sentry.custom_span_name",At="sentry.profile_id",Dt="sentry.exclusive_time",Lt="sentry.link.type";function Pt(e,t){e.setAttribute("http.response.status_code",t);var n=function(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"internal_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}var Nt="_sentryScope",Ft="_sentryIsolationScope";function jt(e){if(e){if("object"===C(e)&&"deref"in e&&"function"==typeof e.deref)try{return e.deref()}catch(t){return}return e}}function Bt(e,t,n){e&&(Le(e,Ft,function(e){try{var t=A.WeakRef;if("function"==typeof t)return new t(e)}catch(n){}return e}(n)),Le(e,Nt,t))}function Ut(e){var t=e;return{scope:t[Nt],isolationScope:jt(t[Ft])}}var zt="sentry-",Ht=/^sentry-/;function qt(e){var t=function(e){if(!e||!me(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce(function(e,t){var n=Vt(t);return Object.entries(n).forEach(function(t){var n=p(t,2),r=n[0],i=n[1];e[r]=i}),e},{});return Vt(e)}(e);if(t){var n=Object.entries(t).reduce(function(e,t){var n=p(t,2),r=n[0],i=n[1];r.match(Ht)&&(e[r.slice(7)]=i);return e},{});return Object.keys(n).length>0?n:void 0}}function Wt(e){if(e)return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(function(e,t,n){var r=p(t,2),i=r[0],a=r[1],o="".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(a)),s=0===n?o:"".concat(e,",").concat(o);return s.length>8192?(O&&q.warn("Not adding key: ".concat(i," with val: ").concat(a," to baggage header due to exceeding baggage size limits.")),e):s},"")}(Object.entries(e).reduce(function(e,t){var n=p(t,2),r=n[0],i=n[1];return i&&(e["".concat(zt).concat(r)]=i),e},{}))}function Vt(e){return e.split(",").map(function(e){var t=e.indexOf("=");return-1===t?[]:[e.slice(0,t),e.slice(t+1)].map(function(e){try{return decodeURIComponent(e.trim())}catch(t){return}})}).reduce(function(e,t){var n=p(t,2),r=n[0],i=n[1];return r&&i&&(e[r]=i),e},{})}var Jt=/^o(\d+)\./,$t=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function Kt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.host,r=e.path,i=e.pass,a=e.port,o=e.projectId,s=e.protocol,u=e.publicKey;return"".concat(s,"://").concat(u).concat(t&&i?":".concat(i):"")+"@".concat(n).concat(a?":".concat(a):"","/").concat(r?"".concat(r,"/"):r).concat(o)}function Gt(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Yt(e){var t,n=e.getOptions(),r=(e.getDsn()||{}).host;return n.orgId?t=String(n.orgId):r&&(t=function(e){var t=e.match(Jt);return null==t?void 0:t[1]}(r)),t}function Xt(e){var t="string"==typeof e?function(e){var t=$t.exec(e);if(t){var n=p(t.slice(1),6),r=n[0],i=n[1],a=n[2],o=void 0===a?"":a,s=n[3],u=void 0===s?"":s,c=n[4],l=void 0===c?"":c,d=n[5],f="",v=void 0===d?"":d,h=v.split("/");if(h.length>1&&(f=h.slice(0,-1).join("/"),v=h.pop()),v){var m=v.match(/^\d+/);m&&(v=m[0])}return Gt({host:u,pass:o,path:f,projectId:v,port:l,protocol:r,publicKey:i})}B(function(){})}(e):Gt(e);if(t&&function(e){if(!O)return!0;var t=e.port,n=e.projectId,r=e.protocol;return!(["protocol","publicKey","host","projectId"].find(function(t){return!e[t]&&(q.error("Invalid Sentry Dsn: ".concat(t," missing")),!0)})||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(q.error("Invalid Sentry Dsn: Invalid port ".concat(t)),1):(q.error("Invalid Sentry Dsn: Invalid protocol ".concat(r)),1):(q.error("Invalid Sentry Dsn: Invalid projectId ".concat(n)),1)))}(t))return t}function Qt(e){if("boolean"==typeof e)return Number(e);var t="string"==typeof e?parseFloat(e):e;return"number"!=typeof t||isNaN(t)||t<0||t>1?void 0:t}var Zt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function en(e,t){var n=function(e){if(e){var t,n=e.match(Zt);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}}(e),r=qt(t);if(null==n||!n.traceId)return{traceId:st(),sampleRand:ze()};var i=function(e,t){var n=Qt(null==t?void 0:t.sample_rand);if(void 0!==n)return n;var r=Qt(null==t?void 0:t.sample_rate);return r&&void 0!==(null==e?void 0:e.parentSampled)?e.parentSampled?ze()*r:r+ze()*(1-r):ze()}(n,r);return r&&(r.sample_rand=i.toString()),{traceId:n.traceId,parentSpanId:n.parentSpanId,sampled:n.parentSampled,dsc:r||{},sampleRand:i}}function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut(),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),"".concat(e,"-").concat(t).concat(r)}function nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut(),n=arguments.length>2?arguments[2]:void 0;return"00-".concat(e,"-").concat(t,"-").concat(n?"01":"00")}var rn=!1;function an(e){var t=e.spanContext(),n=t.spanId,r=t.traceId,i=t.isRemote,a=i?n:cn(e).parent_span_id,o=Ut(e).scope;return{parent_span_id:a,span_id:i?(null==o?void 0:o.getPropagationContext().propagationSpanId)||ut():n,trace_id:r}}function on(t){return t&&t.length>0?t.map(function(t){var n=t.context,r=n.spanId,i=n.traceId,a=n.traceFlags,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,e);return b({span_id:r,trace_id:i,sampled:1===a,attributes:t.attributes},o)}):void 0}function sn(e){return"number"==typeof e?un(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?un(e.getTime()):tt()}function un(e){return e>9999999999?e/1e3:e}function cn(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();var t=e.spanContext(),n=t.spanId,r=t.traceId;if(function(e){var t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){var i,a=e.attributes,o=e.startTime,s=e.name,u=e.endTime,c=e.status,l=e.links;return{span_id:n,trace_id:r,data:a,description:s,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?null===(i=e.parentSpanContext)||void 0===i?void 0:i.spanId:void 0,start_timestamp:sn(o),timestamp:sn(u)||void 0,status:dn(c),op:a[It],origin:a[xt],links:on(l)}}return{span_id:n,trace_id:r,start_timestamp:0,data:{}}}function ln(e){return 1===e.spanContext().traceFlags}function dn(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"internal_error"}var fn="_sentryChildSpans",pn="_sentryRootSpan";function vn(e,t){var n=e[pn]||e;Le(t,pn,n),e[fn]?e[fn].add(t):Le(e,fn,new Set([t]))}function hn(e){var t=new Set;return function e(n){if(!t.has(n)&&ln(n)){t.add(n);var r,i=T(n[fn]?Array.from(n[fn]):[]);try{for(i.s();!(r=i.n()).done;){e(r.value)}}catch(a){i.e(a)}finally{i.f()}}}(e),Array.from(t)}function mn(e){return e[pn]||e}function yn(){var e=gt(L());return e.getActiveSpan?e.getActiveSpan():dt(_t())}function gn(){rn||(B(function(){}),rn=!0)}var _n=!1;function bn(e){var t;if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;var n=e||(null===(t=St())||void 0===t?void 0:t.getOptions());return!(!n||null==n.tracesSampleRate&&!n.tracesSampler)}function kn(e){q.log("Ignoring span ".concat(e.op," - ").concat(e.description," because it matches `ignoreSpans`."))}function Sn(e,t){if(null==t||!t.length||!e.description)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(En(i)){if(Ve(e.description,i))return O&&kn(e),!0}else if(i.name||i.op){var a=!i.name||Ve(e.description,i.name),o=!i.op||e.op&&Ve(e.op,i.op);if(a&&o)return O&&kn(e),!0}}}catch(s){r.e(s)}finally{r.f()}return!1}function wn(e,t){var n=t.parent_span_id,r=t.span_id;if(n){var i,a=T(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.parent_span_id===r&&(o.parent_span_id=n)}}catch(s){a.e(s)}finally{a.f()}}}function En(e){return"string"==typeof e||e instanceof RegExp}var Tn="production",In="_frozenDsc";function xn(e,t){Le(e,In,t)}function Cn(e,t){var n=t.getOptions(),r=(t.getDsn()||{}).publicKey,i={environment:n.environment||Tn,release:n.release,public_key:r,trace_id:e,org_id:Yt(t)};return t.emit("createDsc",i),i}function Rn(e,t){var n=t.getPropagationContext();return n.dsc||Cn(n.traceId,e)}function Mn(e){var t,n,r=St();if(!r)return{};var i=mn(e),a=cn(i),o=a.data,s=i.spanContext().traceState,u=null!==(t=null!==(n=null==s?void 0:s.get("sentry.sample_rate"))&&void 0!==n?n:o[Et])&&void 0!==t?t:o[Tt];function c(e){return"number"!=typeof u&&"string"!=typeof u||(e.sample_rate="".concat(u)),e}var l=i[In];if(l)return c(l);var d=null==s?void 0:s.get("sentry.dsc"),f=d&&qt(d);if(f)return c(f);var p,v,h=Cn(e.spanContext().traceId,r),m=o[wt],y=a.description;("url"!==m&&y&&(h.transaction=y),bn())&&(h.sampled=String(ln(i)),h.sample_rand=null!==(p=null==s?void 0:s.get("sentry.sample_rand"))&&void 0!==p?p:null===(v=Ut(i).scope)||void 0===v?void 0:v.getPropagationContext().sampleRand.toString());return c(h),r.emit("createDsc",h,i),h}var On=function(){return g(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,e),this._traceId=t.traceId||st(),this._spanId=t.spanId||ut()},[{key:"spanContext",value:function(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}},{key:"end",value:function(e){}},{key:"setAttribute",value:function(e,t){return this}},{key:"setAttributes",value:function(e){return this}},{key:"setStatus",value:function(e){return this}},{key:"updateName",value:function(e){return this}},{key:"isRecording",value:function(){return!1}},{key:"addEvent",value:function(e,t,n){return this}},{key:"addLink",value:function(e){return this}},{key:"addLinks",value:function(e){return this}},{key:"recordException",value:function(e,t){}}])}();function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return Ln("",e,t,n)}catch(r){return{ERROR:"**non-serializable** (".concat(r,")")}}}function Dn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,i=An(e,n);return t=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(t))>r?Dn(e,n-1,r):i}function Ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){var e=new WeakSet;function t(t){return!!e.has(t)||(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}(),a=p(i,2),o=a[0],s=a[1];if(null==t||["boolean","string"].includes(C(t))||"number"==typeof t&&Number.isFinite(t))return t;var u=function(e,t){try{if("domain"===e&&t&&"object"===C(t)&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(we(t))return Z(t);if(_e(r=t)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return"[".concat(t,"]");if("function"==typeof t)return"[Function: ".concat(X(t),"]");if("symbol"===C(t))return"[".concat(String(t),"]");if("bigint"==typeof t)return"[BigInt: ".concat(String(t),"]");var n=function(e){var t=Object.getPrototypeOf(e);return null!=t&&t.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?"[HTMLElement: ".concat(n,"]"):"[object ".concat(n,"]")}catch(i){return"**non-serializable** (".concat(i,")")}var r}(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;var c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return u.replace("object ","");if(o(t))return"[Circular ~]";var l=t;if(l&&"function"==typeof l.toJSON)try{return Ln("",l.toJSON(),c-1,r,i)}catch(y){}var d=Array.isArray(t)?[]:{},f=0,v=Fe(t);for(var h in v)if(Object.prototype.hasOwnProperty.call(v,h)){if(f>=r){d[h]="[MaxProperties ~]";break}var m=v[h];d[h]=Ln(h,m,c-1,r,i),f++}return s(t),d}function Pn(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function Nn(e,t){var n=p(e,2),r=n[0],i=n[1];return[r,[].concat(w(i),[t])]}function Fn(e,t){var n,r=T(e[1]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i,i[0].type))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function jn(e){var t=P(A);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function Bn(e){var t=p(e,2),n=t[0],r=t[1],i=JSON.stringify(n);function a(e){"string"==typeof i?i="string"==typeof e?i+e:[jn(i),e]:i.push("string"==typeof e?jn(e):e)}var o,s=T(r);try{for(s.s();!(o=s.n()).done;){var u=p(o.value,2),c=u[0],l=u[1];if(a("\n".concat(JSON.stringify(c),"\n")),"string"==typeof l||l instanceof Uint8Array)a(l);else{var d=void 0;try{d=JSON.stringify(l)}catch(f){d=JSON.stringify(An(l))}a(d)}}}catch(v){s.e(v)}finally{s.f()}return"string"==typeof i?i:function(e){var t,n=e.reduce(function(e,t){return e+t.length},0),r=new Uint8Array(n),i=0,a=T(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.set(o,i),i+=o.length}}catch(v){a.e(v)}finally{a.f()}return r}(i)}function Un(e){return[{type:"span"},e]}function zn(e){var t="string"==typeof e.data?jn(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var Hn={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function qn(e){return Hn[e]}function Wn(e){if(null!=e&&e.sdk){var t=e.sdk;return{name:t.name,version:t.version}}}function Vn(e,t,n,r){var i,a=null===(i=e.sdkProcessingMetadata)||void 0===i?void 0:i.dynamicSamplingContext;return b(b(b({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:Kt(r)}),a&&{trace:a})}function Jn(e,t,n,r){var i=Wn(n),a=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){var n,r,i,a;if(!t)return e;var o=e.sdk||{};e.sdk=b(b({},o),{},{name:o.name||t.name,version:o.version||t.version,integrations:[].concat(w((null===(n=e.sdk)||void 0===n?void 0:n.integrations)||[]),w(t.integrations||[])),packages:[].concat(w((null===(r=e.sdk)||void 0===r?void 0:r.packages)||[]),w(t.packages||[])),settings:null!==(i=e.sdk)&&void 0!==i&&i.settings||t.settings?b(b({},null===(a=e.sdk)||void 0===a?void 0:a.settings),t.settings):void 0})}(e,null==n?void 0:n.sdk);var o=Vn(e,i,r,t);return delete e.sdkProcessingMetadata,Pn(o,[[{type:a},e]])}function $n(e){if(e&&0!==e.length){var t={};return e.forEach(function(e){var n=e.attributes||{},r=n[Rt],i=n[Mt];"string"==typeof r&&"number"==typeof i&&(t[e.name]={value:i,unit:r})}),t}}var Kn=function(){return g(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,e),this._traceId=t.traceId||st(),this._spanId=t.spanId||ut(),this._startTime=t.startTimestamp||tt(),this._links=t.links,this._attributes={},this.setAttributes(b(k(k({},xt,"manual"),It,t.op),t.attributes)),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()},[{key:"addLink",value:function(e){return this._links?this._links.push(e):this._links=[e],this}},{key:"addLinks",value:function(e){var t;this._links?(t=this._links).push.apply(t,w(e)):this._links=e;return this}},{key:"recordException",value:function(e,t){}},{key:"spanContext",value:function(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:this._sampled?1:0}}},{key:"setAttribute",value:function(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}},{key:"setAttributes",value:function(e){var t=this;return Object.keys(e).forEach(function(n){return t.setAttribute(n,e[n])}),this}},{key:"updateStartTime",value:function(e){this._startTime=sn(e)}},{key:"setStatus",value:function(e){return this._status=e,this}},{key:"updateName",value:function(e){return this._name=e,this.setAttribute(wt,"custom"),this}},{key:"end",value:function(e){this._endTime||(this._endTime=sn(e),function(e){if(O){var t=cn(e),n=t.description,r=void 0===n?"< unknown name >":n,i=t.op,a=void 0===i?"< unknown op >":i,o=e.spanContext().spanId,s=mn(e)===e,u='[Tracing] Finishing "'.concat(a,'" ').concat(s?"root ":"",'span "').concat(r,'" with ID ').concat(o);q.log(u)}}(this),this._onSpanEnded())}},{key:"getSpanJSON",value:function(){return{data:this._attributes,description:this._name,op:this._attributes[It],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:dn(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[xt],profile_id:this._attributes[At],exclusive_time:this._attributes[Dt],measurements:$n(this._events),is_segment:this._isStandaloneSpan&&mn(this)===this||void 0,segment_id:this._isStandaloneSpan?mn(this).spanContext().spanId:void 0,links:on(this._links)}}},{key:"isRecording",value:function(){return!this._endTime&&!!this._sampled}},{key:"addEvent",value:function(e,t,n){O&&q.log("[Tracing] Adding an event to span:",e);var r=Gn(t)?t:n||tt(),i=Gn(t)?{}:t||{},a={name:e,time:sn(r),attributes:i};return this._events.push(a),this}},{key:"isStandaloneSpan",value:function(){return!!this._isStandaloneSpan}},{key:"_onSpanEnded",value:function(){var e=St();if(e&&e.emit("spanEnd",this),this._isStandaloneSpan||this===mn(this))if(this._isStandaloneSpan)this._sampled?function(e){var t=St();if(!t)return;var n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");t.sendEnvelope(e)}(function(e,t){var n=Mn(e[0]),r=null==t?void 0:t.getDsn(),i=null==t?void 0:t.getOptions().tunnel,a=b(b({sent_at:(new Date).toISOString()},function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n}),!!i&&r&&{dsn:Kt(r)}),o=(null==t?void 0:t.getOptions())||{},s=o.beforeSendSpan,u=o.ignoreSpans,c=null!=u&&u.length?e.filter(function(e){return!Sn(cn(e),u)}):e,l=e.length-c.length;l&&(null==t||t.recordDroppedEvent("before_send","span",l));var d,f=s?function(e){var t=cn(e);return s(t)||(gn(),t)}:cn,p=[],v=T(c);try{for(v.s();!(d=v.n()).done;){var h=f(d.value);h&&p.push(Un(h))}}catch(m){v.e(m)}finally{v.f()}return Pn(a,p)}([this],e)):(O&&q.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));else{var t=this._convertSpanToTransaction();if(t)(Ut(this).scope||_t()).captureEvent(t)}}},{key:"_convertSpanToTransaction",value:function(){var e,t=this;if(Yn(cn(this))){this._name||(O&&q.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");var n=Ut(this),r=n.scope,i=n.isolationScope,a=null==r||null===(e=r.getScopeData().sdkProcessingMetadata)||void 0===e?void 0:e.normalizedRequest;if(!0===this._sampled){var o=hn(this).filter(function(e){return e!==t&&!Xn(e)}),s=o.map(function(e){return cn(e)}).filter(Yn),u=this._attributes[wt];delete this._attributes[Ot],s.forEach(function(e){delete e.data[Ot]});var c,l,d,f,p,v,h,m=b({contexts:{trace:(c=this,l=c.spanContext(),d=l.spanId,f=l.traceId,p=cn(c),v=p.data,h=p.op,{parent_span_id:p.parent_span_id,span_id:d,trace_id:f,data:v,op:h,status:p.status,origin:p.origin,links:p.links})},spans:s.length>1e3?s.sort(function(e,t){return e.start_timestamp-t.start_timestamp}).slice(0,1e3):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:r,capturedSpanIsolationScope:i,dynamicSamplingContext:Mn(this)},request:a},u&&{transaction_info:{source:u}}),y=$n(this._events);return y&&Object.keys(y).length&&(O&&q.log("[Measurements] Adding measurements to transaction event",JSON.stringify(y,void 0,2)),m.measurements=y),m}}}}])}();function Gn(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function Yn(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id)}function Xn(e){return e instanceof Kn&&e.isStandaloneSpan()}function Qn(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};try{n=e()}catch(a){throw t(a),r(),a}return function(e,t,n,r){if(ke(e))return e.then(function(e){return n(),r(e),e},function(e){throw t(e),n(),e});return n(),r(e),e}(n,t,r,i)}var Zn="__SENTRY_SUPPRESS_TRACING__";function er(e,t){var n=ar();if(n.startSpan)return n.startSpan(e,t);var r=ir(e),i=e.forceTransaction,a=e.parentSpan,o=e.scope;return kt(null==o?void 0:o.clone(),function(){var n,o=void 0!==(n=a)?function(e){return nr(n,e)}:function(e){return e()};return o(function(){var n=_t(),o=sr(n,a),s=e.onlyIfParent&&!o?new On:rr({parentSpan:o,spanArguments:r,forceTransaction:i,scope:n});return lt(n,s),Qn(function(){return t(s)},function(){var e=cn(s).status;!s.isRecording()||e&&"ok"!==e||s.setStatus({code:2,message:"internal_error"})},function(){s.end()})})})}function tr(e){var t=ar();if(t.startInactiveSpan)return t.startInactiveSpan(e);var n=ir(e),r=e.forceTransaction,i=e.parentSpan;return(e.scope?function(t){return kt(e.scope,t)}:void 0!==i?function(e){return nr(i,e)}:function(e){return e()})(function(){var t=_t(),a=sr(t,i);return e.onlyIfParent&&!a?new On:rr({parentSpan:a,spanArguments:n,forceTransaction:r,scope:t})})}function nr(e,t){var n=ar();return n.withActiveSpan?n.withActiveSpan(e,t):kt(function(n){return lt(n,e||void 0),t(n)})}function rr(e){var t=e.parentSpan,n=e.spanArguments,r=e.forceTransaction,i=e.scope;if(!bn()){var a=new On;if(r||!t)xn(a,b({sampled:"false",sample_rate:"0",transaction:n.name},Mn(a)));return a}var o,s=bt();if(t&&!r)o=function(e,t,n){var r=e.spanContext(),i=r.spanId,a=r.traceId,o=!t.getScopeData().sdkProcessingMetadata[Zn]&&ln(e),s=o?new Kn(b(b({},n),{},{parentSpanId:i,traceId:a,sampled:o})):new On({traceId:a});vn(e,s);var u=St();u&&(u.emit("spanStart",s),n.endTimestamp&&u.emit("spanEnd",s));return s}(t,i,n),vn(t,o);else if(t){var u=Mn(t),c=t.spanContext(),l=c.traceId,d=c.spanId,f=ln(t);xn(o=or(b({traceId:l,parentSpanId:d},n),i,f),u)}else{var p=b(b({},s.getPropagationContext()),i.getPropagationContext()),v=p.traceId,h=p.dsc,m=p.parentSpanId,y=p.sampled;o=or(b({traceId:v,parentSpanId:m},n),i,y),h&&xn(o,h)}return function(e){if(O){var t=cn(e),n=t.description,r=void 0===n?"< unknown name >":n,i=t.op,a=void 0===i?"< unknown op >":i,o=t.parent_span_id,s=e.spanContext().spanId,u=ln(e),c=mn(e),l=c===e,d="[Tracing] Starting ".concat(u?"sampled":"unsampled"," ").concat(l?"root ":"","span"),f=["op: ".concat(a),"name: ".concat(r),"ID: ".concat(s)];if(o&&f.push("parent ID: ".concat(o)),!l){var p=cn(c),v=p.op,h=p.description;f.push("root ID: ".concat(c.spanContext().spanId)),v&&f.push("root op: ".concat(v)),h&&f.push("root description: ".concat(h))}q.log("".concat(d,"\n  ").concat(f.join("\n  ")))}}(o),Bt(o,i,s),o}function ir(e){var t=b({isStandalone:(e.experimental||{}).standalone},e);if(e.startTime){var n=b({},t);return n.startTimestamp=sn(e.startTime),delete n.startTime,n}return t}function ar(){return gt(L())}function or(e,t,n){var r,i,a=St(),o=(null==a?void 0:a.getOptions())||{},s=e.name,u=void 0===s?"":s,c={spanAttributes:b({},e.attributes),spanName:u,parentSampled:n};null==a||a.emit("beforeSampling",c,{decision:!1});var l=null!==(r=c.parentSampled)&&void 0!==r?r:n,d=c.spanAttributes,f=t.getPropagationContext(),v=t.getScopeData().sdkProcessingMetadata[Zn]?[!1]:function(e,t,n){if(!bn(e))return[!1];var r,i=void 0;"function"==typeof e.tracesSampler?(r=e.tracesSampler(b(b({},t),{},{inheritOrSampleWith:function(e){return"number"==typeof t.parentSampleRate?t.parentSampleRate:"boolean"==typeof t.parentSampled?Number(t.parentSampled):e}})),i=!0):void 0!==t.parentSampled?r=t.parentSampled:void 0!==e.tracesSampleRate&&(r=e.tracesSampleRate,i=!0);var a=Qt(r);if(void 0===a)return O&&q.warn("[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(r)," of type ").concat(JSON.stringify(C(r)),".")),[!1];if(!a)return O&&q.log("[Tracing] Discarding transaction because ".concat("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,a,i];var o=n<a;return o||O&&q.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(r),")")),[o,a,i]}(o,{name:u,parentSampled:l,attributes:d,parentSampleRate:Qt(null===(i=f.dsc)||void 0===i?void 0:i.sample_rate)},f.sampleRand),h=p(v,3),m=h[0],y=h[1],g=h[2],_=new Kn(b(b({},e),{},{attributes:b(k(k({},wt,"custom"),Et,void 0!==y&&g?y:void 0),d),sampled:m}));return!m&&a&&(O&&q.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),a.recordDroppedEvent("sample_rate","transaction")),a&&a.emit("spanStart",_),_}function sr(e,t){if(t)return t;if(null!==t){var n=dt(e);if(n){var r=St();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?mn(n):n}}}var ur={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function cr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Map,i=!1,a="externalFinish",o=!n.disableAutoFinish,s=[],u=n.idleTimeout,c=void 0===u?ur.idleTimeout:u,l=n.finalTimeout,d=void 0===l?ur.finalTimeout:l,f=n.childSpanTimeout,p=void 0===f?ur.childSpanTimeout:f,m=n.beforeSpanEnd,y=n.trimIdleSpanEndTimestamp,g=void 0===y||y,_=St();if(!_||!bn()){var k=new On;return xn(k,b({sample_rate:"0",sampled:"false"},Mn(k))),k}var S=_t(),T=yn(),C=function(e){var t=tr(e);return lt(_t(),t),O&&q.log("[Tracing] Started span is an idle span"),t}(e);function R(){t&&(clearTimeout(t),t=void 0)}function M(e){R(),t=setTimeout(function(){!i&&0===r.size&&o&&(a="idleTimeout",C.end(e))},c)}function A(e){t=setTimeout(function(){!i&&o&&(a="heartbeatFailed",C.end(e))},p)}function D(e){i=!0,r.clear(),s.forEach(function(e){return e()}),lt(S,T);var t=cn(C);if(t.start_timestamp){t.data[Ct]||C.setAttribute(Ct,a);var n=t.status;n&&"unknown"!==n||C.setStatus({code:1}),q.log('[Tracing] Idle span "'.concat(t.op,'" finished'));var o=hn(C).filter(function(e){return e!==C}),u=0;o.forEach(function(t){t.isRecording()&&(t.setStatus({code:2,message:"cancelled"}),t.end(e),O&&q.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));var n=cn(t),r=n.timestamp,i=void 0===r?0:r,a=n.start_timestamp,o=void 0===a?0:a,s=o<=e,l=i-o<=(d+c)/1e3;if(O){var f=JSON.stringify(t,void 0,2);s?l||q.log("[Tracing] Discarding span since it finished after idle span final timeout",f):q.log("[Tracing] Discarding span since it happened after idle span was finished",f)}l&&s||(!function(e,t){e[fn]&&e[fn].delete(t)}(C,t),u++)}),u>0&&C.setAttribute("sentry.idle_span_discarded_spans",u)}}return C.end=new Proxy(C.end,{apply:function(e,t,n){if(m&&m(C),!(t instanceof On)){var r=function(e){return h(e)||E(e)||I(e)||v()}(n),i=r[0],a=x(r).slice(1),o=sn(i||tt()),s=hn(C).filter(function(e){return e!==C}),u=cn(C);if(!s.length||!g)return D(o),Reflect.apply(e,t,[o].concat(w(a)));var c=_.getOptions().ignoreSpans,l=null==s?void 0:s.reduce(function(e,t){var n=cn(t);return n.timestamp?c&&Sn(n,c)?e:e?Math.max(e,n.timestamp):n.timestamp:e},void 0),f=u.start_timestamp,p=Math.min(f?f+d/1e3:1/0,Math.max(f||-1/0,Math.min(o,l||1/0)));return D(p),Reflect.apply(e,t,[p].concat(w(a)))}}}),s.push(_.on("spanStart",function(e){var t;i||e===C||cn(e).timestamp||e instanceof Kn&&e.isStandaloneSpan()||hn(C).includes(e)&&(t=e.spanContext().spanId,R(),r.set(t,!0),A(tt()+p/1e3))})),s.push(_.on("spanEnd",function(e){var t;i||(t=e.spanContext().spanId,r.has(t)&&r.delete(t),0===r.size&&M(tt()+c/1e3))})),s.push(_.on("idleSpanEnableAutoFinish",function(e){e===C&&(o=!0,M(),r.size&&A())})),n.disableAutoFinish||M(),setTimeout(function(){i||(C.setStatus({code:2,message:"deadline_exceeded"}),a="finalTimeout",C.end())},d),C}function lr(e){return new mr(function(t){t(e)})}function dr(e){return new mr(function(t,n){n(e)})}var fr,pr,vr,hr,mr=function(){function e(t){m(this,e),this._state=0,this._handlers=[],this._runExecutor(t)}return g(e,[{key:"then",value:function(t,n){var r=this;return new e(function(e,i){r._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(r){i(r)}else e(n)},function(t){if(n)try{e(n(t))}catch(r){i(r)}else i(t)}]),r._executeHandlers()})}},{key:"catch",value:function(e){return this.then(function(e){return e},e)}},{key:"finally",value:function(t){var n=this;return new e(function(e,r){var i,a;return n.then(function(e){a=!1,i=e,t&&t()},function(e){a=!0,i=e,t&&t()}).then(function(){a?r(i):e(i)})})}},{key:"_executeHandlers",value:function(){var e=this;if(0!==this._state){var t=this._handlers.slice();this._handlers=[],t.forEach(function(t){t[0]||(1===e._state&&t[1](e._value),2===e._state&&t[2](e._value),t[0]=!0)})}}},{key:"_runExecutor",value:function(e){var t=this,n=function(e,n){0===t._state&&(ke(n)?n.then(r,i):(t._state=e,t._value=n,t._executeHandlers()))},r=function(e){n(1,e)},i=function(e){n(2,e)};try{e(r,i)}catch(a){i(a)}}}])}();function yr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;try{var i=gr(t,n,e,r);return ke(i)?i:lr(i)}catch(a){return dr(a)}}function gr(e,t,n,r){var i=n[r];if(!e||!i)return e;var a=i(b({},e),t);return O&&null===a&&q.log('Event processor "'.concat(i.id||"?",'" dropped event')),ke(a)?a.then(function(e){return gr(e,t,n,r+1)}):gr(a,t,n,r+1)}function _r(e,t){var n=t.fingerprint,r=t.span,i=t.breadcrumbs,a=t.sdkProcessingMetadata;!function(e,t){var n=t.extra,r=t.tags,i=t.user,a=t.contexts,o=t.level,s=t.transactionName;Object.keys(n).length&&(e.extra=b(b({},n),e.extra));Object.keys(r).length&&(e.tags=b(b({},r),e.tags));Object.keys(i).length&&(e.user=b(b({},i),e.user));Object.keys(a).length&&(e.contexts=b(b({},a),e.contexts));o&&(e.level=o);s&&"transaction"!==e.type&&(e.transaction=s)}(e,t),r&&function(e,t){e.contexts=b({trace:an(t)},e.contexts),e.sdkProcessingMetadata=b({dynamicSamplingContext:Mn(t)},e.sdkProcessingMetadata);var n=mn(t),r=cn(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){var n=[].concat(w(e.breadcrumbs||[]),w(t));e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata=b(b({},e.sdkProcessingMetadata),t)}(e,a)}function br(e,t){var n=t.extra,r=t.tags,i=t.attributes,a=t.user,o=t.contexts,s=t.level,u=t.sdkProcessingMetadata,c=t.breadcrumbs,l=t.fingerprint,d=t.eventProcessors,f=t.attachments,p=t.propagationContext,v=t.transactionName,h=t.span;kr(e,"extra",n),kr(e,"tags",r),kr(e,"attributes",i),kr(e,"user",a),kr(e,"contexts",o),e.sdkProcessingMetadata=ot(e.sdkProcessingMetadata,u,2),s&&(e.level=s),v&&(e.transactionName=v),h&&(e.span=h),c.length&&(e.breadcrumbs=[].concat(w(e.breadcrumbs),w(c))),l.length&&(e.fingerprint=[].concat(w(e.fingerprint),w(l))),d.length&&(e.eventProcessors=[].concat(w(e.eventProcessors),w(d))),f.length&&(e.attachments=[].concat(w(e.attachments),w(f))),e.propagationContext=b(b({},e.propagationContext),p)}function kr(e,t,n){e[t]=ot(e[t],n,1)}function Sr(e,t){var n=N("globalScope",function(){return new ft}).getScopeData();return e&&br(n,e.getScopeData()),t&&br(n,t.getScopeData()),n}function wr(e,t,n,r,i,a){var o=e.normalizeDepth,s=void 0===o?3:o,u=e.normalizeMaxBreadth,c=void 0===u?1e3:u,l=b(b({},t),{},{event_id:t.event_id||n.event_id||$e(),timestamp:t.timestamp||et()}),d=n.integrations||e.integrations.map(function(e){return e.name});!function(e,t){var n=t.environment,r=t.release,i=t.dist,a=t.maxValueLength;e.environment=e.environment||n||Tn,!e.release&&r&&(e.release=r);!e.dist&&i&&(e.dist=i);var o,s=e.request;null!=s&&s.url&&a&&(s.url=qe(s.url,a));a&&(null===(o=e.exception)||void 0===o||null===(o=o.values)||void 0===o||o.forEach(function(e){e.value&&(e.value=qe(e.value,a))}))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[].concat(w(e.sdk.integrations||[]),w(t)))}(l,d),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){var n,r=function(e){var t=A._sentryDebugIds,n=A._debugIds;if(!t&&!n)return{};var r=t?Object.keys(t):[],i=n?Object.keys(n):[];if(hr&&r.length===pr&&i.length===vr)return hr;pr=r.length,vr=i.length,hr={},fr||(fr={});var a=function(t,n){var r,i=T(t);try{for(i.s();!(r=i.n()).done;){var a,o=r.value,s=n[o],u=null===(a=fr)||void 0===a?void 0:a[o];if(u&&hr&&s)hr[u[0]]=s,fr&&(fr[o]=[u[0],s]);else if(s)for(var c=e(o),l=c.length-1;l>=0;l--){var d=c[l],f=null==d?void 0:d.filename;if(f&&hr&&fr){hr[f]=s,fr[o]=[f,s];break}}}}catch(p){i.e(p)}finally{i.f()}};return t&&a(r,t),n&&a(i,n),hr}(t);null===(n=e.exception)||void 0===n||null===(n=n.values)||void 0===n||n.forEach(function(e){var t;null===(t=e.stacktrace)||void 0===t||null===(t=t.frames)||void 0===t||t.forEach(function(e){e.filename&&(e.debug_id=r[e.filename])})})}(l,e.stackParser);var f=function(e,t){if(!t)return e;var n=e?e.clone():new ft;return n.update(t),n}(r,n.captureContext);n.mechanism&&Xe(l,n.mechanism);var v=i?i.getEventProcessors():[],h=Sr(a,f),m=[].concat(w(n.attachments||[]),w(h.attachments));return m.length&&(n.attachments=m),_r(l,h),yr([].concat(w(v),w(h.eventProcessors)),l,n).then(function(e){return e&&function(e){var t,n={};if(null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||t.forEach(function(e){var t;null===(t=e.stacktrace)||void 0===t||null===(t=t.frames)||void 0===t||t.forEach(function(e){e.debug_id&&(e.abs_path?n[e.abs_path]=e.debug_id:e.filename&&(n[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(n).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];var r=e.debug_meta.images;Object.entries(n).forEach(function(e){var t=p(e,2),n=t[0],i=t[1];r.push({type:"sourcemap",code_file:n,debug_id:i})})}(e),"number"==typeof s&&s>0?function(e,t,n){var r,i;if(!e)return null;var a=b(b(b(b(b({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(e){return b(b({},e),e.data&&{data:An(e.data,t,n)})})}),e.user&&{user:An(e.user,t,n)}),e.contexts&&{contexts:An(e.contexts,t,n)}),e.extra&&{extra:An(e.extra,t,n)});null!==(r=e.contexts)&&void 0!==r&&r.trace&&a.contexts&&(a.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(a.contexts.trace.data=An(e.contexts.trace.data,t,n)));e.spans&&(a.spans=e.spans.map(function(e){return b(b({},e),e.data&&{data:An(e.data,t,n)})}));null!==(i=e.contexts)&&void 0!==i&&i.flags&&a.contexts&&(a.contexts.flags=An(e.contexts.flags,3,n));return a}(e,s,c):e})}function Er(e){if(e)return function(e){return e instanceof ft||"function"==typeof e}(e)||function(e){return Object.keys(e).some(function(e){return Tr.includes(e)})}(e)?{captureContext:e}:e}var Tr=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Ir(e,t){return _t().captureException(e,Er(t))}function xr(e,t){return _t().captureEvent(e,t)}function Cr(e,t){bt().setContext(e,t)}function Rr(e){var t=bt(),n=_t(),r=(A.navigator||{}).userAgent,i=it(b(b({user:n.getUser()||t.getUser()},r&&{userAgent:r}),e)),a=t.getSession();return"ok"===(null==a?void 0:a.status)&&at(a,{status:"exited"}),Mr(),t.setSession(i),i}function Mr(){var e=bt(),t=_t().getSession()||e.getSession();t&&function(e){var t={};"ok"===e.status&&(t={status:"exited"}),at(e,t)}(t),Or(),e.setSession()}function Or(){var e=bt(),t=St(),n=e.getSession();n&&t&&t.captureSession(n)}function Ar(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Mr():Or()}function Dr(e){var t=e.protocol?"".concat(e.protocol,":"):"",n=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(n).concat(e.path?"/".concat(e.path):"","/api/")}function Lr(e,t,n){return t||"".concat(function(e){return"".concat(Dr(e)).concat(e.projectId,"/envelope/")}(e),"?").concat(function(e,t){var n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client="".concat(t.name,"/").concat(t.version)),new URLSearchParams(n).toString()}(e,n))}var Pr=[];function Nr(e){var t,n=e.defaultIntegrations||[],r=e.integrations;if(n.forEach(function(e){e.isDefaultInstance=!0}),Array.isArray(r))t=[].concat(w(n),w(r));else if("function"==typeof r){var i=r(n);t=Array.isArray(i)?i:[i]}else t=n;return function(e){var t={};return e.forEach(function(e){var n=e.name,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.values(t)}(t)}function Fr(e,t){var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;null!=i&&i.afterAllSetup&&i.afterAllSetup(e)}}catch(a){r.e(a)}finally{r.f()}}function jr(e,t,n){if(n[t.name])O&&q.log("Integration skipped because it was already installed: ".concat(t.name));else{if(n[t.name]=t,Pr.includes(t.name)||"function"!=typeof t.setupOnce||(t.setupOnce(),Pr.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){var r=t.preprocessEvent.bind(t);e.on("preprocessEvent",function(t,n){return r(t,n,e)})}if("function"==typeof t.processEvent){var i=t.processEvent.bind(t),a=Object.assign(function(t,n){return i(t,n,e)},{id:t.name});e.addEventProcessor(a)}O&&q.log("Integration installed: ".concat(t.name))}}function Br(e,t){var n,r=null!==(n=null!=t?t:function(e){return Ur().get(e)}(e))&&void 0!==n?n:[];if(0!==r.length){var i,a,o,s,u,c,l=e.getOptions(),d=(i=r,a=l._metadata,o=l.tunnel,s=e.getDsn(),c={},null!=a&&a.sdk&&(c.sdk={name:a.sdk.name,version:a.sdk.version}),o&&s&&(c.dsn=Kt(s)),Pn(c,[(u=i,[{type:"log",item_count:u.length,content_type:"application/vnd.sentry.items.log+json"},{items:u}])]));Ur().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(d)}}function Ur(){return N("clientToLogBufferMap",function(){return new WeakMap})}function zr(e,t){var n,r=null!==(n=null!=t?t:function(e){return Hr().get(e)}(e))&&void 0!==n?n:[];if(0!==r.length){var i,a,o,s,u,c,l=e.getOptions(),d=(i=r,a=l._metadata,o=l.tunnel,s=e.getDsn(),c={},null!=a&&a.sdk&&(c.sdk={name:a.sdk.name,version:a.sdk.version}),o&&s&&(c.dsn=Kt(s)),Pn(c,[(u=i,[{type:"trace_metric",item_count:u.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:u}])]));Hr().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(d)}}function Hr(){return N("clientToMetricBufferMap",function(){return new WeakMap})}var qr=Symbol.for("SentryBufferFullError");function Wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=new Set;function n(e){t.delete(e)}return{get $(){return Array.from(t)},add:function(r){if(!(t.size<e))return dr(qr);var i=r();return t.add(i),i.then(function(){return n(i)},function(){return n(i)}),i},drain:function(e){if(!t.size)return lr(!0);var n=Promise.allSettled(Array.from(t)).then(function(){return!0});if(!e)return n;var r=[n,new Promise(function(t){return setTimeout(function(){return t(!1)},e)})];return Promise.race(r)}}}var Vr=6e4;function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:He();return function(e,t){return e[t]||e.all||0}(e,t)>n}function $r(e,t){var n=t.statusCode,r=t.headers,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:He(),a=b({},e),o=null==r?void 0:r["x-sentry-rate-limits"],s=null==r?void 0:r["retry-after"];if(o){var u,c=T(o.trim().split(","));try{for(c.s();!(u=c.n()).done;){var l=p(u.value.split(":",5),5),d=l[0],f=l[1],v=l[4],h=parseInt(d,10),m=1e3*(isNaN(h)?60:h);if(f){var y,g=T(f.split(";"));try{for(g.s();!(y=g.n()).done;){var _=y.value;"metric_bucket"===_&&v&&!v.split(";").includes("custom")||(a[_]=i+m)}}catch(k){g.e(k)}finally{g.f()}}else a.all=i+m}}catch(k){c.e(k)}finally{c.f()}}else s?a.all=i+function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He(),n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;var r=Date.parse("".concat(e));return isNaN(r)?Vr:r-t}(s,i):429===n&&(a.all=i+6e4);return a}var Kr=64;function Gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wr(e.bufferSize||Kr),r={};return{send:function(i){var a=[];if(Fn(i,function(t,n){var i=qn(n);Jr(r,i)?e.recordDroppedEvent("ratelimit_backoff",i):a.push(t)}),0===a.length)return Promise.resolve({});var o=Pn(i[0],a),s=function(t){!function(e,t){return Fn(e,function(e,n){return t.includes(n)})}(o,["client_report"])?Fn(o,function(n,r){e.recordDroppedEvent(t,qn(r))}):O&&q.warn("Dropping client report. Will not send outcomes (reason: ".concat(t,")."))};return n.add(function(){return t({body:Bn(o)}).then(function(e){return void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&O&&q.warn("Sentry responded with status code ".concat(e.statusCode," to sent event.")),r=$r(r,e),e},function(e){throw s("network_error"),O&&q.error("Encountered error running transport request:",e),e})}).then(function(e){return e},function(e){if(e===qr)return O&&q.error("Skipped sending event because buffer is full."),s("queue_overflow"),Promise.resolve({});throw e})},flush:function(e){return n.drain(e)}}}function Yr(e){var t=[];e.message&&t.push(e.message);try{var n=e.exception.values[e.exception.values.length-1];null!=n&&n.value&&(t.push(n.value),n.type&&t.push("".concat(n.type,": ").concat(n.value)))}catch(r){}return t}var Xr="Not capturing exception because it's already been captured.",Qr="Discarded session because of missing or non-string release",Zr=Symbol.for("SentryInternalError"),ei=Symbol.for("SentryDoNotSendEventError");function ti(e){return k({message:e},Zr,!0)}function ni(e){return k({message:e},ei,!0)}function ri(e){return!!e&&"object"===C(e)&&Zr in e}function ii(e){return!!e&&"object"===C(e)&&ei in e}function ai(e,t,n,r,i){var a,o=0,s=!1;e.on(n,function(){o=0,clearTimeout(a),s=!1}),e.on(t,function(t){(o+=r(t))>=8e5?i(e):s||(s=!0,a=setTimeout(function(){i(e)},5e3))}),e.on("flush",function(){i(e)})}var oi=function(){return g(function e(t){var n,r,i,a,o,s,u;if(m(this,e),this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Wr(null!==(n=null===(r=t.transportOptions)||void 0===r?void 0:r.bufferSize)&&void 0!==n?n:Kr),t.dsn?this._dsn=Xt(t.dsn):O&&q.warn("No DSN provided, client will not send events."),this._dsn){var c=Lr(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport(b(b({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{},{url:c}))}this._options.enableLogs=null!==(i=this._options.enableLogs)&&void 0!==i?i:null===(a=this._options._experiments)||void 0===a?void 0:a.enableLogs,this._options.enableLogs&&ai(this,"afterCaptureLog","flushLogs",di,Br),(null===(o=null!==(s=this._options.enableMetrics)&&void 0!==s?s:null===(u=this._options._experiments)||void 0===u?void 0:u.enableMetrics)||void 0===o||o)&&ai(this,"afterCaptureMetric","flushMetrics",li,zr)},[{key:"captureException",value:function(e,t,n){var r=this,i=$e();if(Qe(e))return O&&q.log(Xr),i;var a=b({event_id:i},t);return this._process(function(){return r.eventFromException(e,a).then(function(e){return r._captureEvent(e,a,n)}).then(function(e){return e})},"error"),a.event_id}},{key:"captureMessage",value:function(e,t,n,r){var i=this,a=b({event_id:$e()},n),o=ye(e)?e:String(e),s=ge(e),u=s?this.eventFromMessage(o,t,a):this.eventFromException(e,a);return this._process(function(){return u.then(function(e){return i._captureEvent(e,a,r)})},s?"unknown":"error"),a.event_id}},{key:"captureEvent",value:function(e,t,n){var r=this,i=$e();if(null!=t&&t.originalException&&Qe(t.originalException))return O&&q.log(Xr),i;var a=b({event_id:i},t),o=e.sdkProcessingMetadata||{},s=o.capturedSpanScope,u=o.capturedSpanIsolationScope,c=si(e.type);return this._process(function(){return r._captureEvent(e,a,s||n,u)},c),a.event_id}},{key:"captureSession",value:function(e){this.sendSession(e),at(e,{init:!1})}},{key:"getDsn",value:function(){return this._dsn}},{key:"getOptions",value:function(){return this._options}},{key:"getSdkMetadata",value:function(){return this._options._metadata}},{key:"getTransport",value:function(){return this._transport}},{key:"flush",value:(r=f(c().m(function e(t){var n,r,i;return c().w(function(e){for(;;)switch(e.n){case 0:if(n=this._transport){e.n=1;break}return e.a(2,!0);case 1:return this.emit("flush"),e.n=2,this._isClientDoneProcessing(t);case 2:return r=e.v,e.n=3,n.flush(t);case 3:return i=e.v,e.a(2,r&&i)}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"close",value:(n=f(c().m(function e(t){var n;return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.flush(t);case 1:return n=e.v,this.getOptions().enabled=!1,this.emit("close"),e.a(2,n)}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getEventProcessors",value:function(){return this._eventProcessors}},{key:"addEventProcessor",value:function(e){this._eventProcessors.push(e)}},{key:"init",value:function(){(this._isEnabled()||this._options.integrations.some(function(e){return e.name.startsWith("Spotlight")}))&&this._setupIntegrations()}},{key:"getIntegrationByName",value:function(e){return this._integrations[e]}},{key:"addIntegration",value:function(e){var t=this._integrations[e.name];jr(this,e,this._integrations),t||Fr(this,[e])}},{key:"sendEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,n);var r,i=Jn(e,this._dsn,this._options._metadata,this._options.tunnel),a=T(n.attachments||[]);try{for(a.s();!(r=a.n()).done;){i=Nn(i,zn(r.value))}}catch(o){a.e(o)}finally{a.f()}this.sendEnvelope(i).then(function(n){return t.emit("afterSendEvent",e,n)})}},{key:"sendSession",value:function(e){var t=this._options,n=t.release,r=t.environment,i=void 0===r?Tn:r;if("aggregates"in e){var a=e.attrs||{};if(!a.release&&!n)return void(O&&q.warn(Qr));a.release=a.release||n,a.environment=a.environment||i,e.attrs=a}else{if(!e.release&&!n)return void(O&&q.warn(Qr));e.release=e.release||n,e.environment=e.environment||i}this.emit("beforeSendSession",e);var o=function(e,t,n,r){var i=Wn(n);return Pn(b(b({sent_at:(new Date).toISOString()},i&&{sdk:i}),!!r&&t&&{dsn:Kt(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}},{key:"recordDroppedEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this._options.sendClientReports){var r="".concat(e,":").concat(t);O&&q.log('Recording outcome: "'.concat(r,'"').concat(n>1?" (".concat(n," times)"):"")),this._outcomes[r]=(this._outcomes[r]||0)+n}}},{key:"on",value:function(e,t){var n=this._hooks[e]=this._hooks[e]||new Set,r=function(){return t.apply(void 0,arguments)};return n.add(r),function(){n.delete(r)}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this._hooks[e];i&&i.forEach(function(e){return e.apply(void 0,n)})}},{key:"sendEnvelope",value:(t=f(c().m(function e(t){var n;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.emit("beforeEnvelope",t),!this._isEnabled()||!this._transport){e.n=4;break}return e.p=1,e.n=2,this._transport.send(t);case 2:return e.a(2,e.v);case 3:return e.p=3,n=e.v,O&&q.error("Error while sending envelope:",n),e.a(2,{});case 4:return O&&q.error("Transport disabled"),e.a(2,{})}},e,this,[[1,3]])})),function(e){return t.apply(this,arguments)})},{key:"_setupIntegrations",value:function(){var e=this._options.integrations;this._integrations=function(e,t){var n={};return t.forEach(function(t){t&&jr(e,t,n)}),n}(this,e),Fr(this,e)}},{key:"_updateSessionFromEvent",value:function(e,t){var n,r="fatal"===t.level,i=!1,a=null===(n=t.exception)||void 0===n?void 0:n.values;if(a){i=!0,r=!1;var o,s=T(a);try{for(s.s();!(o=s.n()).done;){var u;if(!1===(null===(u=o.value.mechanism)||void 0===u?void 0:u.handled)){r=!0;break}}}catch(l){s.e(l)}finally{s.f()}}var c="ok"===e.status;(c&&0===e.errors||c&&r)&&(at(e,b(b({},r&&{status:"crashed"}),{},{errors:e.errors||Number(i||r)})),this.captureSession(e))}},{key:"_isClientDoneProcessing",value:(e=f(c().m(function e(t){var n;return c().w(function(e){for(;;)switch(e.n){case 0:n=0;case 1:if(t&&!(n<t)){e.n=4;break}return e.n=2,new Promise(function(e){return setTimeout(e,1)});case 2:if(this._numProcessing){e.n=3;break}return e.a(2,!0);case 3:n++,e.n=1;break;case 4:return e.a(2,!1)}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"_isEnabled",value:function(){return!1!==this.getOptions().enabled&&void 0!==this._transport}},{key:"_prepareEvent",value:function(e,t,n,r){var i=this,a=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&null!=o&&o.length&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),wr(a,e,t,n,this,r).then(function(e){if(null===e)return e;var r,a,o,s,u;i.emit("postprocessEvent",e,t),e.contexts=b({trace:(r=n,a=r.getPropagationContext(),o=a.traceId,s=a.parentSpanId,u={trace_id:o,span_id:a.propagationSpanId||ut()},s&&(u.parent_span_id=s),u)},e.contexts);var c=Rn(i,n);return e.sdkProcessingMetadata=b({dynamicSamplingContext:c},e.sdkProcessingMetadata),e})}},{key:"_captureEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_t(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bt();return O&&ui(e)&&q.log("Captured error event `".concat(Yr(e)[0]||"<unknown>","`")),this._processEvent(e,t,n,r).then(function(e){return e.event_id},function(e){O&&(ii(e)?q.log(e.message):ri(e)?q.warn(e.message):q.warn(e))})}},{key:"_processEvent",value:function(e,t,n,r){var i=this,a=this.getOptions(),o=a.sampleRate,s=ci(e),u=ui(e),c=e.type||"error",l="before send for type `".concat(c,"`"),d=void 0===o?void 0:Qt(o);if(u&&"number"==typeof d&&ze()>d)return this.recordDroppedEvent("sample_rate","error"),dr(ni("Discarding event because it's not included in the random sample (sampling rate = ".concat(o,")")));var f=si(e.type);return this._prepareEvent(e,t,n,r).then(function(e){if(null===e)throw i.recordDroppedEvent("event_processor",f),ni("An event processor returned `null`, will not send event.");if(t.data&&!0===t.data.__sentry__)return e;var n=function(e,t,n,r){var i=t.beforeSend,a=t.beforeSendTransaction,o=t.beforeSendSpan,s=t.ignoreSpans,u=n;if(ui(u)&&i)return i(u,r);if(ci(u)){if(o||s){var c=function(e){var t,n,r,i=null!==(t=null===(n=e.contexts)||void 0===n?void 0:n.trace)&&void 0!==t?t:{},a=i.trace_id,o=i.parent_span_id,s=i.span_id,u=i.status,c=i.origin,l=i.data,d=i.op;return{data:null!=l?l:{},description:e.transaction,op:d,parent_span_id:o,span_id:null!=s?s:"",start_timestamp:null!==(r=e.start_timestamp)&&void 0!==r?r:0,status:u,timestamp:e.timestamp,trace_id:null!=a?a:"",origin:c,profile_id:null==l?void 0:l[At],exclusive_time:null==l?void 0:l[Dt],measurements:e.measurements,is_segment:!0}}(u);if(null!=s&&s.length&&Sn(c,s))return null;if(o){var l=o(c);l?u=ot(n,function(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:b(b(b({},e.data),e.profile_id&&k({},At,e.profile_id)),e.exclusive_time&&k({},Dt,e.exclusive_time))}},measurements:e.measurements}}(l)):gn()}if(u.spans){var d,f=[],p=u.spans,v=T(p);try{for(v.s();!(d=v.n()).done;){var h=d.value;if(null!=s&&s.length&&Sn(h,s))wn(p,h);else if(o){var m=o(h);m?f.push(m):(gn(),f.push(h))}else f.push(h)}}catch(_){v.e(_)}finally{v.f()}var y=u.spans.length-f.length;y&&e.recordDroppedEvent("before_send","span",y),u.spans=f}}if(a){if(u.spans){var g=u.spans.length;u.sdkProcessingMetadata=b(b({},n.sdkProcessingMetadata),{},{spanCountBeforeProcessing:g})}return a(u,r)}}return u}(i,a,e,t);return function(e,t){var n="".concat(t," must return `null` or a valid event.");if(ke(e))return e.then(function(e){if(!_e(e)&&null!==e)throw ti(n);return e},function(e){throw ti("".concat(t," rejected with ").concat(e))});if(!_e(e)&&null!==e)throw ti(n);return e}(n,l)}).then(function(a){if(null===a){if(i.recordDroppedEvent("before_send",f),s){var o=1+(e.spans||[]).length;i.recordDroppedEvent("before_send","span",o)}throw ni("".concat(l," returned `null`, will not send event."))}var c=n.getSession()||r.getSession();if(u&&c&&i._updateSessionFromEvent(c,a),s){var d,p=((null===(d=a.sdkProcessingMetadata)||void 0===d?void 0:d.spanCountBeforeProcessing)||0)-(a.spans?a.spans.length:0);p>0&&i.recordDroppedEvent("before_send","span",p)}var v=a.transaction_info;if(s&&v&&a.transaction!==e.transaction){a.transaction_info=b(b({},v),{},{source:"custom"})}return i.sendEvent(a,t),a}).then(null,function(e){if(ii(e)||ri(e))throw e;throw i.captureException(e,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:e}),ti("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))})}},{key:"_process",value:function(e,t){var n=this;this._numProcessing++,this._promiseBuffer.add(e).then(function(e){return n._numProcessing--,e},function(e){return n._numProcessing--,e===qr&&n.recordDroppedEvent("queue_overflow",t),e})}},{key:"_clearOutcomes",value:function(){var e=this._outcomes;return this._outcomes={},Object.entries(e).map(function(e){var t=p(e,2),n=t[0],r=t[1],i=p(n.split(":"),2);return{reason:i[0],category:i[1],quantity:r}})}},{key:"_flushOutcomes",value:function(){O&&q.log("Flushing outcomes...");var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){O&&q.log("Sending outcomes:",e);var t,n,r=(t=e,Pn((n=this._options.tunnel&&Kt(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:et(),discarded_events:t}]]));this.sendEnvelope(r)}else O&&q.log("No dsn provided, will not send outcomes");else O&&q.log("No outcomes to send")}}]);var e,t,n,r}();function si(e){return"replay_event"===e?"replay":e||"error"}function ui(e){return void 0===e.type}function ci(e){return"transaction"===e.type}function li(e){var t=0;return e.name&&(t+=2*e.name.length),(t+=8)+fi(e.attributes)}function di(e){var t=0;return e.message&&(t+=2*e.message.length),t+fi(e.attributes)}function fi(e){if(!e)return 0;var t=0;return Object.values(e).forEach(function(e){Array.isArray(e)?t+=e.length*pi(e[0]):ge(e)?t+=pi(e):t+=100}),t}function pi(e){return"string"==typeof e?2*e.length:"number"==typeof e?8:"boolean"==typeof e?4:0}function vi(e){return function(e){return fe(e)&&"__sentry_fetch_url_host__"in e&&"string"==typeof e.__sentry_fetch_url_host__}(e)?"".concat(e.message," (").concat(e.__sentry_fetch_url_host__,")"):e.message}function hi(e,t){!0===t.debug&&(O?q.enable():B(function(){})),_t().update(t.initialScope);var n=new e(t);return function(e){_t().setClient(e)}(n),n.init(),n}function mi(e){return"isRelative"in e}function yi(e,t){var n=e.indexOf("://")<=0&&0!==e.indexOf("//"),r=n?"thismessage:/":void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;var i=new URL(e,r);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch(a){}}function gi(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function _i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.startsWith("data:")){var n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",i=e.includes(";base64,"),a=e.indexOf(","),o="";if(t&&-1!==a){var s=e.slice(a+1);o=s.length>10?"".concat(s.slice(0,10),"... [truncated]"):s}return"data:".concat(r).concat(i?",base64":"").concat(o?",".concat(o):"")}return e}function bi(e,t){var n=null==t?void 0:t.getDsn(),r=null==t?void 0:t.getOptions().tunnel;return function(e,t){var n=yi(e);if(!n||mi(n))return!1;return!!t&&(n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search))}(e,n)||function(e,t){if(!t)return!1;return ki(e)===ki(t)}(e,r)}function ki(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function Si(e){var t;"aggregates"in e?void 0===(null===(t=e.attrs)||void 0===t?void 0:t.ip_address)&&(e.attrs=b(b({},e.attrs),{},{ip_address:"{{auto}}"})):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function wi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm",i=e._metadata||{};i.sdk||(i.sdk={name:"sentry.javascript.".concat(t),packages:n.map(function(e){return{name:"".concat(r,":@sentry/").concat(e),version:D}}),version:D}),e._metadata=i}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.client||St();if(!function(){var e=St();return!1!==(null==e?void 0:e.getOptions().enabled)&&!(null==e||!e.getTransport())}()||!t)return{};var n=gt(L());if(n.getTraceData)return n.getTraceData(e);var r=e.scope||_t(),i=e.span||yn(),a=i?function(e){var t=e.spanContext();return tn(t.traceId,t.spanId,ln(e))}(i):function(e){var t=e.getPropagationContext(),n=t.traceId,r=t.sampled,i=t.propagationSpanId;return tn(n,i,r)}(r),o=Wt(i?Mn(i):Rn(t,r));if(!Zt.test(a))return q.warn("Invalid sentry-trace data. Cannot generate trace data"),{};var s={"sentry-trace":a,baggage:o};return e.propagateTraceparent&&(s.traceparent=i?function(e){var t=e.spanContext();return nn(t.traceId,t.spanId,ln(e))}(i):function(e){var t=e.getPropagationContext(),n=t.traceId,r=t.sampled,i=t.propagationSpanId;return nn(n,i,r)}(r)),s}var Ti;function Ii(e,t){var n=St(),r=bt();if(n){var i=n.getOptions(),a=i.beforeBreadcrumb,o=void 0===a?null:a,s=i.maxBreadcrumbs,u=void 0===s?100:s;if(!(u<=0)){var c=b({timestamp:et()},e),l=o?B(function(){return o(c,t)}):c;null!==l&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,u))}}}var xi=new WeakMap,Ci=function(){return{name:"FunctionToString",setupOnce:function(){Ti=Function.prototype.toString;try{Function.prototype.toString=function(){for(var e=Ne(this),t=xi.has(St())&&void 0!==e?e:this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ti.apply(t,r)}}catch(e){}},setup:function(e){xi.set(e,!0)}}},Ri=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Mi=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"EventFilters",setup:function(n){var r=n.getOptions();e=Ai(t,r)},processEvent:function(n,r,i){if(!e){var a=i.getOptions();e=Ai(t,a)}return function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(null==t||!t.length)return!1;var n=e.transaction;return!!n&&Je(n,t)}(e,t.ignoreTransactions))return O&&q.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(Ge(e))),!0}else{if(function(e,t){if(null==t||!t.length)return!1;return Yr(e).some(function(e){return Je(e,t)})}(e,t.ignoreErrors))return O&&q.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(Ge(e))),!0;if(function(e){var t;if(null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||!t.length)return!1;return!e.message&&!e.exception.values.some(function(e){return e.stacktrace||e.type&&"Error"!==e.type||e.value})}(e))return O&&q.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: ".concat(Ge(e))),!0;if(function(e,t){if(null==t||!t.length)return!1;var n=Di(e);return!!n&&Je(n,t)}(e,t.denyUrls))return O&&q.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(Ge(e),".\nUrl: ").concat(Di(e))),!0;if(!function(e,t){if(null==t||!t.length)return!0;var n=Di(e);return!n||Je(n,t)}(e,t.allowUrls))return O&&q.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(Ge(e),".\nUrl: ").concat(Di(e))),!0}return!1}(n,e)?null:n}}},Oi=function(){return b(b({},Mi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),{},{name:"InboundFilters"})};function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[].concat(w(e.allowUrls||[]),w(t.allowUrls||[])),denyUrls:[].concat(w(e.denyUrls||[]),w(t.denyUrls||[])),ignoreErrors:[].concat(w(e.ignoreErrors||[]),w(t.ignoreErrors||[]),w(e.disableErrorDefaults?[]:Ri)),ignoreTransactions:[].concat(w(e.ignoreTransactions||[]),w(t.ignoreTransactions||[]))}}function Di(e){try{var t,n,r,i=w(null!==(t=null===(n=e.exception)||void 0===n?void 0:n.values)&&void 0!==t?t:[]).reverse().find(function(e){var t,n;return void 0===(null===(t=e.mechanism)||void 0===t?void 0:t.parent_id)&&(null===(n=e.stacktrace)||void 0===n||null===(n=n.frames)||void 0===n?void 0:n.length)}),a=null==i||null===(r=i.stacktrace)||void 0===r?void 0:r.frames;return a?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length-1;t>=0;t--){var n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(a):null}catch(o){return O&&q.error("Cannot extract url for event ".concat(Ge(e))),null}}function Li(e,t,n,r,i,a){var o;if(null!==(o=i.exception)&&void 0!==o&&o.values&&a&&Se(a.originalException,Error)){var s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;s&&(i.exception.values=Pi(e,t,r,a.originalException,n,i.exception.values,s,0))}}function Pi(e,t,n,r,i,a,o,s){if(a.length>=n+1)return a;var u=w(a);if(Se(r[i],Error)){Fi(o,s,r);var c=e(t,r[i]),l=u.length;ji(c,i,l,s),u=Pi(e,t,n,r[i],i,[c].concat(w(u)),c,l)}return Ni(r)&&r.errors.forEach(function(a,c){if(Se(a,Error)){Fi(o,s,r);var l=e(t,a),d=u.length;ji(l,"errors[".concat(c,"]"),d,s),u=Pi(e,t,n,a,i,[l].concat(w(u)),l,d)}}),u}function Ni(e){return Array.isArray(e.errors)}function Fi(e,t,n){e.mechanism=b(b(b({handled:!0,type:"auto.core.linked_errors"},Ni(n)&&{is_exception_group:!0}),e.mechanism),{},{exception_id:t})}function ji(e,t,n,r){e.mechanism=b(b({handled:!0},e.mechanism),{},{type:"chained",source:t,exception_id:n,parent_id:r})}function Bi(){"console"in A&&F.forEach(function(e){e in A.console&&De(A.console,e,function(t){return j[e]=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];ie("console",{args:n,level:e});var i=j[e];null==i||i.apply(A.console,n)}})})}function Ui(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var zi=function(){var e;return{name:"Dedupe",processEvent:function(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){var n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!qi(e,t))return!1;if(!Hi(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){var n=Wi(t),r=Wi(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!qi(e,t))return!1;if(!Hi(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return O&&q.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}};function Hi(e,t){var n=Q(e),r=Q(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var a=r[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function qi(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function Wi(e){var t;return null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t?void 0:t[0]}var Vi=function(){return{name:"ConversationId",setup:function(e){e.on("spanStart",function(e){var t=_t().getScopeData(),n=bt().getScopeData(),r=t.conversationId||n.conversationId;r&&e.setAttribute("gen_ai.conversation.id",r)})}}};function Ji(e,t,n,r,i){if(e.fetchData){var a=e.fetchData,o=a.method,s=a.url,u=bn()&&t(s);if(!e.endTimestamp||!u){var c="object"===C(i)?i:{spanOrigin:i},l=c.spanOrigin,d=void 0===l?"auto.http.browser":l,f=c.propagateTraceparent,p=void 0!==f&&f,v=!!yn(),h=u&&v?tr(function(e,t,n){if(e.startsWith("data:")){var r=_i(e);return{name:"".concat(t," ").concat(r),attributes:Ki(e,void 0,t,n)}}var i=yi(e),a=i?function(e){if(mi(e))return e.pathname;var t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}(i):e;return{name:"".concat(t," ").concat(a),attributes:Ki(e,i,t,n)}}(s,o,d)):new On;if(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h,n(e.fetchData.url)){var m=e.args[0],y=b({},e.args[1]||{}),g=function(e,t,n,r){var i=Ei({span:n,propagateTraceparent:r}),a=i["sentry-trace"],o=i.baggage,s=i.traceparent;if(!a)return;var u=t.headers||(Ee(e)?e.headers:void 0);if(u){if(function(e){return"undefined"!=typeof Headers&&Se(e,Headers)}(u)){var c=new Headers(u);if(c.get("sentry-trace")||c.set("sentry-trace",a),r&&s&&!c.get("traceparent")&&c.set("traceparent",s),o){var l=c.get("baggage");l?$i(l)||c.set("baggage","".concat(l,",").concat(o)):c.set("baggage",o)}return c}if(Array.isArray(u)){var d=w(u);u.find(function(e){return"sentry-trace"===e[0]})||d.push(["sentry-trace",a]),r&&s&&!u.find(function(e){return"traceparent"===e[0]})&&d.push(["traceparent",s]);var f=u.find(function(e){return"baggage"===e[0]&&$i(e[1])});return o&&!f&&d.push(["baggage",o]),d}var p="sentry-trace"in u?u["sentry-trace"]:void 0,v="traceparent"in u?u.traceparent:void 0,h="baggage"in u?u.baggage:void 0,m=h?Array.isArray(h)?w(h):[h]:[],y=h&&(Array.isArray(h)?h.find(function(e){return $i(e)}):$i(h));o&&!y&&m.push(o);var g=b(b({},u),{},{"sentry-trace":null!=p?p:a,baggage:m.length>0?m.join(","):void 0});return r&&s&&!v&&(g.traceparent=s),g}return b({},i)}(m,y,bn()&&v?h:void 0,p);g&&(e.args[1]=y,y.headers=g)}var _=St();if(_){var k={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};_.emit("beforeOutgoingRequestSpan",h,k)}return h}var S=e.fetchData.__span;if(!S)return;var E=r[S];E&&(!function(e,t){if(t.response){var n;Pt(e,t.response.status);var r=null===(n=t.response)||void 0===n||null===(n=n.headers)||void 0===n?void 0:n.get("content-length");if(r){var i=parseInt(r);i>0&&e.setAttribute("http.response_content_length",i)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}(E,e),function(e,t,n){var r,i="object"===C(n)&&null!==n?n.onRequestSpanEnd:void 0;null==i||i(e,{headers:null===(r=t.response)||void 0===r?void 0:r.headers,error:t.error})}(E,e,i),delete r[S])}}function $i(e){return e.split(",").some(function(e){return e.trim().startsWith(zt)})}function Ki(e,t,n,r){var i=k(k({url:_i(e),type:"fetch","http.method":n},xt,r),It,"http.client");return t&&(mi(t)||(i["http.url"]=_i(t.href),i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function Gi(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}var Yi=A;function Xi(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Qi(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in Yi))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch(e){return!1}}())return!1;if(Xi(Yi.fetch))return!0;var e=!1,t=Yi.document;if(t&&"function"==typeof t.createElement)try{var n,r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),null!==(n=r.contentWindow)&&void 0!==n&&n.fetch&&(e=Xi(r.contentWindow.fetch)),t.head.removeChild(r)}catch(i){O&&q.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function Zi(e,t){var n="fetch";ne(n,e),re(n,function(){return ea(void 0,t)})}function ea(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!Qi()||De(A,"fetch",function(t){return function(){for(var n=new Error,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){var t=p(e,2),n=t[0],r=t[1];return{url:ia(n),method:ra(r,"method")?String(r.method).toUpperCase():Ee(n)&&ra(n,"method")?String(n.method).toUpperCase():"GET"}}var i=e[0];return{url:ia(i),method:ra(i,"method")?String(i.method).toUpperCase():"GET"}}(i),s={args:i,fetchData:{method:o.method,url:o.url},startTimestamp:1e3*tt(),virtualError:n,headers:aa(i)};return e||ie("fetch",b({},s)),t.apply(A,i).then(function(){var t=f(c().m(function t(n){return c().w(function(t){for(;;)if(0===t.n)return e?e(n):ie("fetch",b(b({},s),{},{endTimestamp:1e3*tt(),response:n})),t.a(2,n)},t)}));return function(e){return t.apply(this,arguments)}}(),function(e){var t;ie("fetch",b(b({},s),{},{endTimestamp:1e3*tt(),error:e})),fe(e)&&void 0===e.stack&&(e.stack=n.stack,Le(e,"framesToPop",1));var r=St(),i=null!==(t=null==r?void 0:r.getOptions().enhanceFetchErrorMessages)&&void 0!==t?t:"always";if(!1!==i&&e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{var a=new URL(s.fetchData.url).host;"always"===i?e.message="".concat(e.message," (").concat(a,")"):Le(e,"__sentry_fetch_url_host__",a)}catch(o){}throw e})}})}function ta(){return(ta=f(c().m(function e(t,n){var r,i,a,o,s,u,l;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null==t||!t.body){e.n=8;break}r=t.body,i=r.getReader(),a=setTimeout(function(){r.cancel().then(null,function(){})},9e4),o=!0;case 1:if(!o){e.n=7;break}return s=void 0,e.p=2,s=setTimeout(function(){r.cancel().then(null,function(){})},5e3),e.n=3,i.read();case 3:u=e.v,l=u.done,clearTimeout(s),l&&(n(),o=!1),e.n=5;break;case 4:e.p=4,e.v,o=!1;case 5:return e.p=5,clearTimeout(s),e.f(5);case 6:e.n=1;break;case 7:clearTimeout(a),i.releaseLock(),r.cancel().then(null,function(){});case 8:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function na(e){var t;try{t=e.clone()}catch(n){return}!function(e,t){ta.apply(this,arguments)}(t,function(){ie("fetch-body-resolved",{endTimestamp:1e3*tt(),response:e})})}function ra(e,t){return!!e&&"object"===C(e)&&!!e[t]}function ia(e){return"string"==typeof e?e:e?ra(e,"url")?e.url:e.toString?e.toString():"":""}function aa(e){var t=p(e,2),n=t[0],r=t[1];try{if("object"===C(r)&&null!==r&&"headers"in r&&r.headers)return new Headers(r.headers);if(Ee(n))return new Headers(n.headers)}catch(i){}}function oa(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function sa(){return"undefined"!=typeof window&&(!oa()||function(){var e=A.process;return"renderer"===(null==e?void 0:e.type)}())}var ua=A,ca=0;function la(){return ca>0}function da(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!function(e){return"function"==typeof e}(e))return e;try{var n=e.__sentry_wrapped__;if(n)return"function"==typeof n?n:e;if(Ne(e))return e}catch(a){return e}var r=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];try{var a=r.map(function(e){return da(e,t)});return e.apply(this,a)}catch(o){throw ca++,setTimeout(function(){ca--}),kt(function(e){e.addEventProcessor(function(e){return t.mechanism&&(Ye(e,void 0),Xe(e,t.mechanism)),e.extra=b(b({},e.extra),{},{arguments:r}),e}),Ir(o)}),o}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch(o){}Pe(r,e),Le(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(s){}return r}function fa(){var e=Oe(),t=(ua.document||{}).referrer,n=(ua.navigator||{}).userAgent;return{url:e,headers:b(b({},t&&{Referer:t}),n&&{"User-Agent":n})}}function pa(e,t){var n=ma(e,t),r={type:_a(t),value:ba(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function va(e,t,n,r){var i=St(),a=null==i?void 0:i.getOptions().normalizeDepth,o=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];if(n instanceof Error)return n}return}(t),s={__serialized__:Dn(t,a)};if(o)return{exception:{values:[pa(e,o)]},extra:s};var u={exception:{values:[{type:be(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:wa(t,{isUnhandledRejection:r})}]},extra:s};if(n){var c=ma(e,n);c.length&&(u.exception.values[0].stacktrace={frames:c})}return u}function ha(e,t){return{exception:{values:[pa(e,t)]}}}function ma(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e&&ya.test(e.message))return 1;return 0}(t),i=function(e){if("number"==typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,i)}catch(a){}return[]}var ya=/Minified React error #\d+;/i;function ga(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function _a(e){var t=null==e?void 0:e.name;return!t&&ga(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}function ba(e){var t=null==e?void 0:e.message;return ga(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"==typeof t.error.message?vi(t.error):vi(e):"No error message"}function ka(e,t,n,r,i){var a;if(ve(t)&&t.error)return ha(e,t.error);if(he(t)||pe(t,"DOMException")){var o=t;if("stack"in t)a=ha(e,t);else{var s=o.name||(he(o)?"DOMError":"DOMException"),u=o.message?"".concat(s,": ").concat(o.message):s;Ye(a=Sa(e,u,n,r),u)}return"code"in o&&(a.tags=b(b({},a.tags),{},{"DOMException.code":"".concat(o.code)})),a}return fe(t)?ha(e,t):_e(t)||be(t)?(Xe(a=va(e,t,n,i),{synthetic:!0}),a):(Ye(a=Sa(e,t,n,r),"".concat(t)),Xe(a,{synthetic:!0}),a)}function Sa(e,t,n,r){var i={};if(r&&n){var a=ma(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]}),Xe(i,{synthetic:!0})}if(ye(t)){var o=t.__sentry_template_string__,s=t.__sentry_template_values__;return i.logentry={message:o,params:s},i}return i.message=t,i}function wa(e,t){var n=t.isUnhandledRejection,r=function(e){var t=Object.keys(Fe(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}(e),i=n?"promise rejection":"exception";if(ve(e))return"Event `ErrorEvent` captured as ".concat(i," with message `").concat(e.message,"`");if(be(e)){var a=function(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(n){}}(e);return"Event `".concat(a,"` (type=").concat(e.type,") captured as ").concat(i)}return"Object captured as ".concat(i," with keys: ").concat(r)}var Ea=function(e){function t(e){var n,i,a;m(this,t);var o,s,u=(o=e,b({release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:null===(s=ua.SENTRY_RELEASE)||void 0===s?void 0:s.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0},o));wi(u,"browser",["browser"],ua.SENTRY_SDK_SOURCE||"npm"),null!==(n=u._metadata)&&void 0!==n&&n.sdk&&(u._metadata.sdk.settings=b({infer_ip:u.sendDefaultPii?"auto":"never"},u._metadata.sdk.settings));var c=(a=r(this,t,[u]))._options,l=c.sendDefaultPii,d=c.sendClientReports,f=c.enableLogs,p=c._experiments,v=c.enableMetrics,h=null===(i=null!=v?v:null==p?void 0:p.enableMetrics)||void 0===i||i;return ua.document&&(d||f||h)&&ua.document.addEventListener("visibilitychange",function(){"hidden"===ua.document.visibilityState&&(d&&a._flushOutcomes(),f&&Br(a),h&&zr(a))}),l&&a.on("beforeSendSession",Si),a}return s(t,e),g(t,[{key:"eventFromException",value:function(e,t){return function(e,t,n,r){var i=ka(e,t,(null==n?void 0:n.syntheticException)||void 0,r);return Xe(i),i.level="error",null!=n&&n.event_id&&(i.event_id=n.event_id),lr(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}},{key:"eventFromMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=Sa(e,t,(null==r?void 0:r.syntheticException)||void 0,i);return a.level=n,null!=r&&r.event_id&&(a.event_id=r.event_id),lr(a)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}},{key:"_prepareEvent",value:function(e,n,r,i){return e.platform=e.platform||"javascript",function(e,t,n,r){var i=a(o(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_prepareEvent",this,3)([e,n,r,i])}}])}(oi);var Ta="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Ia=A,xa=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(null!=i?i:0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Ca=function(){var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=null===(e=Ia.performance)||void 0===e||null===(t=e.getEntriesByType)||void 0===t?void 0:t.call(e,"navigation")[0];if(!n||r&&r.responseStart>0&&r.responseStart<performance.now())return r},Ra=function(){var e,t=Ca();return null!==(e=null==t?void 0:t.activationStart)&&void 0!==e?e:0};function Ma(e,t,n){Ia.document&&Ia.addEventListener(e,t,n)}function Oa(e,t,n){Ia.document&&Ia.removeEventListener(e,t,n)}var Aa=-1,Da=new Set,La=function(e){if(function(e){var t;return"pagehide"===e.type||"hidden"===(null===(t=Ia.document)||void 0===t?void 0:t.visibilityState)}(e)&&Aa>-1){if("visibilitychange"===e.type||"pagehide"===e.type){var t,n=T(Da);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}}isFinite(Aa)||(Aa="visibilitychange"===e.type?e.timeStamp:0,Oa("prerenderingchange",La,!0))}},Pa=function(){if(Ia.document&&Aa<0){var e,t=Ra(),n=Ia.document.prerendering||null===(e=globalThis.performance.getEntriesByType("visibility-state").filter(function(e){return"hidden"===e.name&&e.startTime>t})[0])||void 0===e?void 0:e.startTime;Aa=null!=n?n:"hidden"!==(null===(r=Ia.document)||void 0===r?void 0:r.visibilityState)||null!==(i=Ia.document)&&void 0!==i&&i.prerendering?1/0:0,Ma("visibilitychange",La,!0),Ma("pagehide",La,!0),Ma("prerenderingchange",La,!0)}var r,i;return{get firstHiddenTime(){return Aa},onHidden:function(e){Da.add(e)}}};var Na=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=Ca(),a="navigate";i&&(null!==(t=Ia.document)&&void 0!==t&&t.prerendering||Ra()>0?a="prerender":null!==(n=Ia.document)&&void 0!==n&&n.wasDiscarded?a="restore":i.type&&(a=i.type.replace(/_/g,"-")));return{name:e,value:r,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:a}},Fa=new WeakMap;function ja(e,t){try{return Fa.get(e)||Fa.set(e,new t),Fa.get(e)}catch(n){return new t}}var Ba,Ua,za,Ha,qa,Wa=function(){return g(function e(){m(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this)},[{key:"__init",value:function(){this._sessionValue=0}},{key:"__init2",value:function(){this._sessionEntries=[]}},{key:"_processEntry",value:function(e){var t;if(!e.hadRecentInput){var n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&e.startTime-r.startTime<1e3&&e.startTime-n.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),null===(t=this._onAfterProcessingUnexpectedShift)||void 0===t||t.call(this,e)}}}])}(),Va=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(b({type:e,buffered:!0},n)),r}}catch(i){}},Ja=function(e){var t=!1;return function(){t||(e(),t=!0)}},$a=function(e){var t;null!==(t=Ia.document)&&void 0!==t&&t.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},Ka=[1800,3e3],Ga=[.1,.25],Ya=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$a(function(){var n,r=Pa(),i=Na("FCP"),a=Va("paint",function(e){var t,o=T(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;"first-contentful-paint"===s.name&&(a.disconnect(),s.startTime<r.firstHiddenTime&&(i.value=Math.max(s.startTime-Ra(),0),i.entries.push(s),n(!0)))}}catch(u){o.e(u)}finally{o.f()}});a&&(n=xa(e,i,Ka,t.reportAllChanges))})}(Ja(function(){var n,r,i=Na("CLS",0),a=Pa(),o=ja(t,Wa),s=function(e){var t,r=T(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;o._processEntry(a)}}catch(s){r.e(s)}finally{r.f()}o._sessionValue>i.value&&(i.value=o._sessionValue,i.entries=o._sessionEntries,n())},u=Va("layout-shift",s);u&&(n=xa(e,i,Ga,t.reportAllChanges),a.onHidden(function(){s(u.takeRecords()),n(!0)}),null==Ia||null===(r=Ia.setTimeout)||void 0===r||r.call(Ia,n))}))},Xa=0,Qa=1/0,Za=0,eo=function(e){e.forEach(function(e){e.interactionId&&(Qa=Math.min(Qa,e.interactionId),Za=Math.max(Za,e.interactionId),Xa=Za?(Za-Qa)/7+1:0)})},to=function(){return Ba?Xa:performance.interactionCount||0},no=function(){"interactionCount"in performance||Ba||(Ba=Va("event",eo,{type:"event",buffered:!0,durationThreshold:0}))},ro=0,io=function(){return g(function e(){m(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this)},[{key:"__init",value:function(){this._longestInteractionList=[]}},{key:"__init2",value:function(){this._longestInteractionMap=new Map}},{key:"_resetInteractions",value:function(){ro=to(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}},{key:"_estimateP98LongestInteraction",value:function(){var e=Math.min(this._longestInteractionList.length-1,Math.floor((to()-ro)/50));return this._longestInteractionList[e]}},{key:"_processEntry",value:function(e){var t;if(null===(t=this._onBeforeProcessingEntry)||void 0===t||t.call(this,e),e.interactionId||"first-input"===e.entryType){var n=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(e.interactionId);if(r||this._longestInteractionList.length<10||e.duration>n._latency){var i;if(r?e.duration>r._latency?(r.entries=[e],r._latency=e.duration):e.duration===r._latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e):(r={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort(function(e,t){return t._latency-e._latency}),this._longestInteractionList.length>10){var a,o=T(this._longestInteractionList.splice(10));try{for(o.s();!(a=o.n()).done;){var s=a.value;this._longestInteractionMap.delete(s.id)}}catch(u){o.e(u)}finally{o.f()}}null===(i=this._onAfterProcessingINPCandidate)||void 0===i||i.call(this,r)}}}}])}(),ao=function(e){var t,n=Ia.requestIdleCallback||Ia.setTimeout;"hidden"===(null===(t=Ia.document)||void 0===t?void 0:t.visibilityState)?e():(Ma("visibilitychange",e=Ja(e),{once:!0,capture:!0}),Ma("pagehide",e,{once:!0,capture:!0}),n(function(){e(),Oa("visibilitychange",e,{capture:!0}),Oa("pagehide",e,{capture:!0})}))},oo=[200,500],so=function(){return g(function e(){m(this,e)},[{key:"_processEntry",value:function(e){var t;null===(t=this._onBeforeProcessingEntry)||void 0===t||t.call(this,e)}}])}(),uo=[2500,4e3],co=[800,1800],lo=function(e){var t,n;null!==(t=Ia.document)&&void 0!==t&&t.prerendering?$a(function(){return lo(e)}):"complete"!==(null===(n=Ia.document)||void 0===n?void 0:n.readyState)?addEventListener("load",function(){return lo(e)},!0):setTimeout(e)},fo={},po={};function vo(e){return wo("cls",e,_o,Ua,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function ho(e){return wo("lcp",e,bo,za,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function mo(e){return wo("inp",e,So,qa)}function yo(e,t){return Eo(e,t),po[e]||(!function(e){var t={};"event"===e&&(t.durationThreshold=0);Va(e,function(t){go(e,{entries:t})},t)}(e),po[e]=!0),To(e,t)}function go(e,t){var n=fo[e];if(null!=n&&n.length){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(t)}catch(o){Ta&&q.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(X(a),"\nError:"),o)}}}catch(s){i.e(s)}finally{i.f()}}}function _o(){return Ya(function(e){go("cls",{metric:e}),Ua=e},{reportAllChanges:!0})}function bo(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$a(function(){var n,r=Pa(),i=Na("LCP"),a=ja(t,so),o=function(e){t.reportAllChanges||(e=e.slice(-1));var o,s=T(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;a._processEntry(u),u.startTime<r.firstHiddenTime&&(i.value=Math.max(u.startTime-Ra(),0),i.entries=[u],n())}}catch(c){s.e(c)}finally{s.f()}},s=Va("largest-contentful-paint",o);if(s){n=xa(e,i,uo,t.reportAllChanges);for(var u=Ja(function(){o(s.takeRecords()),s.disconnect(),n(!0)}),c=function(e){e.isTrusted&&(ao(u),Oa(e.type,c,{capture:!0}))},l=0,d=["keydown","click","visibilitychange"];l<d.length;l++)Ma(d[l],c,{capture:!0})}})}(function(e){go("lcp",{metric:e}),za=e},{reportAllChanges:!0})}function ko(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Na("TTFB"),r=xa(e,n,co,t.reportAllChanges);lo(function(){var e=Ca();e&&(n.value=Math.max(e.responseStart-Ra(),0),n.entries=[e],r(!0))})}(function(e){go("ttfb",{metric:e}),Ha=e})}function So(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype){var n=Pa();$a(function(){var r;no();var i,a=Na("INP"),o=ja(t,io),s=function(e){ao(function(){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;o._processEntry(r)}}catch(u){n.e(u)}finally{n.f()}var s=o._estimateP98LongestInteraction();s&&s._latency!==a.value&&(a.value=s._latency,a.entries=s.entries,i())})},u=Va("event",s,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});i=xa(e,a,oo,t.reportAllChanges),u&&(u.observe({type:"first-input",buffered:!0}),n.onHidden(function(){s(u.takeRecords()),i(!0)}))})}}(function(e){go("inp",{metric:e}),qa=e})}function wo(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Eo(e,t),po[e]||(i=n(),po[e]=!0),r&&t({metric:r}),To(e,t,a?i:void 0)}function Eo(e,t){fo[e]=fo[e]||[],fo[e].push(t)}function To(e,t,n){return function(){n&&n();var r=fo[e];if(r){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}}function Io(e){return"number"==typeof e&&isFinite(e)}function xo(e,t,r,i){var a=n({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(i),i)),o=cn(e).start_timestamp;return o&&o>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),nr(e,function(){var e=tr(b({startTime:t},a));return e&&e.end(r),e})}function Co(e){var t,n=St();if(n){var r,i=e.name,a=e.transaction,o=e.attributes,s=e.startTime,u=n.getOptions(),c=u.release,l=u.environment,d=u.sendDefaultPii,f=n.getIntegrationByName("Replay"),p=null==f?void 0:f.getReplayId(),v=_t(),h=v.getUser(),m=void 0!==h?h.email||h.id||h.ip_address:void 0;try{r=v.getScopeData().contexts.profile.profile_id}catch(y){}return tr({name:i,attributes:b({release:c,environment:l,user:m||void 0,profile_id:r||void 0,replay_id:p||void 0,transaction:a,"user_agent.original":null===(t=Ia.navigator)||void 0===t?void 0:t.userAgent,"client.address":d?"{{auto}}":void 0},o),startTime:s,experimental:{standalone:!0}})}}function Ro(){return Ia.addEventListener&&Ia.performance}function Mo(e){return e/1e3}function Oo(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch(t){return!1}}function Ao(e,t){var n,r,i,a=!1;function o(e){!a&&n&&t(e,n),a=!0}r=function(){o("pagehide")},Ma("visibilitychange",i=function(e){var t;"pagehide"!==e.type&&"hidden"!==(null===(t=Ia.document)||void 0===t?void 0:t.visibilityState)||r(e)},{capture:!0,once:!0}),Ma("pagehide",i,{capture:!0,once:!0});var s=e.on("beforeStartNavigationSpan",function(e,t){null!=t&&t.isRedirect||(o("navigation"),s(),u())}),u=e.on("afterStartPageLoadSpan",function(e){n=e.spanContext().spanId,u()})}function Do(e){var t,n=0;if(Oo("layout-shift")){var r=vo(function(e){var r=e.metric,i=r.entries[r.entries.length-1];i&&(n=r.value,t=i)},!0);Ao(e,function(e,i){!function(e,t,n,r){var i;Ta&&q.log("Sending CLS span (".concat(e,")"));var a=t?Mo((rt()||0)+t.startTime):tt(),o=_t().getScopeData().transactionName,s=t?Re(null===(i=t.sources[0])||void 0===i?void 0:i.node):"Layout shift",u=k(k(k(k(k({},xt,"auto.http.browser.cls"),It,"ui.webvital.cls"),Dt,0),"sentry.pageload.span_id",n),"sentry.report_event",r);null!=t&&t.sources&&t.sources.forEach(function(e,t){u["cls.source.".concat(t+1)]=Re(e.node)});var c=Co({name:s,transaction:o,attributes:u,startTime:a});c&&(c.addEvent("cls",k(k({},Rt,""),Mt,e)),c.end(a))}(n,t,i,e),r()})}}function Lo(e){var t,n=0;if(Oo("largest-contentful-paint")){var r=ho(function(e){var r=e.metric,i=r.entries[r.entries.length-1];i&&(n=r.value,t=i)},!0);Ao(e,function(e,i){!function(e,t,n,r){Ta&&q.log("Sending LCP span (".concat(e,")"));var i=Mo((rt()||0)+((null==t?void 0:t.startTime)||0)),a=_t().getScopeData().transactionName,o=t?Re(t.element):"Largest contentful paint",s=k(k(k(k(k({},xt,"auto.http.browser.lcp"),It,"ui.webvital.lcp"),Dt,0),"sentry.pageload.span_id",n),"sentry.report_event",r);t&&(t.element&&(s["lcp.element"]=Re(t.element)),t.id&&(s["lcp.id"]=t.id),t.url&&(s["lcp.url"]=t.url),null!=t.loadTime&&(s["lcp.loadTime"]=t.loadTime),null!=t.renderTime&&(s["lcp.renderTime"]=t.renderTime),null!=t.size&&(s["lcp.size"]=t.size));var u=Co({name:o,transaction:a,attributes:s,startTime:i});u&&(u.addEvent("lcp",k(k({},Rt,"millisecond"),Mt,e)),u.end(i))}(n,t,i,e),r()})}}function Po(e){return e?((rt()||performance.timeOrigin)+e)/1e3:e}function No(e){var t,n,r={};if(null!=e.nextHopProtocol){var i=function(e){var t,n="unknown",r="unknown",i="",a=T(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if("/"===o){var s=p(e.split("/"),2);n=s[0],r=s[1];break}if(!isNaN(Number(o))){n="h"===i?"http":i,r=e.split(i)[1];break}i+=o}}catch(u){a.e(u)}finally{a.f()}return i===e&&(n=i),{name:n,version:r}}(e.nextHopProtocol),a=i.name,o=i.version;r["network.protocol.version"]=o,r["network.protocol.name"]=a}return rt()||null!==(t=Ro())&&void 0!==t&&t.timeOrigin?(n=b(b({},r),{},{"http.request.redirect_start":Po(e.redirectStart),"http.request.redirect_end":Po(e.redirectEnd),"http.request.worker_start":Po(e.workerStart),"http.request.fetch_start":Po(e.fetchStart),"http.request.domain_lookup_start":Po(e.domainLookupStart),"http.request.domain_lookup_end":Po(e.domainLookupEnd),"http.request.connect_start":Po(e.connectStart),"http.request.secure_connection_start":Po(e.secureConnectionStart),"http.request.connection_end":Po(e.connectEnd),"http.request.request_start":Po(e.requestStart),"http.request.response_start":Po(e.responseStart),"http.request.response_end":Po(e.responseEnd),"http.request.time_to_first_byte":null!=e.responseStart?e.responseStart/1e3:void 0}),Object.fromEntries(Object.entries(n).filter(function(e){return null!=p(e,2)[1]}))):r}var Fo,jo,Bo=2147483647,Uo=0,zo={};function Ho(e){var t=e.recordClsStandaloneSpans,n=e.recordLcpStandaloneSpans,r=e.client,i=Ro();if(i&&rt()){i.mark&&Ia.performance.mark("sentry-tracing-init");var a=n?Lo(r):ho(function(e){var t=e.metric,n=t.entries[t.entries.length-1];n&&(zo.lcp={value:t.value,unit:"millisecond"},Fo=n)},!0),o=wo("ttfb",function(e){var t=e.metric;t.entries[t.entries.length-1]&&(zo.ttfb={value:t.value,unit:"millisecond"})},ko,Ha),s=t?Do(r):vo(function(e){var t=e.metric,n=t.entries[t.entries.length-1];n&&(zo.cls={value:t.value,unit:""},jo=n)},!0);return function(){null==a||a(),o(),null==s||s()}}return function(){}}function qo(e,t){var n=Ro(),r=rt();if(null!=n&&n.getEntries&&r){var i=Mo(r),a=n.getEntries(),o=cn(e),s=o.op,u=o.start_timestamp;a.slice(Uo).forEach(function(n){var r=Mo(n.startTime),a=Mo(Math.max(0,n.duration));if(!("navigation"===s&&u&&i+r<u))switch(n.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(function(r){Wo(e,t,r,n)}),Wo(e,t,"secureConnection",n,"TLS/SSL"),Wo(e,t,"fetch",n,"cache"),Wo(e,t,"domainLookup",n,"DNS"),function(e,t,n){var r=n+Mo(t.requestStart),i=n+Mo(t.responseEnd),a=n+Mo(t.responseStart);t.responseEnd&&(xo(e,r,i,{op:"browser.request",name:t.name,attributes:k({},xt,"auto.ui.browser.metrics")}),xo(e,a,i,{op:"browser.response",name:t.name,attributes:k({},xt,"auto.ui.browser.metrics")}))}(e,t,n)}(e,n,i);break;case"mark":case"paint":case"measure":!function(e,t,n,r,i,a){if(function(e){if("measure"!==(null==e?void 0:e.entryType))return;try{return"Components "===e.detail.devtools.track}catch(t){return}}(t))return;if(["mark","measure"].includes(t.entryType)&&Je(t.name,a))return;var o=Ca(!1),s=Mo(o?o.requestStart:0),u=i+Math.max(n,s),c=i+n,l=c+r,d=k({},xt,"auto.resource.browser.metrics");u!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=u);(function(e,t){try{var n=t.detail;if(!n)return;if("object"===C(n)){for(var r=0,i=Object.entries(n);r<i.length;r++){var a=p(i[r],2),o=a[0],s=a[1];if(s&&ge(s))e["sentry.browser.measure.detail.".concat(o)]=s;else if(void 0!==s)try{e["sentry.browser.measure.detail.".concat(o)]=JSON.stringify(s)}catch(u){}}return}if(ge(n))return void(e["sentry.browser.measure.detail"]=n);try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch(c){}}catch(l){}})(d,t),u<=l&&xo(e,u,l,{name:t.name,op:t.entryType,attributes:d})}(e,n,r,a,i,t.ignorePerformanceApiSpans);var o=Pa(),c=n.startTime<o.firstHiddenTime;"first-paint"===n.name&&c&&(zo.fp={value:n.startTime,unit:"millisecond"}),"first-contentful-paint"===n.name&&c&&(zo.fcp={value:n.startTime,unit:"millisecond"});break;case"resource":!function(e,t,n,r,i,a,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var s=t.initiatorType?"resource.".concat(t.initiatorType):"resource.other";if(null!=o&&o.includes(s))return;var u=k({},xt,"auto.resource.browser.metrics"),c=gi(n);c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop());c.host&&(u["server.address"]=c.host);u["url.same_origin"]=n.includes(Ia.location.origin),function(e,t,n){n.forEach(function(n){var r=p(n,2),i=r[0],a=r[1],o=e[i];null!=o&&("number"==typeof o&&o<Bo||"string"==typeof o)&&(t[a]=o)})}(t,u,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);var l=b(b({},u),No(t)),d=a+r,f=d+i;xo(e,d,f,{name:n.replace(Ia.location.origin,""),op:s,attributes:l})}(e,n,n.name,r,a,i,t.ignoreResourceSpans)}}),Uo=Math.max(a.length-1,0),function(e){var t=Ia.navigator;if(!t)return;var n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Io(n.rtt)&&(zo["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Io(t.deviceMemory)&&e.setAttribute("deviceMemory","".concat(t.deviceMemory," GB"));Io(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s&&(function(e){var t=Ca(!1);if(!t)return;var n=t.responseStart,r=t.requestStart;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(zo),t.recordClsOnPageloadSpan||delete zo.cls,t.recordLcpOnPageloadSpan||delete zo.lcp,Object.entries(zo).forEach(function(e){var t=p(e,2),n=t[0],r=t[1];!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yn(),i=r&&mn(r);i&&(O&&q.log("[Measurement] Setting measurement on root span: ".concat(e," = ").concat(t," ").concat(n)),i.addEvent(e,k(k({},Mt,t),Rt,n)))}(n,r.value,r.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",Ra()),function(e,t){var n;Fo&&t.recordLcpOnPageloadSpan&&(Fo.element&&e.setAttribute("lcp.element",Re(Fo.element)),Fo.id&&e.setAttribute("lcp.id",Fo.id),Fo.url&&e.setAttribute("lcp.url",Fo.url.trim().slice(0,200)),null!=Fo.loadTime&&e.setAttribute("lcp.loadTime",Fo.loadTime),null!=Fo.renderTime&&e.setAttribute("lcp.renderTime",Fo.renderTime),e.setAttribute("lcp.size",Fo.size));null!==(n=jo)&&void 0!==n&&n.sources&&t.recordClsOnPageloadSpan&&jo.sources.forEach(function(t,n){return e.setAttribute("cls.source.".concat(n+1),Re(t.node))})}(e,t)),Fo=void 0,jo=void 0,zo={}}}function Wo(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,a=function(e){if("secureConnection"===e)return"connectEnd";if("fetch"===e)return"domainLookupStart";return"".concat(e,"End")}(n),o=t[a],s=t["".concat(n,"Start")];s&&o&&xo(e,r+Mo(s),r+Mo(o),{op:"browser.".concat(i),name:t.name,attributes:b(k({},xt,"auto.ui.browser.metrics"),"redirect"===n&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{})})}var Vo,Jo,$o,Ko,Go=function(e){var t=e.entries,n=yn(),r=n?mn(n):void 0,i=r?cn(r).description:_t().getScopeData().transactionName;t.forEach(function(e){var t,n,r=e;if(r.identifier){var a=r.name,o=r.renderTime,s=r.loadTime,u=p(s?[Mo(s),"load-time"]:o?[Mo(o),"render-time"]:[tt(),"entry-emission"],2),c=u[0],l=u[1],d="image-paint"===a?Mo(Math.max(0,(null!=o?o:0)-(null!=s?s:0))):0,f=(k(k(k(k(k(k(k(k(k(k(n={},xt,"auto.ui.browser.elementtiming"),It,"ui.elementtiming"),wt,"component"),"sentry.span_start_time_source",l),"sentry.transaction_name",i),"element.id",r.id),"element.type",(null===(t=r.element)||void 0===t||null===(t=t.tagName)||void 0===t?void 0:t.toLowerCase())||"unknown"),"element.size",r.naturalWidth&&r.naturalHeight?"".concat(r.naturalWidth,"x").concat(r.naturalHeight):void 0),"element.render_time",o),"element.load_time",s),k(k(k(n,"element.url",r.url||void 0),"element.identifier",r.identifier),"element.paint_type",a));er({name:"element[".concat(r.identifier,"]"),attributes:f,startTime:c,onlyIfParent:!0},function(e){e.end(c+d)})}})};function Yo(e){ne("dom",e),re("dom",Xo)}function Xo(){if(Ia.document){var e=ie.bind(null,"dom"),t=Qo(e,!0);Ia.document.addEventListener("click",t,!1),Ia.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(t){var n,r,i=null===(n=Ia[t])||void 0===n?void 0:n.prototype;null!=i&&null!==(r=i.hasOwnProperty)&&void 0!==r&&r.call(i,"addEventListener")&&(De(i,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var a=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=a[n]=a[n]||{refCount:0};if(!o.handler){var s=Qo(e);o.handler=s,t.call(this,n,s,i)}o.refCount++}catch(u){}return t.call(this,n,r,i)}}),De(i,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},a=i[t];a&&(a.refCount--,a.refCount<=0&&(e.call(this,t,a.handler,r),a.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(o){}return e.call(this,t,n,r)}}))})}}function Qo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){if(n&&!n._sentryCaptured){var r=function(e){try{return e.target}catch(t){return null}}(n);if(!function(e,t){return"keypress"===e&&(null==t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r)){Le(n,"_sentryCaptured",!0),r&&!r._sentryId&&Le(r,"_sentryId",$e());var i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Jo)return!1;try{if(!e.target||e.target._sentryId!==$o)return!1}catch(t){}return!0}(n))e({event:n,name:i,global:t}),Jo=n.type,$o=r?r._sentryId:void 0;clearTimeout(Vo),Vo=Ia.setTimeout(function(){$o=void 0,Jo=void 0},1e3)}}}}function Zo(e){var t="history";ne(t,e),re(t,es)}function es(){function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.length>2?n[2]:void 0;if(i){var a=Ko,o=function(e){try{return new URL(e,Ia.location.origin).toString()}catch(t){return e}}(String(i));if(Ko=o,a===o)return e.apply(this,n);ie("history",{from:a,to:o})}return e.apply(this,n)}}Ia.addEventListener("popstate",function(){var e=Ia.location.href,t=Ko;(Ko=e,t!==e)&&ie("history",{from:t,to:e})}),"history"in Yi&&Yi.history&&(De(Ia.history,"pushState",e),De(Ia.history,"replaceState",e))}var ts={};function ns(e){var t=ts[e];if(t)return t;var n=Ia[e];if(Xi(n))return ts[e]=n.bind(Ia);var r=Ia.document;if(r&&"function"==typeof r.createElement)try{var i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);var a=i.contentWindow;null!=a&&a[e]&&(n=a[e]),r.head.removeChild(i)}catch(o){Ta&&q.warn("Could not create sandbox iframe for ".concat(e," check, bailing to window.").concat(e,": "),o)}return n?ts[e]=n.bind(Ia):n}function rs(e){ts[e]=void 0}function is(){return ns("setTimeout").apply(void 0,arguments)}var as="__sentry_xhr_v3__";function os(e){ne("xhr",e),re("xhr",ss)}function ss(){if(Ia.XMLHttpRequest){var e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply:function(e,t,n){var r=new Error,i=1e3*tt(),a=me(n[0])?n[0].toUpperCase():void 0,o=function(e){if(me(e))return e;try{return e.toString()}catch(t){}return}(n[1]);if(!a||!o)return e.apply(t,n);t[as]={method:a,url:o,request_headers:{}},"POST"===a&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var s=function(){var e=t[as];if(e&&4===t.readyState){try{e.status_code=t.status}catch(n){}ie("xhr",{endTimestamp:1e3*tt(),startTimestamp:i,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:function(e,t,n){return s(),e.apply(t,n)}}):t.addEventListener("readystatechange",s),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply:function(e,t,n){var r=p(n,2),i=r[0],a=r[1],o=t[as];return o&&me(i)&&me(a)&&(o.request_headers[i.toLowerCase()]=a),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply:function(e,t,n){var r=t[as];return r?(void 0!==n[0]&&(r.body=n[0]),ie("xhr",{startTimestamp:1e3*tt(),xhr:t}),e.apply(t,n)):e.apply(t,n)}})}}var us=Symbol.for("sentry__originalRequestBody");function cs(e){return new URLSearchParams(e).toString()}function ls(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[cs(e)];if(!e)return[void 0]}catch(n){return Ta&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Ta&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length>=2&&e[1]&&"object"===C(e[1])&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){var t=e[0][us];return void 0!==t?t:void 0}}function fs(e){var t;try{t=e.getAllResponseHeaders()}catch(n){return Ta&&q.error(n,"Failed to get xhr response headers",e),{}}return t?t.split("\r\n").reduce(function(e,t){var n=p(t.split(": "),2),r=n[0],i=n[1];return i&&(e[r.toLowerCase()]=i),e},{}):{}}var ps=[],vs=new Map,hs=new Map;function ms(){if(Ro()&&rt()){var e=mo(gs);return function(){e()}}return function(){}}var ys={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};var gs=function(e){var t=e.metric;if(null!=t.value){var n=Mo(t.value);if(!(n>60)){var r=t.entries.find(function(e){return e.duration===t.value&&ys[e.name]});if(r){var i=r.interactionId,a=ys[r.name],o=Mo(rt()+r.startTime),s=yn(),u=s?mn(s):void 0,c=null!=i?vs.get(i):void 0,l=(null==c?void 0:c.span)||u,d=l?cn(l).description:_t().getScopeData().transactionName,f=Co({name:(null==c?void 0:c.elementName)||Re(r.target),transaction:d,attributes:k(k(k({},xt,"auto.http.browser.inp"),It,"ui.interaction.".concat(a)),Dt,r.duration),startTime:o});f&&(f.addEvent("inp",k(k({},Rt,"millisecond"),Mt,t.value)),f.end(o+n))}}}};function _s(){var e=Object.keys(ys);function t(e){var t=e.target;if(t){var n=Re(t),r=Math.round(e.timeStamp);if(hs.set(r,n),hs.size>50){var i=hs.keys().next().value;void 0!==i&&hs.delete(i)}}}sa()&&e.forEach(function(e){Ia.addEventListener(e,t,{capture:!0,passive:!0})});var n=function(e){var t=e.entries,n=yn(),r=n&&mn(n);t.forEach(function(e){if(function(e){return"duration"in e}(e)){var t=e.interactionId;if(null!=t&&!vs.has(t)){var n=e.target?Re(e.target):function(e){var t=Math.round(e.startTime),n=hs.get(t);if(!n)for(var r=-5;r<=5;r++){var i=hs.get(t+r);if(i){n=i;break}}return n||"<unknown>"}(e);if(ps.length>10){var i=ps.shift();vs.delete(i)}ps.push(t),vs.set(t,{span:r,elementName:n})}}})};yo("event",n),yo("first-input",n)}var bs=40;function ks(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns("fetch"),n=0,r=0;function i(){return(i=f(c().m(function i(a){var o,s,u,l;return c().w(function(i){for(;;)switch(i.p=i.n){case 0:return o=a.body.length,n+=o,r++,s=b({body:a.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions),i.p=1,i.n=2,t(e.url,s);case 2:return u=i.v,i.a(2,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}});case 3:throw i.p=3,l=i.v,rs("fetch"),l;case 4:return i.p=4,n-=o,r--,i.f(4);case 5:return i.a(2)}},i,null,[[1,3,4,5]])}))).apply(this,arguments)}return Gr(e,function(e){return i.apply(this,arguments)},Wr(e.bufferSize||bs))}var Ss="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function ws(e,t,n,r){var i={filename:e,function:"<anonymous>"===t?V:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var Es=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Ts=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Is=/\((\S*)(?::(\d+))(?::(\d+))\)/,xs=/at (.+?) ?\(data:(.+?),/,Cs=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Rs=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ms=[[30,function(e){var t=e.match(xs);if(t)return{filename:"<data:".concat(t[2],">"),function:t[1]};var n=Es.exec(e);if(n){var r=p(n,4),i=r[1],a=r[2],o=r[3];return ws(i,V,+a,+o)}var s=Ts.exec(e);if(s){if(s[2]&&0===s[2].indexOf("eval")){var u=Is.exec(s[2]);u&&(s[2]=u[1],s[3]=u[2],s[4]=u[3])}var c=p(As(s[1]||V,s[2]),2),l=c[0];return ws(c[1],l,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,function(e){var t=Cs.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=Rs.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var r=t[3],i=t[1]||V,a=p(As(i,r),2);return i=a[0],ws(r=a[1],i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]],Os=K.apply(void 0,Ms),As=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:V,n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]},Ds=1024,Ls=function(){var e=b({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"Breadcrumbs",setup:function(t){var n,r;e.console&&(n=function(e){return function(t){if(St()===e){var n={category:"console",data:{arguments:t.args,logger:"console"},level:Ui(t.level),message:We(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message="Assertion failed: ".concat(We(t.args.slice(1)," ")||"console.assert"),n.data.arguments=t.args.slice(1)}Ii(n,{input:t.args,level:t.level})}}}(t),ne(r="console",n),re(r,Bi)),e.dom&&Yo(function(e,t){return function(n){if(St()===e){var r,i,a="object"===C(t)?t.serializeAttribute:void 0,o="object"===C(t)&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>Ds&&(Ss&&q.warn("`dom.maxStringLength` cannot exceed ".concat(Ds,", but a value of ").concat(o," was configured. Sentry will use ").concat(Ds," instead.")),o=Ds),"string"==typeof a&&(a=[a]);try{var s=n.event,u=function(e){return!!e&&!!e.target}(s)?s.target:s;r=Re(u,{keyAttrs:a,maxStringLength:o}),i=Ae(u)}catch(l){r="<unknown>"}if(0!==r.length){var c={category:"ui.".concat(n.name),message:r};i&&(c.data={"ui.component_name":i}),Ii(c,{event:n.event,name:n.name,global:n.global})}}}}(t,e.dom)),e.xhr&&os(function(e){return function(t){if(St()===e){var n=t.startTimestamp,r=t.endTimestamp,i=t.xhr[as];if(n&&r&&i){var a=i.method,o=i.url,s=i.status_code,u=i.body,c={method:a,url:o,status_code:s},l={xhr:t.xhr,input:u,startTimestamp:n,endTimestamp:r},d={category:"xhr",data:c,type:"http",level:Gi(s)};e.emit("beforeOutgoingRequestBreadcrumb",d,l),Ii(d,l)}}}}(t)),e.fetch&&Zi(function(e){return function(t){if(St()===e){var n=t.startTimestamp,r=t.endTimestamp;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){var i=t.fetchData,a={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},o={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",o,a),Ii(o,a)}else{var s=t.response,u=b(b({},t.fetchData),{},{status_code:null==s?void 0:s.status});t.fetchData.request_body_size,t.fetchData.response_body_size,null==s||s.status;var c={input:t.args,response:s,startTimestamp:n,endTimestamp:r},l={category:"fetch",data:u,type:"http",level:Gi(u.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",l,c),Ii(l,c)}}}}(t)),e.history&&Zo(function(e){return function(t){var n;if(St()===e){var r=t.from,i=t.to,a=gi(ua.location.href),o=r?gi(r):void 0,s=gi(i);null!==(n=o)&&void 0!==n&&n.path||(o=a),a.protocol===s.protocol&&a.host===s.host&&(i=s.relative),a.protocol===o.protocol&&a.host===o.host&&(r=o.relative),Ii({category:"navigation",data:{from:r,to:i}})}}}(t)),e.sentry&&t.on("beforeSendEvent",function(e){return function(t){St()===e&&Ii({category:"sentry.".concat("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Ge(t)},{event:t})}}(t))}}};var Ps=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ns=function(){var e=b({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"BrowserApiErrors",setupOnce:function(){e.setTimeout&&De(ua,"setTimeout",Fs),e.setInterval&&De(ua,"setInterval",Fs),e.requestAnimationFrame&&De(ua,"requestAnimationFrame",js),e.XMLHttpRequest&&"XMLHttpRequest"in ua&&De(XMLHttpRequest.prototype,"send",Bs);var t=e.eventTarget;t&&(Array.isArray(t)?t:Ps).forEach(function(t){return function(e,t){var n,r,i=null===(n=ua[e])||void 0===n?void 0:n.prototype;if(null==i||null===(r=i.hasOwnProperty)||void 0===r||!r.call(i,"addEventListener"))return;De(i,"addEventListener",function(n){return function(r,i,a){try{"function"==typeof i.handleEvent&&(i.handleEvent=da(i.handleEvent,{mechanism:{data:{handler:X(i),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch(o){}return t.unregisterOriginalCallbacks&&function(e,t,n){e&&"object"===C(e)&&"removeEventListener"in e&&"function"==typeof e.removeEventListener&&e.removeEventListener(t,n)}(this,r,i),n.apply(this,[r,da(i,{mechanism:{data:{handler:X(i),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),De(i,"removeEventListener",function(e){return function(t,n,r){try{var i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(a){}return e.call(this,t,n,r)}})}(t,e)})}}};function Fs(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return n[0]=da(i,{mechanism:{handled:!1,type:"auto.browser.browserapierrors.".concat(X(e))}}),e.apply(this,n)}}function js(e){return function(t){return e.apply(this,[da(t,{mechanism:{data:{handler:X(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function Bs(e){return function(){var t=this;["onload","onerror","onprogress","onreadystatechange"].forEach(function(e){e in t&&"function"==typeof t[e]&&De(t,e,function(t){var n={mechanism:{data:{handler:X(t)},handled:!1,type:"auto.browser.browserapierrors.xhr.".concat(e)}},r=Ne(t);return r&&(n.mechanism.data.handler=X(r)),da(t,n)})});for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,r)}}var Us=function(){return{name:"BrowserSession",setupOnce:function(){void 0!==ua.document?(Rr({ignoreDuration:!0}),Ar(),Zo(function(e){var t=e.from,n=e.to;void 0!==t&&t!==n&&(Rr({ignoreDuration:!0}),Ar())})):Ss&&q.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}},zs=function(){var e=b({onerror:!0,onunhandledrejection:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"GlobalHandlers",setupOnce:function(){Error.stackTraceLimit=50},setup:function(t){e.onerror&&(!function(e){oe(function(t){var n=qs(),r=n.stackParser,i=n.attachStacktrace;if(St()===e&&!la()){var a=t.msg,o=t.url,s=t.line,u=t.column,c=t.error,l=function(e,t,n,r){var i,a=e.exception=e.exception||{},o=a.values=a.values||[],s=o[0]=o[0]||{},u=s.stacktrace=s.stacktrace||{},c=u.frames=u.frames||[],l=r,d=n,f=null!==(i=function(e){if(!me(e)||0===e.length)return;if(e.startsWith("data:"))return"<".concat(_i(e,!1),">");return e}(t))&&void 0!==i?i:Oe();0===c.length&&c.push({colno:l,filename:f,function:V,in_app:!0,lineno:d});return e}(ka(r,c||a,void 0,i,!1),o,s,u);l.level="error",xr(l,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})}})}(t),Hs("onerror")),e.onunhandledrejection&&(!function(e){ce(function(t){var n=qs(),r=n.stackParser,i=n.attachStacktrace;if(St()===e&&!la()){var a=function(e){if(ge(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return e}(t),o=ge(a)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(a))}]}}:ka(r,a,void 0,i,!0);o.level="error",xr(o,{originalException:a,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})}})}(t),Hs("onunhandledrejection"))}}};function Hs(e){Ss&&q.log("Global Handler attached: ".concat(e))}function qs(){var e=St();return(null==e?void 0:e.getOptions())||{stackParser:function(){return[]},attachStacktrace:!1}}var Ws=function(){return{name:"HttpContext",preprocessEvent:function(e){var t;if(ua.navigator||ua.location||ua.document){var n=fa(),r=b(b({},n.headers),null===(t=e.request)||void 0===t?void 0:t.headers);e.request=b(b(b({},n),e.request),{},{headers:r})}}}},Vs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent:function(e,r,i){Li(pa,i.getOptions().stackParser,n,t,e,r)}}};function Js(){return!!function(){var e;if(void 0===ua.window)return!1;var t=ua;if(t.nw)return!1;var n=t.chrome||t.browser;if(null==n||null===(e=n.runtime)||void 0===e||!e.id)return!1;var r=Oe(),i=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(ua===ua.top&&i.some(function(e){return r.startsWith("".concat(e,"://"))}))}()&&(Ss&&B(function(){}),!0)}function $s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!t.skipBrowserExtensionCheck&&Js(),r=null==t.defaultIntegrations?[Oi(),Ci(),Vi(),Ns(),Ls(),zs(),Vs(),zi(),Ws(),Us()]:t.defaultIntegrations,i=b(b({},t),{},{enabled:!n&&t.enabled,stackParser:(e=t.stackParser||Os,Array.isArray(e)?K.apply(void 0,w(e)):e),integrations:Nr({integrations:t.integrations,defaultIntegrations:r}),transport:t.transport||ks});return hi(Ea,i)}function Ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ua.document,n=(null==t?void 0:t.head)||(null==t?void 0:t.body);if(n){var r=_t(),i=St(),a=null==i?void 0:i.getDsn();if(a){var o=b(b({},e),{},{user:b(b({},r.getUser()),e.user),eventId:e.eventId||bt().lastEventId()}),s=ua.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=function(e,t){var n=Xt(e);if(!n)return"";var r="".concat(Dr(n),"embed/error-page/"),i="dsn=".concat(Kt(n));for(var a in t)if("dsn"!==a&&"onClose"!==a)if("user"===a){var o=t.user;if(!o)continue;o.name&&(i+="&name=".concat(encodeURIComponent(o.name))),o.email&&(i+="&email=".concat(encodeURIComponent(o.email)))}else i+="&".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(t[a]));return"".concat(r,"?").concat(i)}(a,o);var u=o.onLoad,c=o.onClose;if(u&&(s.onload=u),c){var l=function(e){if("__sentry_reportdialog_closed__"===e.data)try{c()}finally{ua.removeEventListener("message",l)}};ua.addEventListener("message",l)}n.appendChild(s)}else Ss&&q.error("[showReportDialog] DSN not configured")}else Ss&&q.error("[showReportDialog] Global document not defined")}var Gs=A,Ys="sentryReplaySession",Xs="Unable to send Replay",Qs=15e4,Zs=5e3,eu=2e7,tu=36e5,nu=Object.defineProperty,ru=function(e,t,n){return function(e,t,n){return t in e?nu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==C(t)?t+"":t,n)},iu=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(iu||{});function au(e){var t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}function ou(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function su(e){try{var t=e.rules||e.cssRules;return t?((n=Array.from(t,uu).join("")).includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),n):null}catch(r){return null}var n}function uu(e){var t,n;if(function(e){return"styleSheet"in e}(e))try{t=su(e.styleSheet)||function(e){var t=e.cssText;if(t.split('"').length<3)return t;var n=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?n.push("layer"):e.layerName&&n.push("layer(".concat(e.layerName,")")),e.supportsText&&n.push("supports(".concat(e.supportsText,")")),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(o){}else if(function(e){return"selectorText"in e}(e)){var r=e.cssText,i=e.selectorText.includes(":"),a="string"==typeof e.style.all&&e.style.all;if(a&&(r=function(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style,i=r[n],a=r.getPropertyPriority(i);t+="".concat(i,":").concat(r.getPropertyValue(i)).concat(a?" !important":"",";")}return"".concat(e.selectorText," { ").concat(t," }")}(e)),i&&(n=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,r=r.replace(n,"$1\\$2")),i||a)return r}return t||e.cssText}var cu=function(){return g(function e(){m(this,e),ru(this,"idNodeMap",new Map),ru(this,"nodeMetaMap",new WeakMap)},[{key:"getId",value:function(e){var t;if(!e)return-1;var n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!=n?n:-1}},{key:"getNode",value:function(e){return this.idNodeMap.get(e)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(e){return this.nodeMetaMap.get(e)||null}},{key:"removeNodeFromMap",value:function(e){var t=this,n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(function(e){return t.removeNodeFromMap(e)})}},{key:"has",value:function(e){return this.idNodeMap.has(e)}},{key:"hasNode",value:function(e){return this.nodeMetaMap.has(e)}},{key:"add",value:function(e,t){var n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}},{key:"replace",value:function(e,t){var n=this.getNode(e);if(n){var r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}},{key:"reset",value:function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}])}();function lu(e){var t=e.maskInputOptions,n=e.tagName,r=e.type;return"OPTION"===n&&(n="SELECT"),Boolean(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function du(e){var t=e.isMasked,n=e.element,r=e.value,i=e.maskInputFn,a=r||"";return t?(i&&(a=i(a,n)),"*".repeat(a.length)):a}function fu(e){return e.toLowerCase()}function pu(e){return e.toUpperCase()}var vu="__rrweb_original__";function hu(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?fu(t):null}function mu(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function yu(e,t){var n,r;try{r=new URL(e,null!=t?t:window.location.href)}catch(a){return null}var i=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(n=null==i?void 0:i[1])&&void 0!==n?n:null}var gu={};function _u(e){var t=gu[e];if(t)return t;var n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);var a=i.contentWindow;a&&a[e]&&(r=a[e]),n.head.removeChild(i)}catch(o){}return gu[e]=r.bind(window)}function bu(){return _u("setTimeout").apply(void 0,arguments)}function ku(){return _u("clearTimeout").apply(void 0,arguments)}function Su(e){try{return e.contentDocument}catch(t){}}var wu,Eu,Tu=1,Iu=new RegExp("[^a-z0-9-_:]");function xu(){return Tu++}var Cu=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ru=/^(?:[a-z+]+:)?\/\//i,Mu=/^www\..*/i,Ou=/^(data:)([^,]*),(.*)/i;function Au(e,t){return(e||"").replace(Cu,function(e,n,r,i,a,o){var s,u=r||a||o,c=n||i||"";if(!u)return e;if(Ru.test(u)||Mu.test(u))return"url(".concat(c).concat(u).concat(c,")");if(Ou.test(u))return"url(".concat(c).concat(u).concat(c,")");if("/"===u[0])return"url(".concat(c).concat((s=t,(s.indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+u)).concat(c,")");var l=t.split("/"),d=u.split("/");l.pop();var f,p=T(d);try{for(p.s();!(f=p.n()).done;){var v=f.value;"."!==v&&(".."===v?l.pop():l.push(v))}}catch(h){p.e(h)}finally{p.f()}return"url(".concat(c).concat(l.join("/")).concat(c,")")})}var Du=/^[^ \t\n\r\u000c]+/,Lu=/^[, \t\n\r\u000c]+/;var Pu=new WeakMap;function Nu(e,t){return t&&""!==t.trim()?ju(e,t):t}function Fu(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function ju(e,t){var n=Pu.get(e);if(n||(n=e.createElement("a"),Pu.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function Bu(e,t,n,r,i,a,o){if(!r)return r;if("src"===n||"href"===n&&("use"!==t||"#"!==r[0]))return Nu(e,r);if("xlink:href"===n&&"#"!==r[0])return Nu(e,r);if("background"===n&&("table"===t||"td"===t||"th"===t))return Nu(e,r);if("srcset"===n)return function(e,t){if(""===t.trim())return t;var n=0;function r(e){var r,i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}for(var i=[];r(Lu),!(n>=t.length);){var a=r(Du);if(","===a.slice(-1))a=Nu(e,a.substring(0,a.length-1)),i.push(a);else{var o="";a=Nu(e,a);for(var s=!1;;){var u=t.charAt(n);if(""===u){i.push((a+o).trim());break}if(s)")"===u&&(s=!1);else{if(","===u){n+=1,i.push((a+o).trim());break}"("===u&&(s=!0)}o+=u,n+=1}}}return i.join(", ")}(e,r);if("style"===n){var s=Au(r,ju(e));return o&&o.size>0&&(s=function(e,t){if(!e||0===t.size)return e;try{var n,r=e.split(";"),i=[],a=T(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o=o.trim()){var s=o.indexOf(":");if(-1!==s){var u=o.slice(0,s).trim();t.has(u)||i.push(o)}else i.push(o)}}}catch(c){a.e(c)}finally{a.f()}return i.join("; ")+(i.length>0&&e.endsWith(";")?";":"")}catch(l){return e}}(s,o)),s}return"object"===t&&"data"===n?Nu(e,r):"function"==typeof a?a(n,r,i):r}function Uu(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function zu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:zu(e.parentNode,t,n,r+1):-1}function Hu(e,t){return function(n){var r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(".".concat(e)))return!0}else if(function(e,t){for(var n=e.classList.length;n--;){var r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(i){return!1}}}function qu(e,t,n,r,i,a){try{var o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("INPUT"===o.tagName){var s=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(s))return!0}var u=-1,c=-1;if(a){if((c=zu(o,Hu(r,i)))<0)return!0;u=zu(o,Hu(t,n),c>=0?c:1/0)}else{if((u=zu(o,Hu(t,n)))<0)return!1;c=zu(o,Hu(r,i),u>=0?u:1/0)}return u>=0?!(c>=0)||u<=c:!(c>=0)&&!!a}catch(l){}return!!a}function Wu(e,t){var n=t.doc,r=t.mirror,i=t.blockClass,a=t.blockSelector,o=t.unblockSelector,s=t.maskAllText,u=t.maskAttributeFn,c=t.maskTextClass,l=t.unmaskTextClass,d=t.maskTextSelector,f=t.unmaskTextSelector,p=t.inlineStylesheet,v=t.maskInputOptions,h=void 0===v?{}:v,m=t.maskTextFn,y=t.maskInputFn,g=t.dataURLOptions,_=void 0===g?{}:g,b=t.inlineImages,k=t.recordCanvas,S=t.keepIframeSrcFn,w=t.newlyAddedElement,E=void 0!==w&&w,T=t.ignoreCSSAttributes,I=function(e,t){if(!t.hasNode(e))return;var n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:iu.Document,childNodes:[],compatMode:e.compatMode}:{type:iu.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:iu.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:I};case e.ELEMENT_NODE:return function(e,t){for(var n,r=t.doc,i=t.blockClass,a=t.blockSelector,o=t.unblockSelector,s=t.inlineStylesheet,u=t.maskInputOptions,c=void 0===u?{}:u,l=t.maskAttributeFn,d=t.maskInputFn,f=t.dataURLOptions,p=void 0===f?{}:f,v=t.inlineImages,h=t.recordCanvas,m=t.keepIframeSrcFn,y=t.newlyAddedElement,g=void 0!==y&&y,_=t.rootId,b=t.maskTextClass,k=t.unmaskTextClass,S=t.maskTextSelector,w=t.unmaskTextSelector,E=t.ignoreCSSAttributes,T=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var i=e.classList.length;i--;){var a=e.classList[i];if(t.test(a))return!0}if(n)return e.matches(n)}catch(o){}return!1}(e,i,a,o),I=function(e){if(e instanceof HTMLFormElement)return"form";var t=fu(e.tagName);return Iu.test(t)?"div":t}(e),x={},C=e.attributes.length,R=0;R<C;R++){var M=e.attributes[R];M.name&&!Uu(I,M.name,M.value)&&(x[M.name]=Bu(r,I,fu(M.name),M.value,e,l,E))}if("link"===I&&s){var O=Array.from(r.styleSheets).find(function(t){return t.href===e.href}),A=null;O&&(A=su(O)),A&&(x.rel=null,x.href=null,x.crossorigin=null,x._cssText=Au(A,O.href))}if("style"===I&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var D=su(e.sheet);D&&(x._cssText=Au(D,ju(r)))}if("input"===I||"textarea"===I||"select"===I||"option"===I){var L=e,P=hu(L),N=mu(L,pu(I),P),F=L.checked;if("submit"!==P&&"button"!==P&&N){var j=qu(L,b,S,k,w,lu({type:P,tagName:pu(I),maskInputOptions:c}));x.value=du({isMasked:j,element:L,value:N,maskInputFn:d})}F&&(x.checked=F)}"option"===I&&(e.selected&&!c.select?x.selected=!0:delete x.selected);if("canvas"===I&&h)if("2d"===e.__context)(function(e){var t=e.getContext("2d");if(!t)return!0;for(var n=0;n<e.width;n+=50)for(var r=0;r<e.height;r+=50){var i=t.getImageData,a=vu in i?i[vu]:i;if(new Uint32Array(a.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(function(e){return 0!==e}))return!1}return!0})(e)||(x.rr_dataURL=e.toDataURL(p.type,p.quality));else if(!("__context"in e)){var B=e.toDataURL(p.type,p.quality),U=r.createElement("canvas");U.width=e.width,U.height=e.height,B!==U.toDataURL(p.type,p.quality)&&(x.rr_dataURL=B)}if("img"===I&&v){wu||(wu=r.createElement("canvas"),Eu=wu.getContext("2d"));var z=e,H=(z.currentSrc||z.getAttribute("src"),z.crossOrigin),q=function(){z.removeEventListener("load",q);try{wu.width=z.naturalWidth,wu.height=z.naturalHeight,Eu.drawImage(z,0,0),x.rr_dataURL=wu.toDataURL(p.type,p.quality)}catch(e){if("anonymous"!==z.crossOrigin)return z.crossOrigin="anonymous",void(z.complete&&0!==z.naturalWidth?q():z.addEventListener("load",q))}"anonymous"===z.crossOrigin&&(H?x.crossOrigin=H:z.removeAttribute("crossorigin"))};z.complete&&0!==z.naturalWidth?q():z.addEventListener("load",q)}"audio"!==I&&"video"!==I||(x.rr_mediaState=e.paused?"paused":"played",x.rr_mediaCurrentTime=e.currentTime);g||(e.scrollLeft&&(x.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(x.rr_scrollTop=e.scrollTop));if(T){var W=e.getBoundingClientRect(),V=W.width,J=W.height;x={class:x.class,rr_width:"".concat(V,"px"),rr_height:"".concat(J,"px")}}"iframe"!==I||m(x.src)||(T||Su(e)||(x.rr_src=x.src),delete x.src);try{customElements.get(I)&&(n=!0)}catch($){}return{type:iu.Element,tagName:I,attributes:x,childNodes:[],isSVG:Fu(e)||void 0,needBlock:T,rootId:_,isCustom:n}}(e,{doc:n,blockClass:i,blockSelector:a,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:u,maskInputOptions:h,maskInputFn:y,dataURLOptions:_,inlineImages:b,recordCanvas:k,keepIframeSrcFn:S,newlyAddedElement:E,rootId:I,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,ignoreCSSAttributes:T});case e.TEXT_NODE:return function(e,t){var n=t.maskAllText,r=t.maskTextClass,i=t.unmaskTextClass,a=t.maskTextSelector,o=t.unmaskTextSelector,s=t.maskTextFn,u=t.maskInputOptions,c=t.maskInputFn,l=t.rootId,d=e.parentNode&&e.parentNode.tagName,f=e.textContent,p="STYLE"===d||void 0,v="SCRIPT"===d||void 0,h="TEXTAREA"===d||void 0;if(p&&f){try{var m;e.nextSibling||e.previousSibling||null!==(m=e.parentNode.sheet)&&void 0!==m&&m.cssRules&&(f=su(e.parentNode.sheet))}catch(g){}f=Au(f,ju(t.doc))}v&&(f="SCRIPT_PLACEHOLDER");var y=qu(e,r,a,i,o,n);p||v||h||!f||!y||(f=s?s(f,e.parentElement):f.replace(/[\S]/g,"*"));h&&f&&(u.textarea||y)&&(f=c?c(f,e.parentNode):f.replace(/[\S]/g,"*"));if("OPTION"===d&&f){f=du({isMasked:qu(e,r,a,i,o,lu({type:null,tagName:d,maskInputOptions:u})),element:e,value:f,maskInputFn:c})}return{type:iu.Text,textContent:f||"",isStyle:p,rootId:l}}(e,{doc:n,maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:y,rootId:I});case e.CDATA_SECTION_NODE:return{type:iu.CDATA,textContent:"",rootId:I};case e.COMMENT_NODE:return{type:iu.Comment,textContent:e.textContent||"",rootId:I};default:return!1}}function Vu(e){return null==e?"":e.toLowerCase()}function Ju(e,t){var n,r=t.doc,i=t.mirror,a=t.blockClass,o=t.blockSelector,s=t.unblockSelector,u=t.maskAllText,c=t.maskTextClass,l=t.unmaskTextClass,d=t.maskTextSelector,f=t.unmaskTextSelector,p=t.skipChild,v=void 0!==p&&p,h=t.inlineStylesheet,m=void 0===h||h,y=t.maskInputOptions,g=void 0===y?{}:y,_=t.maskAttributeFn,b=t.maskTextFn,k=t.maskInputFn,S=t.slimDOMOptions,w=t.dataURLOptions,E=void 0===w?{}:w,I=t.inlineImages,x=void 0!==I&&I,C=t.recordCanvas,R=void 0!==C&&C,M=t.onSerialize,O=t.onIframeLoad,A=t.iframeLoadTimeout,D=void 0===A?5e3:A,L=t.onBlockedImageLoad,P=t.onStylesheetLoad,N=t.stylesheetLoadTimeout,F=void 0===N?5e3:N,j=t.keepIframeSrcFn,B=void 0===j?function(){return!1}:j,U=t.newlyAddedElement,z=void 0!==U&&U,H=t.ignoreCSSAttributes,q=t.preserveWhiteSpace,W=void 0===q||q,V=Wu(e,{doc:r,mirror:i,blockClass:a,blockSelector:o,maskAllText:u,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:_,maskTextFn:b,maskInputFn:k,dataURLOptions:E,inlineImages:x,recordCanvas:R,keepIframeSrcFn:B,newlyAddedElement:z,ignoreCSSAttributes:H});if(!V)return null;n=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===iu.Comment)return!0;if(e.type===iu.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===yu(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(Vu(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Vu(e.attributes.name)||"icon"===Vu(e.attributes.rel)||"apple-touch-icon"===Vu(e.attributes.rel)||"shortcut icon"===Vu(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&Vu(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Vu(e.attributes.property).match(/^(og|twitter|fb):/)||Vu(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===Vu(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===Vu(e.attributes.name)||"googlebot"===Vu(e.attributes.name)||"bingbot"===Vu(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===Vu(e.attributes.name)||"generator"===Vu(e.attributes.name)||"framework"===Vu(e.attributes.name)||"publisher"===Vu(e.attributes.name)||"progid"===Vu(e.attributes.name)||Vu(e.attributes.property).match(/^article:/)||Vu(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===Vu(e.attributes.name)||"yandex-verification"===Vu(e.attributes.name)||"csrf-token"===Vu(e.attributes.name)||"p:domain_verify"===Vu(e.attributes.name)||"verify-v1"===Vu(e.attributes.name)||"verification"===Vu(e.attributes.name)||"shopify-checkout-api-token"===Vu(e.attributes.name)))return!0}}return!1}(V,S)&&(W||V.type!==iu.Text||V.isStyle||V.textContent.replace(/^\s+|\s+$/gm,"").length)?xu():-2;var J=Object.assign(V,{id:n});if(i.add(e,J),-2===n)return null;M&&M(e);var $=!v;if(J.type===iu.Element){$=$&&!J.needBlock;var K=e.shadowRoot;K&&ou(K)&&(J.isShadowHost=!0)}if((J.type===iu.Document||J.type===iu.Element)&&$){S.headWhitespace&&J.type===iu.Element&&"head"===J.tagName&&(W=!1);var G,Y={doc:r,mirror:i,blockClass:a,blockSelector:o,maskAllText:u,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:v,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:_,maskTextFn:b,maskInputFn:k,slimDOMOptions:S,dataURLOptions:E,inlineImages:x,recordCanvas:R,preserveWhiteSpace:W,onSerialize:M,onIframeLoad:O,iframeLoadTimeout:D,onBlockedImageLoad:L,onStylesheetLoad:P,stylesheetLoadTimeout:F,keepIframeSrcFn:B,ignoreCSSAttributes:H},X=T(e.childNodes?Array.from(e.childNodes):[]);try{for(X.s();!(G=X.n()).done;){var Q=Ju(G.value,Y);Q&&J.childNodes.push(Q)}}catch(ie){X.e(ie)}finally{X.f()}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(var Z=0,ee=Array.from(e.shadowRoot.childNodes);Z<ee.length;Z++){var te=Ju(ee[Z],Y);te&&(ou(e.shadowRoot)&&(te.isShadow=!0),J.childNodes.push(te))}}if(e.parentNode&&au(e.parentNode)&&ou(e.parentNode)&&(J.isShadow=!0),J.type!==iu.Element||"iframe"!==J.tagName||J.needBlock||function(e,t,n){var r=e.contentWindow;if(r){var i,a=!1;try{i=r.document.readyState}catch(u){return}if("complete"===i){var o="about:blank";if(r.location.href!==o||e.src===o||""===e.src)return bu(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}else{var s=bu(function(){a||(t(),a=!0)},n);e.addEventListener("load",function(){ku(s),a=!0,t()})}}}(e,function(){var t=Su(e);if(t&&O){var n=Ju(t,{doc:t,mirror:i,blockClass:a,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:_,maskTextFn:b,maskInputFn:k,slimDOMOptions:S,dataURLOptions:E,inlineImages:x,recordCanvas:R,preserveWhiteSpace:W,onSerialize:M,onIframeLoad:O,iframeLoadTimeout:D,onStylesheetLoad:P,stylesheetLoadTimeout:F,keepIframeSrcFn:B,ignoreCSSAttributes:H});n&&O(e,n)}},D),J.type===iu.Element&&"img"===J.tagName&&!e.complete&&J.needBlock){var ne=e,re=function(){if(ne.isConnected&&!ne.complete&&L)try{var e=ne.getBoundingClientRect();e.width>0&&e.height>0&&L(ne,J,e)}catch(t){}ne.removeEventListener("load",re)};ne.isConnected&&ne.addEventListener("load",re)}return J.type===iu.Element&&"link"===J.tagName&&"string"==typeof J.attributes.rel&&("stylesheet"===J.attributes.rel||"preload"===J.attributes.rel&&"string"==typeof J.attributes.href&&"css"===yu(J.attributes.href))&&function(e,t,n){var r,i=!1;try{r=e.sheet}catch(o){return}if(!r){var a=bu(function(){i||(t(),i=!0)},n);e.addEventListener("load",function(){ku(a),i=!0,t()})}}(e,function(){if(P){var t=Ju(e,{doc:r,mirror:i,blockClass:a,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:_,maskTextFn:b,maskInputFn:k,slimDOMOptions:S,dataURLOptions:E,inlineImages:x,recordCanvas:R,preserveWhiteSpace:W,onSerialize:M,onIframeLoad:O,iframeLoadTimeout:D,onStylesheetLoad:P,stylesheetLoadTimeout:F,keepIframeSrcFn:B,ignoreCSSAttributes:H});t&&P(e,t)}},F),J.type===iu.Element&&delete J.needBlock,J}function $u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}var Ku={map:{},getId:function(){return-1},getNode:function(){return null},removeNodeFromMap:function(){},has:function(){return!1},reset:function(){}};function Gu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,i=0;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var u=Date.now();i||!1!==n.leading||(i=u);var c=t-(u-i),l=this;c<=0||c>t?(r&&(!function(){hc("clearTimeout").apply(void 0,arguments)}(r),r=null),i=u,e.apply(l,o)):r||!1===n.trailing||(r=mc(function(){i=!1===n.leading?0:Date.now(),r=null,e.apply(l,o)},c))}}function Yu(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,a=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set:function(e){var t=this;mc(function(){n.set.call(t,e)},0),a&&a.set&&a.set.call(this,e)}}),function(){return Yu(e,t,a||{},!0)}}function Xu(e,t,n){try{if(!(t in e))return function(){};var r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,function(){e[t]=r}}catch(a){return function(){}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Ku=new Proxy(Ku,{get:function(e,t,n){return Reflect.get(e,t,n)}}));var Qu=Date.now;function Zu(e){var t,n,r,i,a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null==a?void 0:a.documentElement.scrollLeft)||(null==a||null===(t=a.body)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.scrollLeft)||(null==a||null===(n=a.body)||void 0===n?void 0:n.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==a?void 0:a.documentElement.scrollTop)||(null==a||null===(r=a.body)||void 0===r||null===(r=r.parentElement)||void 0===r?void 0:r.scrollTop)||(null==a||null===(i=a.body)||void 0===i?void 0:i.scrollTop)||0}}function ec(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function tc(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function nc(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function rc(e,t,n,r,i){if(!e)return!1;var a=nc(e);if(!a)return!1;var o=Hu(t,n);if(!i){var s=r&&a.matches(r);return o(a)&&!s}var u=zu(a,o),c=-1;return!(u<0)&&(r&&(c=zu(a,Hu(null,r))),u>-1&&c<0||u<c)}function ic(e,t){return-2===t.getId(e)}function ac(e,t){if(au(e))return!1;var n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||ac(e.parentNode,t))}function oc(e){return Boolean(e.changedTouches)}function sc(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function uc(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function cc(e){return Boolean(null==e?void 0:e.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(Qu=function(){return(new Date).getTime()});var lc=function(){return g(function e(){m(this,e),this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map},[{key:"getId",value:function(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}},{key:"has",value:function(e){return this.styleIDMap.has(e)}},{key:"add",value:function(e,t){return this.has(e)?this.getId(e):(n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n);var n}},{key:"getStyle",value:function(e){return this.idStyleMap.get(e)||null}},{key:"reset",value:function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}},{key:"generateId",value:function(){return this.id++}}])}();function dc(e){var t,n=null;return(null===(t=e.getRootNode)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(n=e.getRootNode().host),n}function fc(e){var t=e.ownerDocument;if(!t)return!1;var n=function(e){for(var t,n=e;t=dc(n);)n=t;return n}(e);return t.contains(n)}function pc(e){var t=e.ownerDocument;return!!t&&(t.contains(e)||fc(e))}var vc={};function hc(e){var t=vc[e];if(t)return t;var n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);var a=i.contentWindow;a&&a[e]&&(r=a[e]),n.head.removeChild(i)}catch(o){}return vc[e]=r.bind(window)}function mc(){return hc("setTimeout").apply(void 0,arguments)}var yc=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(yc||{}),gc=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(gc||{}),_c=function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e}(_c||{}),bc=function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e}(bc||{}),kc=function(e){return e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e}(kc||{});function Sc(e){try{return e.contentDocument}catch(t){}}function wc(e){return"__ln"in e}var Ec,Tc=function(){return g(function e(){m(this,e),this.length=0,this.head=null,this.tail=null},[{key:"get",value:function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,n=0;n<e;n++){var r;t=(null===(r=t)||void 0===r?void 0:r.next)||null}return t}},{key:"addNode",value:function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&wc(e.previousSibling)){var n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&wc(e.nextSibling)&&e.nextSibling.__ln.previous){var r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}},{key:"removeNode",value:function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}])}(),Ic=function(e,t){return"".concat(e,"@").concat(t)},xc=function(){return g(function e(){var t=this;m(this,e),this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(e){e.forEach(t.processMutation),t.emit()},this.emit=function(){if(!t.frozen&&!t.locked){for(var e=[],n=new Set,r=new Tc,i=function(e){for(var n=e,r=-2;-2===r;)r=(n=n&&n.nextSibling)&&t.mirror.getId(n);return r},a=function(a){if(a.parentNode&&pc(a)){var o=au(a.parentNode)?t.mirror.getId(dc(a)):t.mirror.getId(a.parentNode),s=i(a);if(-1===o||-1===s)return r.addNode(a);var u=Ju(a,{doc:t.doc,mirror:t.mirror,blockClass:t.blockClass,blockSelector:t.blockSelector,maskAllText:t.maskAllText,unblockSelector:t.unblockSelector,maskTextClass:t.maskTextClass,unmaskTextClass:t.unmaskTextClass,maskTextSelector:t.maskTextSelector,unmaskTextSelector:t.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:t.inlineStylesheet,maskInputOptions:t.maskInputOptions,maskAttributeFn:t.maskAttributeFn,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:t.slimDOMOptions,dataURLOptions:t.dataURLOptions,recordCanvas:t.recordCanvas,inlineImages:t.inlineImages,onSerialize:function(e){sc(e,t.mirror)&&!rc(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)&&t.iframeManager.addIframe(e),uc(e,t.mirror)&&t.stylesheetManager.trackLinkElement(e),cc(a)&&t.shadowDomManager.addShadowRoot(a.shadowRoot,t.doc)},onIframeLoad:function(e,n){rc(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)||(t.iframeManager.attachIframe(e,n),e.contentWindow&&t.canvasManager.addWindow(e.contentWindow),t.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:function(e,n){t.stylesheetManager.attachLinkElement(e,n)},onBlockedImageLoad:function(e,n,r){var i=r.width,a=r.height;t.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:{style:{width:"".concat(i,"px"),height:"".concat(a,"px")}}}]})},ignoreCSSAttributes:t.ignoreCSSAttributes});u&&(e.push({parentId:o,nextId:s,node:u}),n.add(u.id))}};t.mapRemoves.length;)t.mirror.removeNodeFromMap(t.mapRemoves.shift());var o,s=T(t.movedSet);try{for(s.s();!(o=s.n()).done;){var u=o.value;Rc(t.removes,u,t.mirror)&&!t.movedSet.has(u.parentNode)||a(u)}}catch(S){s.e(S)}finally{s.f()}var c,l=T(t.addedSet);try{for(l.s();!(c=l.n()).done;){var d=c.value;Mc(t.droppedSet,d)||Rc(t.removes,d,t.mirror)?Mc(t.movedSet,d)?a(d):t.droppedSet.add(d):a(d)}}catch(S){l.e(S)}finally{l.f()}for(var f=null;r.length;){var p=null;if(f){var v=t.mirror.getId(f.value.parentNode),h=i(f.value);-1!==v&&-1!==h&&(p=f)}if(!p)for(var m=r.tail;m;){var y=m;if(m=m.previous,y){var g=t.mirror.getId(y.value.parentNode);if(-1===i(y.value))continue;if(-1!==g){p=y;break}var _=y.value;if(_.parentNode&&_.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var b=_.parentNode.host;if(-1!==t.mirror.getId(b)){p=y;break}}}}if(!p){for(;r.head;)r.removeNode(r.head.value);break}f=p.previous,r.removeNode(p.value),a(p.value)}var k={texts:t.texts.map(function(e){return{id:t.mirror.getId(e.node),value:e.value}}).filter(function(e){return!n.has(e.id)}).filter(function(e){return t.mirror.has(e.id)}),attributes:t.attributes.map(function(e){var n=e.attributes;if("string"==typeof n.style){var r=JSON.stringify(e.styleDiff),i=JSON.stringify(e._unchangedStyles);r.length<n.style.length&&(r+i).split("var(").length===n.style.split("var(").length&&(n.style=e.styleDiff)}return{id:t.mirror.getId(e.node),attributes:n}}).filter(function(e){return!n.has(e.id)}).filter(function(e){return t.mirror.has(e.id)}),removes:t.removes,adds:e};(k.texts.length||k.attributes.length||k.removes.length||k.adds.length)&&(t.texts=[],t.attributes=[],t.attributeMap=new WeakMap,t.removes=[],t.addedSet=new Set,t.movedSet=new Set,t.droppedSet=new Set,t.movedMap={},t.mutationCb(k))}},this.processMutation=function(e){if(!ic(e.target,t.mirror))switch(e.type){case"characterData":var n=e.target.textContent;rc(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||n===e.oldValue||t.texts.push({value:qu(e.target,t.maskTextClass,t.maskTextSelector,t.unmaskTextClass,t.unmaskTextSelector,t.maskAllText)&&n?t.maskTextFn?t.maskTextFn(n,nc(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break;case"attributes":var r=e.target,i=e.attributeName,a=e.target.getAttribute(i);if("value"===i){var o=hu(r),s=r.tagName;a=mu(r,s,o);var u=lu({maskInputOptions:t.maskInputOptions,tagName:s,type:o});a=du({isMasked:qu(e.target,t.maskTextClass,t.maskTextSelector,t.unmaskTextClass,t.unmaskTextSelector,u),element:r,value:a,maskInputFn:t.maskInputFn})}if(rc(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||a===e.oldValue)return;var c=t.attributeMap.get(e.target);if("IFRAME"===r.tagName&&"src"===i&&!t.keepIframeSrcFn(a)){if(Sc(r))return;i="rr_src"}if(c||(c={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},t.attributes.push(c),t.attributeMap.set(e.target,c)),"type"===i&&"INPUT"===r.tagName&&"password"===(e.oldValue||"").toLowerCase()&&r.setAttribute("data-rr-is-password","true"),!Uu(r.tagName,i)&&(c.attributes[i]=Bu(t.doc,fu(r.tagName),fu(i),a,r,t.maskAttributeFn),"style"===i)){if(!t.unattachedDoc)try{t.unattachedDoc=document.implementation.createHTMLDocument()}catch(_){t.unattachedDoc=t.doc}var l=t.unattachedDoc.createElement("span");e.oldValue&&l.setAttribute("style",e.oldValue);for(var d=0,f=Array.from(r.style);d<f.length;d++){var p=f[d],v=r.style.getPropertyValue(p),h=r.style.getPropertyPriority(p);v!==l.style.getPropertyValue(p)||h!==l.style.getPropertyPriority(p)?c.styleDiff[p]=""===h?v:[v,h]:c._unchangedStyles[p]=[v,h]}for(var m=0,y=Array.from(l.style);m<y.length;m++){var g=y[m];""===r.style.getPropertyValue(g)&&(c.styleDiff[g]=!1)}}break;case"childList":if(rc(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!0))return;e.addedNodes.forEach(function(n){return t.genAdds(n,e.target)}),e.removedNodes.forEach(function(n){var r=t.mirror.getId(n),i=au(e.target)?t.mirror.getId(e.target.host):t.mirror.getId(e.target);rc(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||ic(n,t.mirror)||!function(e,t){return-1!==t.getId(e)}(n,t.mirror)||(t.addedSet.has(n)?(Cc(t.addedSet,n),t.droppedSet.add(n)):t.addedSet.has(e.target)&&-1===r||ac(e.target,t.mirror)||(t.movedSet.has(n)&&t.movedMap[Ic(r,i)]?Cc(t.movedSet,n):t.removes.push({parentId:i,id:r,isShadow:!(!au(e.target)||!ou(e.target))||void 0})),t.mapRemoves.push(n))})}},this.genAdds=function(e,n){if(!t.processedNodeManager.inOtherBuffer(e,t)&&!t.addedSet.has(e)&&!t.movedSet.has(e)){if(t.mirror.hasNode(e)){if(ic(e,t.mirror))return;t.movedSet.add(e);var r=null;n&&t.mirror.hasNode(n)&&(r=t.mirror.getId(n)),r&&-1!==r&&(t.movedMap[Ic(t.mirror.getId(e),r)]=!0)}else t.addedSet.add(e),t.droppedSet.delete(e);rc(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(function(e){return t.genAdds(e)}),cc(e)&&e.shadowRoot.childNodes.forEach(function(n){t.processedNodeManager.add(n,t),t.genAdds(n,e)}))}}},[{key:"init",value:function(e){var t=this;["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(function(n){t[n]=e[n]})}},{key:"freeze",value:function(){this.frozen=!0,this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0,this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1,this.canvasManager.unlock(),this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset(),this.canvasManager.reset()}}])}();function Cc(e,t){var n;e.delete(t),null===(n=t.childNodes)||void 0===n||n.forEach(function(t){return Cc(e,t)})}function Rc(e,t,n){return 0!==e.length&&function(e,t,n){var r,i=t.parentNode,a=function(){var t=n.getId(i);if(e.some(function(e){return e.id===t}))return{v:!0};i=i.parentNode};for(;i;)if(r=a())return r.v;return!1}(e,t,n)}function Mc(e,t){return 0!==e.size&&Oc(e,t)}function Oc(e,t){var n=t.parentNode;return!!n&&(!!e.has(n)||Oc(e,n))}var Ac=function(e){if(!Ec)return e;return function(){try{return e.apply(void 0,arguments)}catch(t){if(Ec&&!0===Ec(t))return function(){};throw t}}},Dc=[];function Lc(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(n){}return e&&e.target}function Pc(e,t){var n,r,i=new xc;Dc.push(i),i.init(e);var a=window.MutationObserver||window.__rrMutationObserver,o=null===(n=window)||void 0===n||null===(n=n.Zone)||void 0===n||null===(r=n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");o&&window[o]&&(a=window[o]);var s=new a(Ac(function(t){e.onMutation&&!1===e.onMutation(t)||i.processMutations.bind(i)(t)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Nc(e){var t=e.mouseInteractionCb,n=e.doc,r=e.mirror,i=e.blockClass,a=e.blockSelector,o=e.unblockSelector,s=e.sampling;if(!1===s.mouseInteraction)return function(){};var u=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,c=[],l=null;return Object.keys(_c).filter(function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==u[e]}).forEach(function(e){var s=fu(e),u=function(e){return function(n){var s=Lc(n);if(!rc(s,i,a,o,!0)){var u=null,c=e;if("pointerType"in n){switch(n.pointerType){case"mouse":u=bc.Mouse;break;case"touch":u=bc.Touch;break;case"pen":u=bc.Pen}u===bc.Touch?_c[e]===_c.MouseDown?c="TouchStart":_c[e]===_c.MouseUp&&(c="TouchEnd"):bc.Pen}else oc(n)&&(u=bc.Touch);null!==u?(l=u,(c.startsWith("Touch")&&u===bc.Touch||c.startsWith("Mouse")&&u===bc.Mouse)&&(u=null)):_c[e]===_c.Click&&(u=l,l=null);var d=oc(n)?n.changedTouches[0]:n;if(d){var f=r.getId(s),p=d.clientX,v=d.clientY;Ac(t)(b({type:_c[c],id:f,x:p,y:v},null!==u&&{pointerType:u}))}}}}(e);if(window.PointerEvent)switch(_c[e]){case _c.MouseDown:case _c.MouseUp:s=s.replace("mouse","pointer");break;case _c.TouchStart:case _c.TouchEnd:return}c.push($u(s,u,n))}),Ac(function(){c.forEach(function(e){return e()})})}function Fc(e){var t=e.scrollCb,n=e.doc,r=e.mirror,i=e.blockClass,a=e.blockSelector,o=e.unblockSelector,s=e.sampling;return $u("scroll",Ac(Gu(Ac(function(e){var s=Lc(e);if(s&&!rc(s,i,a,o,!0)){var u=r.getId(s);if(s===n&&n.defaultView){var c=Zu(n.defaultView);t({id:u,x:c.left,y:c.top})}else t({id:u,x:s.scrollLeft,y:s.scrollTop})}}),s.scroll||100)),n)}var jc=["INPUT","TEXTAREA","SELECT"],Bc=new WeakMap;function Uc(e){var t=e.inputCb,n=e.doc,r=e.mirror,i=e.blockClass,a=e.blockSelector,o=e.unblockSelector,s=e.ignoreClass,u=e.ignoreSelector,c=e.maskInputOptions,l=e.maskInputFn,d=e.sampling,f=e.userTriggeredOnInput,p=e.maskTextClass,v=e.unmaskTextClass,h=e.maskTextSelector,m=e.unmaskTextSelector;function y(e){var t=Lc(e),r=e.isTrusted,d=t&&pu(t.tagName);if("OPTION"===d&&(t=t.parentElement),t&&d&&!(jc.indexOf(d)<0)&&!rc(t,i,a,o,!0)){var y=t;if(!(y.classList.contains(s)||u&&y.matches(u))){var _=hu(t),b=mu(y,d,_),k=!1,S=lu({maskInputOptions:c,tagName:d,type:_}),w=qu(t,p,h,v,m,S);"radio"!==_&&"checkbox"!==_||(k=t.checked),b=du({isMasked:w,element:t,value:b,maskInputFn:l}),g(t,f?{text:b,isChecked:k,userTriggered:r}:{text:b,isChecked:k});var E=t.name;"radio"===_&&E&&k&&n.querySelectorAll('input[type="radio"][name="'.concat(E,'"]')).forEach(function(e){if(e!==t){var n=du({isMasked:w,element:e,value:mu(e,d,_),maskInputFn:l});g(e,f?{text:n,isChecked:!k,userTriggered:!1}:{text:n,isChecked:!k})}})}}}function g(e,n){var i=Bc.get(e);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){Bc.set(e,n);var a=r.getId(e);Ac(t)(b(b({},n),{},{id:a}))}}var _=("last"===d.input?["change"]:["input","change"]).map(function(e){return $u(e,Ac(y),n)}),k=n.defaultView;if(!k)return function(){_.forEach(function(e){return e()})};var S=k.Object.getOwnPropertyDescriptor(k.HTMLInputElement.prototype,"value"),E=[[k.HTMLInputElement.prototype,"value"],[k.HTMLInputElement.prototype,"checked"],[k.HTMLSelectElement.prototype,"value"],[k.HTMLTextAreaElement.prototype,"value"],[k.HTMLSelectElement.prototype,"selectedIndex"],[k.HTMLOptionElement.prototype,"selected"]];return S&&S.set&&_.push.apply(_,w(E.map(function(e){return Yu(e[0],e[1],{set:function(){Ac(y)({target:this,isTrusted:!1})}},!1,k)}))),Ac(function(){_.forEach(function(e){return e()})})}function zc(e){return function(e,t){if(Vc("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Vc("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Vc("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Vc("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){var n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){var r=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(r)}return t}(e,[])}function Hc(e,t,n){var r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function qc(e,t){var n,r,i=e.mirror,a=e.stylesheetManager,o=null;o="#document"===t.nodeName?i.getId(t):i.getId(t.host);var s="#document"===t.nodeName?null===(n=t.defaultView)||void 0===n?void 0:n.Document:null===(r=t.ownerDocument)||void 0===r||null===(r=r.defaultView)||void 0===r?void 0:r.ShadowRoot,u=null!=s&&s.prototype?Object.getOwnPropertyDescriptor(null==s?void 0:s.prototype,"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&s&&u?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:function(){var e;return null===(e=u.get)||void 0===e?void 0:e.call(this)},set:function(e){var t,n=null===(t=u.set)||void 0===t?void 0:t.call(this,e);if(null!==o&&-1!==o)try{a.adoptStyleSheets(e,o)}catch(r){}return n}}),Ac(function(){Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})})):function(){}}function Wc(e){var t,n=e.doc.defaultView;if(!n)return function(){};e.recordDOM&&(t=Pc(e,e.doc));var r,i,a,o,s,u=function(e){var t=e.mousemoveCb,n=e.sampling,r=e.doc,i=e.mirror;if(!1===n.mousemove)return function(){};var a,o="number"==typeof n.mousemove?n.mousemove:50,s="number"==typeof n.mousemoveCallback?n.mousemoveCallback:500,u=[],c=Gu(Ac(function(e){var n=Date.now()-a;t(u.map(function(e){return e.timeOffset-=n,e}),e),u=[],a=null}),s),l=Ac(Gu(Ac(function(e){var t=Lc(e),n=oc(e)?e.changedTouches[0]:e,r=n.clientX,o=n.clientY;a||(a=Qu()),u.push({x:r,y:o,id:i.getId(t),timeOffset:Qu()-a}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?gc.Drag:e instanceof MouseEvent?gc.MouseMove:gc.TouchMove)}),o,{trailing:!1})),d=[$u("mousemove",l,r),$u("touchmove",l,r),$u("drag",l,r)];return Ac(function(){d.forEach(function(e){return e()})})}(e),c=Nc(e),l=Fc(e),d=(r={win:n},i=e.viewportResizeCb,a=r.win,o=-1,s=-1,$u("resize",Ac(Gu(Ac(function(){var e=ec(),t=tc();o===e&&s===t||(i({width:Number(t),height:Number(e)}),o=e,s=t)}),200)),a)),f=Uc(e),v=function(e){var t=e.mediaInteractionCb,n=e.blockClass,r=e.blockSelector,i=e.unblockSelector,a=e.mirror,o=e.sampling,s=e.doc,u=Ac(function(e){return Gu(Ac(function(o){var s=Lc(o);if(s&&!rc(s,n,r,i,!0)){var u=s.currentTime,c=s.volume,l=s.muted,d=s.playbackRate;t({type:e,id:a.getId(s),currentTime:u,volume:c,muted:l,playbackRate:d})}}),o.media||500)}),c=[$u("play",u(kc.Play),s),$u("pause",u(kc.Pause),s),$u("seeked",u(kc.Seeked),s),$u("volumechange",u(kc.VolumeChange),s),$u("ratechange",u(kc.RateChange),s)];return Ac(function(){c.forEach(function(e){return e()})})}(e),h=function(){},m=function(){},y=function(){},g=function(){};e.recordDOM&&(h=function(e,t){var n=e.styleSheetRuleCb,r=e.mirror,i=e.stylesheetManager,a=t.win;if(!a.CSSStyleSheet||!a.CSSStyleSheet.prototype)return function(){};var o=a.CSSStyleSheet.prototype.insertRule;a.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Ac(function(e,t,a){var o=p(a,2),s=o[0],u=o[1],c=Hc(t,r,i.styleMirror),l=c.id,d=c.styleId;return(l&&-1!==l||d&&-1!==d)&&n({id:l,styleId:d,adds:[{rule:s,index:u}]}),e.apply(t,a)})});var s,u,c=a.CSSStyleSheet.prototype.deleteRule;a.CSSStyleSheet.prototype.deleteRule=new Proxy(c,{apply:Ac(function(e,t,a){var o=p(a,1)[0],s=Hc(t,r,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&n({id:u,styleId:c,removes:[{index:o}]}),e.apply(t,a)})}),a.CSSStyleSheet.prototype.replace&&(s=a.CSSStyleSheet.prototype.replace,a.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Ac(function(e,t,a){var o=p(a,1)[0],s=Hc(t,r,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&n({id:u,styleId:c,replace:o}),e.apply(t,a)})})),a.CSSStyleSheet.prototype.replaceSync&&(u=a.CSSStyleSheet.prototype.replaceSync,a.CSSStyleSheet.prototype.replaceSync=new Proxy(u,{apply:Ac(function(e,t,a){var o=p(a,1)[0],s=Hc(t,r,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&n({id:u,styleId:c,replaceSync:o}),e.apply(t,a)})}));var l={};Jc("CSSGroupingRule")?l.CSSGroupingRule=a.CSSGroupingRule:(Jc("CSSMediaRule")&&(l.CSSMediaRule=a.CSSMediaRule),Jc("CSSConditionRule")&&(l.CSSConditionRule=a.CSSConditionRule),Jc("CSSSupportsRule")&&(l.CSSSupportsRule=a.CSSSupportsRule));var d={};return Object.entries(l).forEach(function(e){var t=p(e,2),a=t[0],o=t[1];d[a]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(d[a].insertRule,{apply:Ac(function(e,t,a){var o=p(a,2),s=o[0],u=o[1],c=Hc(t.parentStyleSheet,r,i.styleMirror),l=c.id,d=c.styleId;return(l&&-1!==l||d&&-1!==d)&&n({id:l,styleId:d,adds:[{rule:s,index:[].concat(w(zc(t)),[u||0])}]}),e.apply(t,a)})}),o.prototype.deleteRule=new Proxy(d[a].deleteRule,{apply:Ac(function(e,t,a){var o=p(a,1)[0],s=Hc(t.parentStyleSheet,r,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&n({id:u,styleId:c,removes:[{index:[].concat(w(zc(t)),[o])}]}),e.apply(t,a)})})}),Ac(function(){a.CSSStyleSheet.prototype.insertRule=o,a.CSSStyleSheet.prototype.deleteRule=c,s&&(a.CSSStyleSheet.prototype.replace=s),u&&(a.CSSStyleSheet.prototype.replaceSync=u),Object.entries(l).forEach(function(e){var t=p(e,2),n=t[0],r=t[1];r.prototype.insertRule=d[n].insertRule,r.prototype.deleteRule=d[n].deleteRule})})}(e,{win:n}),m=qc(e,e.doc),y=function(e,t){var n=e.styleDeclarationCb,r=e.mirror,i=e.ignoreCSSAttributes,a=e.stylesheetManager,o=t.win,s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:Ac(function(e,t,o){var u,c=p(o,3),l=c[0],d=c[1],f=c[2];if(i.has(l))return s.apply(t,[l,d,f]);var v=Hc(null===(u=t.parentRule)||void 0===u?void 0:u.parentStyleSheet,r,a.styleMirror),h=v.id,m=v.styleId;return(h&&-1!==h||m&&-1!==m)&&n({id:h,styleId:m,set:{property:l,value:d,priority:f},index:zc(t.parentRule)}),e.apply(t,o)})});var u=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:Ac(function(e,t,o){var s,c=p(o,1)[0];if(i.has(c))return u.apply(t,[c]);var l=Hc(null===(s=t.parentRule)||void 0===s?void 0:s.parentStyleSheet,r,a.styleMirror),d=l.id,f=l.styleId;return(d&&-1!==d||f&&-1!==f)&&n({id:d,styleId:f,remove:{property:c},index:zc(t.parentRule)}),e.apply(t,o)})}),Ac(function(){o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=u})}(e,{win:n}),e.collectFonts&&(g=function(e){var t=e.fontCb,n=e.doc,r=n.defaultView;if(!r)return function(){};var i=[],a=new WeakMap,o=r.FontFace;r.FontFace=function(e,t,n){var r=new o(e,t,n);return a.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};var s=Xu(n.fonts,"add",function(e){return function(n){return mc(Ac(function(){var e=a.get(n);e&&(t(e),a.delete(n))}),0),e.apply(this,[n])}});return i.push(function(){r.FontFace=o}),i.push(s),Ac(function(){i.forEach(function(e){return e()})})}(e)));var _,b,k,S,E,I,x,C,R,M,O=(b=(_=e).doc,k=_.mirror,S=_.blockClass,E=_.blockSelector,I=_.unblockSelector,x=_.selectionCb,C=!0,(R=Ac(function(){var e=b.getSelection();if(!(!e||C&&null!=e&&e.isCollapsed)){C=e.isCollapsed||!1;for(var t=[],n=e.rangeCount||0,r=0;r<n;r++){var i=e.getRangeAt(r),a=i.startContainer,o=i.startOffset,s=i.endContainer,u=i.endOffset;rc(a,S,E,I,!0)||rc(s,S,E,I,!0)||t.push({start:k.getId(a),startOffset:o,end:k.getId(s),endOffset:u})}x({ranges:t})}}))(),$u("selectionchange",R)),A=function(e){var t=e.doc,n=e.customElementCb,r=t.defaultView;return r&&r.customElements?Xu(r.customElements,"define",function(e){return function(t,r,i){try{n({define:{name:t}})}catch(a){}return e.apply(this,[t,r,i])}}):function(){}}(e),D=[],L=T(e.plugins);try{for(L.s();!(M=L.n()).done;){var P=M.value;D.push(P.observer(P.callback,n,P.options))}}catch(N){L.e(N)}finally{L.f()}return Ac(function(){var e;Dc.forEach(function(e){return e.reset()}),null===(e=t)||void 0===e||e.disconnect(),u(),c(),l(),d(),f(),v(),h(),m(),y(),g(),O(),A(),D.forEach(function(e){return e()})})}function Vc(e){return void 0!==window[e]}function Jc(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}for(var $c=function(){return g(function e(t){m(this,e),this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap},[{key:"getId",value:function(e,t,n,r){var i=n||this.getIdToRemoteIdMap(e),a=r||this.getRemoteIdToIdMap(e),o=i.get(t);return o||(o=this.generateIdFn(),i.set(t,o),a.set(o,t)),o}},{key:"getIds",value:function(e,t){var n=this,r=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map(function(t){return n.getId(e,t,r,i)})}},{key:"getRemoteId",value:function(e,t,n){var r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;var i=r.get(t);return i||-1}},{key:"getRemoteIds",value:function(e,t){var n=this,r=this.getRemoteIdToIdMap(e);return t.map(function(t){return n.getRemoteId(e,t,r)})}},{key:"reset",value:function(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}},{key:"getIdToRemoteIdMap",value:function(e){var t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}},{key:"getRemoteIdToIdMap",value:function(e){var t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}])}(),Kc=function(){return g(function e(){m(this,e),this.crossOriginIframeMirror=new $c(xu),this.crossOriginIframeRootIdMap=new WeakMap},[{key:"addIframe",value:function(){}},{key:"addLoadListener",value:function(){}},{key:"attachIframe",value:function(){}}])}(),Gc=function(){return g(function e(t){m(this,e),this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new $c(xu),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new $c(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))},[{key:"addIframe",value:function(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}},{key:"addLoadListener",value:function(e){this.loadListener=e}},{key:"attachIframe",value:function(e,t){var n,r;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null===(n=e.contentWindow)||void 0===n||n.addEventListener("message",this.handleMessage.bind(this))),null===(r=this.loadListener)||void 0===r||r.call(this,e);var i=Sc(e);i&&i.adoptedStyleSheets&&i.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(i.adoptedStyleSheets,this.mirror.getId(i))}},{key:"handleMessage",value:function(e){var t=e;if("rrweb"===t.data.type&&t.origin===t.data.origin&&e.source){var n=this.crossOriginIframeMap.get(e.source);if(n){var r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}}}},{key:"transformCrossOriginEvent",value:function(e,t){var n=this;switch(t.type){case yc.FullSnapshot:this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:yc.IncrementalSnapshot,data:{source:gc.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case yc.Meta:case yc.Load:case yc.DomContentLoaded:return!1;case yc.Plugin:return t;case yc.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case yc.IncrementalSnapshot:switch(t.data.source){case gc.Mutation:return t.data.adds.forEach(function(t){n.replaceIds(t,e,["parentId","nextId","previousId"]),n.replaceIdOnNode(t.node,e);var r=n.crossOriginIframeRootIdMap.get(e);r&&n.patchRootIdOnNode(t.node,r)}),t.data.removes.forEach(function(t){n.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(function(t){n.replaceIds(t,e,["id"])}),t.data.texts.forEach(function(t){n.replaceIds(t,e,["id"])}),t;case gc.Drag:case gc.TouchMove:case gc.MouseMove:return t.data.positions.forEach(function(t){n.replaceIds(t,e,["id"])}),t;case gc.ViewportResize:return!1;case gc.MediaInteraction:case gc.MouseInteraction:case gc.Scroll:case gc.CanvasMutation:case gc.Input:return this.replaceIds(t.data,e,["id"]),t;case gc.StyleSheetRule:case gc.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case gc.Font:return t;case gc.Selection:return t.data.ranges.forEach(function(t){n.replaceIds(t,e,["start","end"])}),t;case gc.AdoptedStyleSheet:var i;return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(i=t.data.styles)||void 0===i||i.forEach(function(t){n.replaceStyleIds(t,e,["styleId"])}),t}}return!1}},{key:"replace",value:function(e,t,n,r){var i,a=T(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;(Array.isArray(t[o])||"number"==typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]))}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"replaceIds",value:function(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}},{key:"replaceStyleIds",value:function(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}},{key:"replaceIdOnNode",value:function(e,t){var n=this;this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(function(e){n.replaceIdOnNode(e,t)})}},{key:"patchRootIdOnNode",value:function(e,t){var n=this;e.type===iu.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(function(e){n.patchRootIdOnNode(e,t)})}}])}(),Yc=function(){return g(function e(){m(this,e)},[{key:"init",value:function(){}},{key:"addShadowRoot",value:function(){}},{key:"observeAttachShadow",value:function(){}},{key:"reset",value:function(){}}])}(),Xc=function(){return g(function e(t){m(this,e),this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()},[{key:"init",value:function(){this.reset(),this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(e,t){var n=this;if(ou(e)&&!this.shadowDoms.has(e)){this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);var r=Pc(b(b({},this.bypassOptions),{},{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(function(){return r.disconnect()}),this.restoreHandlers.push(Fc(b(b({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),mc(function(){e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&n.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,n.mirror.getId(e.host)),n.restoreHandlers.push(qc({mirror:n.mirror,stylesheetManager:n.bypassOptions.stylesheetManager},e))},0)}}},{key:"observeAttachShadow",value:function(e){var t=Sc(e),n=function(e){try{return e.contentWindow}catch(t){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}},{key:"patchAttachShadow",value:function(e,t){var n=this;this.restoreHandlers.push(Xu(e.prototype,"attachShadow",function(e){return function(r){var i=e.call(this,r);return this.shadowRoot&&pc(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}},{key:"reset",value:function(){this.restoreHandlers.forEach(function(e){try{e()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}])}(),Qc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zc="undefined"==typeof Uint8Array?[]:new Uint8Array(256),el=0;el<64;el++)Zc[Qc.charCodeAt(el)]=el;var tl,nl,rl=function(){return g(function e(){m(this,e)},[{key:"reset",value:function(){}},{key:"freeze",value:function(){}},{key:"unfreeze",value:function(){}},{key:"lock",value:function(){}},{key:"unlock",value:function(){}},{key:"snapshot",value:function(){}},{key:"addWindow",value:function(){}},{key:"addShadowRoot",value:function(){}},{key:"resetShadowRoots",value:function(){}}])}(),il=function(){return g(function e(t){m(this,e),this.trackedLinkElements=new WeakSet,this.styleMirror=new lc,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb},[{key:"attachLinkElement",value:function(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}},{key:"trackLinkElement",value:function(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}},{key:"adoptStyleSheets",value:function(e,t){if(0!==e.length){var n,r={id:t,styleIds:[]},i=[],a=T(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=void 0;this.styleMirror.has(o)?s=this.styleMirror.getId(o):(s=this.styleMirror.add(o),i.push({styleId:s,rules:Array.from(o.rules||CSSRule,function(e,t){return{rule:uu(e),index:t}})})),r.styleIds.push(s)}}catch(u){a.e(u)}finally{a.f()}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}}},{key:"reset",value:function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(e){}}])}(),al=function(){return g(function e(){m(this,e),this.nodeMap=new WeakMap,this.active=!1},[{key:"inOtherBuffer",value:function(e,t){var n=this.nodeMap.get(e);return n&&Array.from(n).some(function(e){return e!==t})}},{key:"add",value:function(e,t){var n=this;this.active||(this.active=!0,function(){hc("requestAnimationFrame").apply(void 0,arguments)}(function(){n.nodeMap=new WeakMap,n.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}},{key:"destroy",value:function(){}}])}();try{if(2!==Array.from([1],function(e){return 2*e})[0]){var ol,sl=document.createElement("iframe");document.body.appendChild(sl),Array.from=(null===(ol=sl.contentWindow)||void 0===ol?void 0:ol.Array.from)||Array.from,document.body.removeChild(sl)}}catch(Xf){}var ul,cl,ll=new cu;function dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.emit,n=e.checkoutEveryNms,r=e.checkoutEveryNth,i=e.blockClass,a=void 0===i?"rr-block":i,o=e.blockSelector,s=void 0===o?null:o,u=e.unblockSelector,c=void 0===u?null:u,l=e.ignoreClass,d=void 0===l?"rr-ignore":l,f=e.ignoreSelector,p=void 0===f?null:f,v=e.maskAllText,h=void 0!==v&&v,m=e.maskTextClass,y=void 0===m?"rr-mask":m,g=e.unmaskTextClass,_=void 0===g?null:g,k=e.maskTextSelector,S=void 0===k?null:k,w=e.unmaskTextSelector,E=void 0===w?null:w,I=e.inlineStylesheet,x=void 0===I||I,C=e.maskAllInputs,R=e.maskInputOptions,M=e.slimDOMOptions,O=e.maskAttributeFn,A=e.maskInputFn,D=e.maskTextFn,L=e.maxCanvasSize,P=void 0===L?null:L,N=e.packFn,F=e.sampling,j=void 0===F?{}:F,B=e.dataURLOptions,U=void 0===B?{}:B,z=e.mousemoveWait,H=e.recordDOM,q=void 0===H||H,W=e.recordCanvas,V=void 0!==W&&W,J=e.recordCrossOriginIframes,$=void 0!==J&&J,K=e.recordAfter,G=void 0===K?"DOMContentLoaded"===e.recordAfter?e.recordAfter:"load":K,Y=e.userTriggeredOnInput,X=void 0!==Y&&Y,Q=e.collectFonts,Z=void 0!==Q&&Q,ee=e.inlineImages,te=void 0!==ee&&ee,ne=e.plugins,re=e.keepIframeSrcFn,ie=void 0===re?function(){return!1}:re,ae=e.ignoreCSSAttributes,oe=void 0===ae?new Set([]):ae,se=e.errorHandler,ue=e.onMutation,ce=e.getCanvasManager;Ec=se;var le=!$||window.parent===window,de=!1;if(!le)try{window.parent.document&&(de=!1)}catch(Ae){de=!0}if(le&&!t)throw new Error("emit function is required");if(!le&&!de)return function(){};void 0!==z&&void 0===j.mousemove&&(j.mousemove=z),ll.reset();var fe,pe=!0===C?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==R?R:{},ve=!0===M||"all"===M?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===M,headMetaDescKeywords:"all"===M}:M||{};!function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(!(0 in n))throw new TypeError("1 argument is required");do{if(e===i)return!0}while(i=i&&i.parentNode);return!1})}();var he=0,me=function(e){var t,n=T(ne||[]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.eventProcessor&&(e=r.eventProcessor(e))}}catch(Xf){n.e(Xf)}finally{n.f()}return N&&!de&&(e=N(e)),e};tl=function(e,i){var a,o=e;if(o.timestamp=Qu(),null===(a=Dc[0])||void 0===a||!a.isFrozen()||o.type===yc.FullSnapshot||o.type===yc.IncrementalSnapshot&&o.data.source===gc.Mutation||Dc.forEach(function(e){return e.unfreeze()}),le)null==t||t(me(o),i);else if(de){var s={type:"rrweb",event:me(o),origin:window.location.origin,isCheckout:i};window.parent.postMessage(s,"*")}if(o.type===yc.FullSnapshot)fe=o,he=0;else if(o.type===yc.IncrementalSnapshot){if(o.data.source===gc.Mutation&&o.data.isAttachIframe)return;he++;var u=r&&he>=r,c=n&&fe&&o.timestamp-fe.timestamp>n;(u||c)&&Ce(!0)}};var ye,ge=function(e){tl({type:yc.IncrementalSnapshot,data:b({source:gc.Mutation},e)})},_e=function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.Scroll},e)})},be=function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.CanvasMutation},e)})},ke=new il({mutationCb:ge,adoptedStyleSheetCb:function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.AdoptedStyleSheet},e)})}}),Se="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new Kc:new Gc({mirror:ll,mutationCb:ge,stylesheetManager:ke,recordCrossOriginIframes:$,wrappedEmit:tl}),we=T(ne||[]);try{for(we.s();!(ye=we.n()).done;){var Ee=ye.value;Ee.getMirror&&Ee.getMirror({nodeMirror:ll,crossOriginIframeMirror:Se.crossOriginIframeMirror,crossOriginIframeStyleMirror:Se.crossOriginIframeStyleMirror})}}catch(Xf){we.e(Xf)}finally{we.f()}var Te=new al,Ie=function(e,t){try{return e?e(t):new rl}catch(n){return new rl}}(ce,{mirror:ll,win:window,mutationCb:function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.CanvasMutation},e)})},recordCanvas:V,blockClass:a,blockSelector:s,unblockSelector:c,maxCanvasSize:P,sampling:j.canvas,dataURLOptions:U,errorHandler:se}),xe="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Yc:new Xc({mutationCb:ge,scrollCb:_e,bypassOptions:{onMutation:ue,blockClass:a,blockSelector:s,unblockSelector:c,maskAllText:h,maskTextClass:y,unmaskTextClass:_,maskTextSelector:S,unmaskTextSelector:E,inlineStylesheet:x,maskInputOptions:pe,dataURLOptions:U,maskAttributeFn:O,maskTextFn:D,maskInputFn:A,recordCanvas:V,inlineImages:te,sampling:j,slimDOMOptions:ve,iframeManager:Se,stylesheetManager:ke,canvasManager:Ie,keepIframeSrcFn:ie,processedNodeManager:Te,ignoreCSSAttributes:oe},mirror:ll}),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(q){tl({type:yc.Meta,data:{href:window.location.href,width:tc(),height:ec()}},e),ke.reset(),xe.init(),Dc.forEach(function(e){return e.lock()});var t=function(e,t){var n=t||{},r=n.mirror,i=void 0===r?new cu:r,a=n.blockClass,o=void 0===a?"rr-block":a,s=n.blockSelector,u=void 0===s?null:s,c=n.unblockSelector,l=void 0===c?null:c,d=n.maskAllText,f=void 0!==d&&d,p=n.maskTextClass,v=void 0===p?"rr-mask":p,h=n.unmaskTextClass,m=void 0===h?null:h,y=n.maskTextSelector,g=void 0===y?null:y,_=n.unmaskTextSelector,b=void 0===_?null:_,k=n.inlineStylesheet,S=void 0===k||k,w=n.inlineImages,E=void 0!==w&&w,T=n.recordCanvas,I=void 0!==T&&T,x=n.maskAllInputs,C=void 0!==x&&x,R=n.maskAttributeFn,M=n.maskTextFn,O=n.maskInputFn,A=n.slimDOM,D=void 0!==A&&A,L=n.dataURLOptions,P=n.preserveWhiteSpace,N=n.onSerialize,F=n.onIframeLoad,j=n.iframeLoadTimeout,B=n.onBlockedImageLoad,U=n.onStylesheetLoad,z=n.stylesheetLoadTimeout,H=n.keepIframeSrcFn,q=void 0===H?function(){return!1}:H,W=n.ignoreCSSAttributes;return Ju(e,{doc:e,mirror:i,blockClass:o,blockSelector:u,unblockSelector:l,maskAllText:f,maskTextClass:v,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:b,skipChild:!1,inlineStylesheet:S,maskInputOptions:!0===C?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===C?{}:C,maskAttributeFn:R,maskTextFn:M,maskInputFn:O,slimDOMOptions:!0===D||"all"===D?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===D,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===D?{}:D,dataURLOptions:L,inlineImages:E,recordCanvas:I,preserveWhiteSpace:P,onSerialize:N,onIframeLoad:F,iframeLoadTimeout:j,onBlockedImageLoad:B,onStylesheetLoad:U,stylesheetLoadTimeout:z,keepIframeSrcFn:q,newlyAddedElement:!1,ignoreCSSAttributes:void 0===W?new Set([]):W})}(document,{mirror:ll,blockClass:a,blockSelector:s,unblockSelector:c,maskAllText:h,maskTextClass:y,unmaskTextClass:_,maskTextSelector:S,unmaskTextSelector:E,inlineStylesheet:x,maskAllInputs:pe,maskAttributeFn:O,maskInputFn:A,maskTextFn:D,slimDOM:ve,dataURLOptions:U,recordCanvas:V,inlineImages:te,onSerialize:function(e){sc(e,ll)&&Se.addIframe(e),uc(e,ll)&&ke.trackLinkElement(e),cc(e)&&xe.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,t){Se.attachIframe(e,t),e.contentWindow&&Ie.addWindow(e.contentWindow),xe.observeAttachShadow(e)},onStylesheetLoad:function(e,t){ke.attachLinkElement(e,t)},onBlockedImageLoad:function(e,t,n){var r=n.width,i=n.height;ge({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:{style:{width:"".concat(r,"px"),height:"".concat(i,"px")}}}]})},keepIframeSrcFn:ie,ignoreCSSAttributes:oe});t&&(tl({type:yc.FullSnapshot,data:{node:t,initialOffset:Zu(window)}}),Dc.forEach(function(e){return e.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ke.adoptStyleSheets(document.adoptedStyleSheets,ll.getId(document)))}};nl=Ce;try{var Re=[],Me=function(e){var t;return Ac(Wc)({onMutation:ue,mutationCb:ge,mousemoveCb:function(e,t){return tl({type:yc.IncrementalSnapshot,data:{source:t,positions:e}})},mouseInteractionCb:function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.MouseInteraction},e)})},scrollCb:_e,viewportResizeCb:function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.ViewportResize},e)})},inputCb:function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.Input},e)})},mediaInteractionCb:function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.MediaInteraction},e)})},styleSheetRuleCb:function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.StyleSheetRule},e)})},styleDeclarationCb:function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.StyleDeclaration},e)})},canvasMutationCb:be,fontCb:function(e){return tl({type:yc.IncrementalSnapshot,data:b({source:gc.Font},e)})},selectionCb:function(e){tl({type:yc.IncrementalSnapshot,data:b({source:gc.Selection},e)})},customElementCb:function(e){tl({type:yc.IncrementalSnapshot,data:b({source:gc.CustomElement},e)})},blockClass:a,ignoreClass:d,ignoreSelector:p,maskAllText:h,maskTextClass:y,unmaskTextClass:_,maskTextSelector:S,unmaskTextSelector:E,maskInputOptions:pe,inlineStylesheet:x,sampling:j,recordDOM:q,recordCanvas:V,inlineImages:te,userTriggeredOnInput:X,collectFonts:Z,doc:e,maskAttributeFn:O,maskInputFn:A,maskTextFn:D,keepIframeSrcFn:ie,blockSelector:s,unblockSelector:c,slimDOMOptions:ve,dataURLOptions:U,mirror:ll,iframeManager:Se,stylesheetManager:ke,shadowDomManager:xe,processedNodeManager:Te,canvasManager:Ie,ignoreCSSAttributes:oe,plugins:(null==ne||null===(t=ne.filter(function(e){return e.observer}))||void 0===t?void 0:t.map(function(e){return{observer:e.observer,options:e.options,callback:function(t){return tl({type:yc.Plugin,data:{plugin:e.name,payload:t}})}}}))||[]},{})};Se.addLoadListener(function(e){try{Re.push(Me(e.contentDocument))}catch(t){}});var Oe=function(){Ce(),Re.push(Me(document))};return"interactive"===document.readyState||"complete"===document.readyState?Oe():(Re.push($u("DOMContentLoaded",function(){tl({type:yc.DomContentLoaded,data:{}}),"DOMContentLoaded"===G&&Oe()})),Re.push($u("load",function(){tl({type:yc.Load,data:{}}),"load"===G&&Oe()},window))),function(){Re.forEach(function(e){return e()}),Te.destroy(),nl=void 0,Ec=void 0}}catch(De){}}dl.mirror=ll,dl.takeFullSnapshot=function(e){if(!nl)throw new Error("please take full snapshot after start recording");nl(e)},(cl=ul||(ul={}))[cl.NotStarted=0]="NotStarted",cl[cl.Running=1]="Running",cl[cl.Stopped=2]="Stopped";function fl(e){return e>9999999999?e:1e3*e}function pl(e){return e>9999999999?e/1e3:e}function vl(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(function(){return e.throttledAddEvent({type:yc.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:An(t,10,1e3)}}),"console"===t.category}))}var hl;function ml(e){return e.closest("button,a")||e}function yl(e){var t=gl(e);return t&&t instanceof Element?ml(t):t}function gl(e){return function(e){return"object"===C(e)&&!!e&&"target"in e}(e)?e.target:e}function _l(e){return hl||(hl=[],De(Gs,"open",function(e){return function(){if(hl)try{hl.forEach(function(e){return e()})}catch(i){}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Gs,n)}})),hl.push(e),function(){var t=hl?hl.indexOf(e):-1;t>-1&&hl.splice(t,1)}}var bl=new Set([gc.Mutation,gc.StyleSheetRule,gc.StyleDeclaration,gc.AdoptedStyleSheet,gc.CanvasMutation,gc.Selection,gc.MediaInteraction]);var kl=function(){return g(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vl;m(this,e),this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r},[{key:"addListeners",value:function(){var e=this,t=_l(function(){e._lastMutation=wl()});this._teardown=function(){t(),e._clicks=[],e._lastMutation=0,e._lastScroll=0}}},{key:"removeListeners",value:function(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}},{key:"handleClick",value:function(e,t){if(!function(e,t){if(!Sl.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)&&function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e)){var n={timestamp:pl(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(function(e){return e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1})||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}}},{key:"registerMutation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=pl(e)}},{key:"registerScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=pl(e)}},{key:"registerClick",value:function(e){var t=ml(e);this._handleMultiClick(t)}},{key:"_handleMultiClick",value:function(e){this._getClicks(e).forEach(function(e){e.clickCount++})}},{key:"_getClicks",value:function(e){return this._clicks.filter(function(t){return t.node===e})}},{key:"_checkClicks",value:function(){var e=this,t=[],n=wl();this._clicks.forEach(function(r){!r.mutationAfter&&e._lastMutation&&(r.mutationAfter=r.timestamp<=e._lastMutation?e._lastMutation-r.timestamp:void 0),!r.scrollAfter&&e._lastScroll&&(r.scrollAfter=r.timestamp<=e._lastScroll?e._lastScroll-r.timestamp:void 0),r.timestamp+e._timeout<=n&&t.push(r)});for(var r=0,i=t;r<i.length;r++){var a=i[r],o=this._clicks.indexOf(a);o>-1&&(this._generateBreadcrumbs(a),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}},{key:"_generateBreadcrumbs",value:function(e){var t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!n&&!r,a=e.clickCount,o=e.clickBreadcrumb;if(i){var s=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),u=s<1e3*this._timeout?"mutation":"timeout",c={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:b(b({},o.data),{},{url:Gs.location.href,route:t.getCurrentRoute(),timeAfterClickMs:s,endReason:u,clickCount:a||1})};this._addBreadcrumbEvent(t,c)}else if(a>1){var l={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:b(b({},o.data),{},{url:Gs.location.href,route:t.getCurrentRoute(),clickCount:a,metric:!0})};this._addBreadcrumbEvent(t,l)}}},{key:"_scheduleCheckClicks",value:function(){var e=this;this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=is(function(){return e._checkClicks()},1e3)}}])}(),Sl=["A","BUTTON","INPUT"];function wl(){return Date.now()/1e3}function El(e,t){try{if(!function(e){return 3===e.type}(t))return;var n=t.data.source;if(bl.has(n)&&e.registerMutation(t.timestamp),n===gc.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===gc.MouseInteraction}(t)){var r=t.data,i=r.type,a=r.id,o=dl.mirror.getNode(a);o instanceof HTMLElement&&i===_c.Click&&e.registerClick(o)}}catch(s){}}function Tl(e){return b({timestamp:Date.now()/1e3,type:"default"},e)}var Il=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(Il||{}),xl=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Cl(e){var t={};for(var n in!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]),e)if(xl.has(n)){var r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}var Rl=function(e){return function(t){if(e.isEnabled()){var n=function(e){var t=function(e){var t,n="click"===e.name,r=null;try{t=Re(r=n?yl(e.event):gl(e.event),{maxStringLength:200})||"<unknown>"}catch(i){t="<unknown>"}return{target:r,message:t}}(e),n=t.target,r=t.message;return Tl(b({category:"ui.".concat(e.name)},Ml(n,r)))}(t);if(n){var r,i,a,o="click"===t.name,s=o?t.event:void 0;!(o&&e.clickDetector&&null!=s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||(r=e.clickDetector,i=n,a=yl(t.event),r.handleClick(i,a)),vl(e,n)}}}};function Ml(e,t){var n=dl.mirror.getId(e),r=n&&dl.mirror.getNode(n),i=r&&dl.mirror.getMeta(r),a=i&&function(e){return e.type===Il.Element}(i)?i:null;return{message:t,data:a?{nodeId:n,node:{id:n,tagName:a.tagName,textContent:Array.from(a.childNodes).map(function(e){return e.type===Il.Text&&e.textContent}).filter(Boolean).map(function(e){return e.trim()}).join(""),attributes:Cl(a.attributes)}}:{}}}function Ol(e,t){if(e.isEnabled()){e.updateUserActivity();var n=function(e){var t=e.metaKey,n=e.shiftKey,r=e.ctrlKey,i=e.altKey,a=e.key,o=e.target;if(!o||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(o)||!a)return null;var s=t||r||i,u=1===a.length;if(!s&&u)return null;var c=Re(o,{maxStringLength:200})||"<unknown>",l=Ml(o,c);return Tl({category:"ui.keyDown",message:c,data:b(b({},l.data),{},{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:a})})}(t);n&&vl(e,n)}}var Al={resource:function(e){var t=e.entryType,n=e.initiatorType,r=e.name,i=e.responseEnd,a=e.startTime,o=e.decodedBodySize,s=e.encodedBodySize,u=e.responseStatus,c=e.transferSize;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:"".concat(t,".").concat(n),start:Pl(a),end:Pl(i),name:r,data:{size:c,statusCode:u,decodedBodySize:o,encodedBodySize:s}}},paint:function(e){var t=e.duration,n=e.entryType,r=e.name,i=Pl(e.startTime);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){var t=e.entryType,n=e.name,r=e.decodedBodySize,i=e.duration,a=e.domComplete,o=e.encodedBodySize,s=e.domContentLoadedEventStart,u=e.domContentLoadedEventEnd,c=e.domInteractive,l=e.loadEventStart,d=e.loadEventEnd,f=e.redirectCount,p=e.startTime,v=e.transferSize,h=e.type;if(0===i)return null;return{type:"".concat(t,".").concat(h),start:Pl(p),end:Pl(a),name:n,data:{size:v,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:c,domContentLoadedEventStart:s,domContentLoadedEventEnd:u,loadEventStart:l,loadEventEnd:d,domComplete:a,redirectCount:f}}}};function Dl(e,t){return function(n){var r=n.metric;t.replayPerformanceEntries.push(e(r))}}function Ll(e){var t=Al[e.entryType];return t?t(e):null}function Pl(e){return((rt()||Gs.performance.timeOrigin)+e)/1e3}function Nl(e){var t=e.entries[e.entries.length-1];return Ul(e,"largest-contentful-paint",null!=t&&t.element?[t.element]:void 0)}function Fl(e){return void 0!==e.sources}function jl(e){var t,n=[],r=[],i=T(e.entries);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(Fl(a)){var o,s=[],u=T(a.sources);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.node){r.push(c.node);var l=dl.mirror.getId(c.node);l&&s.push(l)}}}catch(Xf){u.e(Xf)}finally{u.f()}n.push({value:a.value,nodeIds:s.length?s:void 0})}}}catch(Xf){i.e(Xf)}finally{i.f()}return Ul(e,"cumulative-layout-shift",r,n)}function Bl(e){var t=e.entries[e.entries.length-1];return Ul(e,"interaction-to-next-paint",null!=t&&t.target?[t.target]:void 0)}function Ul(e,t,n,r){var i=e.value,a=e.rating,o=Pl(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:a,nodeIds:n?n.map(function(e){return dl.mirror.getId(e)}):void 0,attributions:r}}}var zl="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var Hl=["log","warn","error"],ql="[Replay] ";function Wl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";Ii({category:"console",data:{logger:"replay"},level:t,message:"".concat(ql).concat(e)},{level:t})}var Vl,Jl,$l,Kl=(Vl=!1,Jl=!1,$l={exception:function(){},infoTick:function(){},setConfig:function(e){Vl=!!e.captureExceptions,Jl=!!e.traceInternals}},zl?(Hl.forEach(function(e){$l[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];q[e].apply(q,[ql].concat(n)),Jl&&Wl(n.join(""),Ui(e))}}),$l.exception=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.length&&$l.error&&$l.error.apply($l,n),q.error(ql,e),Vl?Ir(e,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):Jl&&Wl(e,"error")},$l.infoTick=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];q.log.apply(q,[ql].concat(t)),Jl&&setTimeout(function(){return Wl(t[0])},0)}):Hl.forEach(function(e){$l[e]=function(){}}),$l),Gl=function(e){function t(){return m(this,t),r(this,t,["Event buffer exceeded maximum size of ".concat(eu,".")])}return s(t,e),g(t)}(t(Error)),Yl=function(){return g(function e(){m(this,e),this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1},[{key:"hasEvents",get:function(){return this.events.length>0}},{key:"type",get:function(){return"sync"}},{key:"destroy",value:function(){this.events=[]}},{key:"addEvent",value:(e=f(c().m(function e(t){var n;return c().w(function(e){for(;;)switch(e.n){case 0:if(n=JSON.stringify(t).length,this._totalSize+=n,!(this._totalSize>eu)){e.n=1;break}throw new Gl;case 1:this.events.push(t);case 2:return e.a(2)}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"finish",value:function(){var e=this;return new Promise(function(t){var n=e.events;e.clear(),t(JSON.stringify(n))})}},{key:"clear",value:function(){this.events=[],this._totalSize=0,this.hasCheckout=!1}},{key:"getEarliestTimestamp",value:function(){var e=this.events.map(function(e){return e.timestamp}).sort()[0];return e?fl(e):null}}]);var e}(),Xl=function(){return g(function e(t){m(this,e),this._worker=t,this._id=0},[{key:"ensureReady",value:function(){var e=this;return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(function(t,n){e._worker.addEventListener("message",function(e){e.data.success?t():n()},{once:!0}),e._worker.addEventListener("error",function(e){n(e)},{once:!0})})),this._ensureReadyPromise}},{key:"destroy",value:function(){zl&&Kl.log("Destroying compression worker"),this._worker.terminate()}},{key:"postMessage",value:function(e,t){var n=this,r=this._getAndIncrementId();return new Promise(function(i,a){var o=function(t){var s=t.data;if(s.method===e&&s.id===r){if(n._worker.removeEventListener("message",o),!s.success)return zl&&Kl.error("Error in compression worker: ",s.response),void a(new Error("Error in compression worker"));i(s.response)}};n._worker.addEventListener("message",o),n._worker.postMessage({id:r,method:e,arg:t})})}},{key:"_getAndIncrementId",value:function(){return this._id++}}])}(),Ql=function(){return g(function e(t){m(this,e),this._worker=new Xl(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1},[{key:"hasEvents",get:function(){return!!this._earliestTimestamp}},{key:"type",get:function(){return"worker"}},{key:"ensureReady",value:function(){return this._worker.ensureReady()}},{key:"destroy",value:function(){this._worker.destroy()}},{key:"addEvent",value:function(e){var t=fl(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);var n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>eu?Promise.reject(new Gl):this._sendEventToWorker(n)}},{key:"finish",value:function(){return this._finishRequest()}},{key:"clear",value:function(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,function(e){zl&&Kl.exception(e,'Sending "clear" message to worker failed',e)})}},{key:"getEarliestTimestamp",value:function(){return this._earliestTimestamp}},{key:"_sendEventToWorker",value:function(e){return this._worker.postMessage("addEvent",e)}},{key:"_finishRequest",value:(e=f(c().m(function e(){var t;return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._worker.postMessage("finish");case 1:return t=e.v,this._earliestTimestamp=null,this._totalSize=0,e.a(2,t)}},e,this)})),function(){return e.apply(this,arguments)})}]);var e}(),Zl=function(){return g(function e(t){m(this,e),this._fallback=new Yl,this._compression=new Ql(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()},[{key:"waitForCheckout",get:function(){return this._used.waitForCheckout},set:function(e){this._used.waitForCheckout=e}},{key:"type",get:function(){return this._used.type}},{key:"hasEvents",get:function(){return this._used.hasEvents}},{key:"hasCheckout",get:function(){return this._used.hasCheckout},set:function(e){this._used.hasCheckout=e}},{key:"destroy",value:function(){this._fallback.destroy(),this._compression.destroy()}},{key:"clear",value:function(){return this._used.clear()}},{key:"getEarliestTimestamp",value:function(){return this._used.getEarliestTimestamp()}},{key:"addEvent",value:function(e){return this._used.addEvent(e)}},{key:"finish",value:(n=f(c().m(function e(){return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.ensureWorkerIsLoaded();case 1:return e.a(2,this._used.finish())}},e,this)})),function(){return n.apply(this,arguments)})},{key:"ensureWorkerIsLoaded",value:function(){return this._ensureWorkerIsLoadedPromise}},{key:"_ensureWorkerIsLoaded",value:(t=f(c().m(function e(){var t;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,this._compression.ensureReady();case 1:e.n=3;break;case 2:return e.p=2,t=e.v,zl&&Kl.exception(t,"Failed to load the compression worker, falling back to simple buffer"),e.a(2);case 3:return e.n=4,this._switchToCompressionWorker();case 4:return e.a(2)}},e,this,[[0,2]])})),function(){return t.apply(this,arguments)})},{key:"_switchToCompressionWorker",value:(e=f(c().m(function e(){var t,n,r,i,a,o,s,u,l;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:t=this._fallback,n=t.events,r=t.hasCheckout,i=t.waitForCheckout,a=[],o=T(n);try{for(o.s();!(s=o.n()).done;)u=s.value,a.push(this._compression.addEvent(u))}catch(Xf){o.e(Xf)}finally{o.f()}return this._compression.hasCheckout=r,this._compression.waitForCheckout=i,this._used=this._compression,e.p=1,e.n=2,Promise.all(a);case 2:this._fallback.clear(),e.n=4;break;case 3:e.p=3,l=e.v,zl&&Kl.exception(l,"Failed to add events when switching buffers.");case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return e.apply(this,arguments)})}]);var e,t,n}();function ed(e){var t=e.useCompression,n=e.workerUrl;if(t&&window.Worker){var r=function(e){try{var t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){var e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;zl&&Kl.log("Using compression worker".concat(e?" from ".concat(e):""));var n=new Worker(t);return new Zl(n)}catch(r){zl&&Kl.exception(r,"Failed to create compression worker")}}(n);if(r)return r}return zl&&Kl.log("Using simple buffer"),new Yl}function td(){try{return"sessionStorage"in Gs&&!!Gs.sessionStorage}catch(e){return!1}}function nd(e){!function(){if(!td())return;try{Gs.sessionStorage.removeItem(Ys)}catch(e){}}(),e.session=void 0}function rd(e){return void 0!==e&&Math.random()<e}function id(e){if(td())try{Gs.sessionStorage.setItem(Ys,JSON.stringify(e))}catch(t){}}function ad(e){var t=Date.now();return{id:e.id||$e(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId,dirty:e.dirty||!1}}function od(e){var t=e.sessionSampleRate,n=e.allowBuffering,r=e.stickySession,i=void 0!==r&&r,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousSessionId,o=function(e,t){return rd(e)?"session":!!t&&"buffer"}(t,n),s=ad({sampled:o,previousSessionId:a});return i&&id(s),s}function sd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function ud(e,t){var n=t.maxReplayDuration,r=t.sessionIdleExpire,i=t.targetTime,a=void 0===i?Date.now():i;return sd(e.started,n,a)||sd(e.lastActivity,r,a)}function cd(e,t){return!!ud(e,{sessionIdleExpire:t.sessionIdleExpire,maxReplayDuration:t.maxReplayDuration})&&("buffer"!==e.sampled||0!==e.segmentId)}function ld(e,t){var n=e.sessionIdleExpire,r=e.maxReplayDuration,i=e.previousSessionId,a=t.stickySession&&function(){if(!td())return null;try{var e=Gs.sessionStorage.getItem(Ys);if(!e)return null;var t=JSON.parse(e);return zl&&Kl.infoTick("Loading existing session"),ad(t)}catch(n){return null}}();return a?cd(a,{sessionIdleExpire:n,maxReplayDuration:r})?(zl&&Kl.infoTick("Session in sessionStorage is expired, creating new one..."),od(t,{previousSessionId:a.id})):a:(zl&&Kl.infoTick("Creating new session"),od(t,{previousSessionId:i}))}function dd(e,t,n){return!!vd(e,t)&&(fd(e,t,n),!0)}function fd(e,t,n){return pd.apply(this,arguments)}function pd(){return(pd=f(c().m(function e(t,n,r){var i,a,o,s,u,l,d,f,p;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if((i=t.eventBuffer)&&(!i.waitForCheckout||r)){e.n=1;break}return e.a(2,null);case 1:if(a="buffer"===t.recordingMode,e.p=2,r&&a&&i.clear(),r&&(i.hasCheckout=!0,i.waitForCheckout=!1),o=t.getOptions(),s=hd(n,o.beforeAddRecordingEvent)){e.n=3;break}return e.a(2);case 3:return e.n=4,i.addEvent(s);case 4:return e.a(2,e.v);case 5:if(e.p=5,p=e.v,l=(u=p&&p instanceof Gl)?"addEventSizeExceeded":"addEvent",(d=St())&&(f=u?"buffer_overflow":"internal_sdk_error",d.recordDroppedEvent(f,"replay")),!u||!a){e.n=6;break}return i.clear(),i.waitForCheckout=!0,e.a(2,null);case 6:return t.handleException(p),e.n=7,t.stop({reason:l});case 7:return e.a(2)}},e,null,[[2,5]])}))).apply(this,arguments)}function vd(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;var n=fl(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(zl&&Kl.infoTick("Skipping event with timestamp ".concat(n," because it is after maxReplayDuration")),!1))}function hd(e,t){try{if("function"==typeof t&&function(e){return e.type===yc.Custom}(e))return t(e)}catch(n){return zl&&Kl.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function md(e){return!e.type}function yd(e){return"transaction"===e.type}function gd(e){return"feedback"===e.type}function _d(e){return function(t,n){if(e.isEnabled()&&(md(t)||yd(t))){var r=n.statusCode;!r||r<200||r>=300||(yd(t)?function(e,t){var n,r=e.getContext();null!==(n=t.contexts)&&void 0!==n&&null!==(n=n.trace)&&void 0!==n&&n.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}(e,t):function(e,t){var n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;var r=e.getOptions(),i=r.beforeErrorSampling;if("function"==typeof i&&!i(t))return;is(f(c().m(function t(){var n;return c().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.sendBufferedReplayOrFlush();case 1:t.n=3;break;case 2:t.p=2,n=t.v,e.handleException(n);case 3:return t.a(2)}},t,null,[[0,2]])})))}(e,t))}}}function bd(e){return function(t){e.isEnabled()&&md(t)&&function(e,t){var n,r=null===(n=t.exception)||void 0===n||null===(n=n.values)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.value;if("string"!=typeof r)return;if(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i)){vl(e,Tl({category:"replay.hydrate-error",data:{url:Oe()}}))}}(e,t)}}function kd(e){var t=St();t&&t.on("beforeAddBreadcrumb",function(t){return function(e,t){if(!e.isEnabled()||!Sd(t))return;var n=function(e){if(!Sd(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.arguments;if(!Array.isArray(n)||0===n.length)return Tl(e);var r=!1,i=n.map(function(e){if(!e)return e;if("string"==typeof e)return e.length>Zs?(r=!0,"".concat(e.slice(0,Zs),"")):e;if("object"===C(e))try{var t=An(e,7);return JSON.stringify(t).length>Zs?(r=!0,"".concat(JSON.stringify(t,null,2).slice(0,Zs),"")):t}catch(n){}return e});return Tl(b(b({},e),{},{data:b(b({},e.data),{},{arguments:i},r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}(e);return Tl(e)}(t);n&&vl(e,n)}(e,t)})}function Sd(e){return!!e.category}function wd(){var e=_t().getPropagationContext().dsc;e&&delete e.replay_id;var t=yn();t&&delete Mn(t).replay_id}function Ed(e){return Object.assign(function(t,n){var r;if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!md(t)&&!yd(t)&&!gd(t))return t;if(!e.checkAndHandleExpiredSession())return wd(),t;if(gd(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate(function(){return!t.timestamp||(e.throttledAddEvent({type:yc.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)})}(e,t),t;if(function(e,t){var n,r;return!(e.type||null===(n=e.exception)||void 0===n||null===(n=n.values)||void 0===n||!n.length||null===(r=t.originalException)||void 0===r||!r.__rrweb__)}(t,n)&&!e.getOptions()._experiments.captureExceptions)return zl&&Kl.log("Ignoring error from rrweb internals",t),null;var i=function(e,t){return"buffer"===e.recordingMode&&t.message!==Xs&&!(!t.exception||t.type)&&rd(e.getOptions().errorSampleRate)}(e,t);if((i||"session"===e.recordingMode)&&(t.tags=b(b({},t.tags),{},{replayId:e.getSessionId()})),i&&"buffer"===e.recordingMode&&"buffer"===(null===(r=e.session)||void 0===r?void 0:r.sampled)){var a=e.session;a.dirty=!0,e.getOptions().stickySession&&id(a)}return t},{id:"Replay"})}function Td(e,t){return t.map(function(t){var n=t.type,r=t.start,i=t.end,a=t.name,o=t.data,s=e.throttledAddEvent({type:yc.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:a,startTimestamp:r,endTimestamp:i,data:o}}});return"string"==typeof s?Promise.resolve(null):s})}function Id(e){return function(t){if(e.isEnabled()){var n=function(e){var t=e.from,n=e.to,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(function(){return Td(e,[n]),!1}))}}}function xd(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!zl||!e.getOptions()._experiments.traceInternals)&&bi(t,St())}(e,t.name)||e.addUpdate(function(){return Td(e,[t]),!0}))}function Cd(e){if(e){var t=new TextEncoder;try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){var n=cs(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(r){}}}function Rd(e){if(e){var t=parseInt(e,10);return isNaN(t)?void 0:t}}function Md(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};var n=b({},e._meta),r=n.warnings||[];return n.warnings=[].concat(w(r),[t]),e._meta=n,e}function Od(e,t){return t?{type:e,start:t.startTimestamp/1e3,end:t.endTimestamp/1e3,name:t.url,data:{method:t.method,statusCode:t.statusCode,request:t.request,response:t.response}}:null}function Ad(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Dd(e,t,n){if(t||0!==Object.keys(e).length){if(!t)return{headers:e};if(!n)return{headers:e,size:t};var r={headers:e,size:t},i=function(e){if(!e||"string"!=typeof e)return{body:e};var t=e.length>Qs,n=(r=e,i=r[0],a=r[r.length-1],"["===i&&"]"===a||"{"===i&&"}"===a);var r,i,a;if(t){var o=e.slice(0,Qs);return n?{body:o,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(o,""),warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(s){}return{body:e}}(n),a=i.body,o=i.warnings;return r.body=a,null!=o&&o.length&&(r._meta={warnings:o}),r}}function Ld(e,t){return Object.entries(e).reduce(function(n,r){var i=p(r,2),a=i[0],o=i[1],s=a.toLowerCase();return t.includes(s)&&e[a]&&(n[s]=o),n},{})}function Pd(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gs.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Gs.location.origin))return e;var n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;var r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return Je(n,t)}function Nd(){return(Nd=f(c().m(function e(t,n,r){var i,a,o;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Fd(t,n,r);case 1:i=e.v,a=Od("resource.fetch",i),xd(r.replay,a),e.n=3;break;case 2:e.p=2,o=e.v,zl&&Kl.exception(o,"Failed to capture fetch breadcrumb");case 3:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}function Fd(e,t,n){return jd.apply(this,arguments)}function jd(){return(jd=f(c().m(function e(t,n,r){var i,a,o,s,u,l,d,f,p,v,h,m,y,g,_;return c().w(function(e){for(;;)switch(e.n){case 0:return i=Date.now(),a=n.startTimestamp,o=void 0===a?i:a,s=n.endTimestamp,u=void 0===s?i:s,l=t.data,d=l.url,f=l.method,p=l.status_code,v=void 0===p?0:p,h=l.request_body_size,m=l.response_body_size,y=Pd(d,r.networkDetailAllowUrls)&&!Pd(d,r.networkDetailDenyUrls),g=y?Bd(r,n.input,h):Ad(h),e.n=1,Ud(y,r,n.response,m);case 1:return _=e.v,e.a(2,{startTimestamp:o,endTimestamp:u,url:d,method:f,statusCode:v,request:g,response:_})}},e)}))).apply(this,arguments)}function Bd(e,t,n){var r=e.networkCaptureBodies,i=e.networkRequestHeaders,a=t?function(e,t){if(1===e.length&&"string"!=typeof e[0])return Jd(e[0],t);if(2===e.length)return Jd(e[1],t);return{}}(t,i):{};if(!r)return Dd(a,n,void 0);var o=p(ls(ds(t),Kl),2),s=o[0],u=o[1],c=Dd(a,n,s);return u?Md(c,u):c}function Ud(e,t,n,r){return zd.apply(this,arguments)}function zd(){return(zd=f(c().m(function e(t,n,r,i){var a,o,s,u,l,d,f,v;return c().w(function(e){for(;;)switch(e.n){case 0:if(a=n.networkCaptureBodies,o=n.networkResponseHeaders,t||void 0===i){e.n=1;break}return e.a(2,Ad(i));case 1:if(s=r?Vd(r.headers,o):{},r&&(a||void 0===i)){e.n=2;break}return e.a(2,Dd(s,i,void 0));case 2:return e.n=3,qd(r);case 3:if(u=e.v,l=p(u,2),d=l[0],f=l[1],v=Hd(d,{networkCaptureBodies:a,responseBodySize:i,captureDetails:t,headers:s}),!f){e.n=4;break}return e.a(2,Md(v,f));case 4:return e.a(2,v)}},e)}))).apply(this,arguments)}function Hd(e,t){var n=t.networkCaptureBodies,r=t.responseBodySize,i=t.captureDetails,a=t.headers;try{var o=null!=e&&e.length&&void 0===r?Cd(e):r;return i?Dd(a,o,n?e:void 0):Ad(o)}catch(s){return zl&&Kl.exception(s,"Failed to serialize response body"),Dd(a,r,void 0)}}function qd(e){return Wd.apply(this,arguments)}function Wd(){return(Wd=f(c().m(function e(t){var n,r,i;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=$d(t)){e.n=1;break}return e.a(2,[void 0,"BODY_PARSE_ERROR"]);case 1:return e.p=1,e.n=2,Kd(n);case 2:return r=e.v,e.a(2,[r]);case 3:if(e.p=3,!((i=e.v)instanceof Error&&i.message.indexOf("Timeout")>-1)){e.n=4;break}return zl&&Kl.warn("Parsing text body from response timed out"),e.a(2,[void 0,"BODY_PARSE_TIMEOUT"]);case 4:return zl&&Kl.exception(i,"Failed to get text body from response"),e.a(2,[void 0,"BODY_PARSE_ERROR"])}},e,null,[[1,3]])}))).apply(this,arguments)}function Vd(e,t){var n={};return t.forEach(function(t){e.get(t)&&(n[t]=e.get(t))}),n}function Jd(e,t){if(!e)return{};var n=e.headers;return n?n instanceof Headers?Vd(n,t):Array.isArray(n)?{}:Ld(n,t):{}}function $d(e){try{return e.clone()}catch(t){zl&&Kl.exception(t,"Failed to clone response body")}}function Kd(e){return new Promise(function(t,n){var r=is(function(){return n(new Error("Timeout while trying to read response body"))},500);(function(e){return Gd.apply(this,arguments)})(e).then(function(e){return t(e)},function(e){return n(e)}).finally(function(){return clearTimeout(r)})})}function Gd(){return(Gd=f(c().m(function e(t){return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.text();case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function Yd(){return Yd=f(c().m(function e(t,n,r){var i,a;return c().w(function(e){for(;;)switch(e.n){case 0:try{i=Qd(t,n,r),a=Od("resource.xhr",i),xd(r.replay,a)}catch(o){zl&&Kl.exception(o,"Failed to capture xhr breadcrumb")}case 1:return e.a(2)}},e)})),Yd.apply(this,arguments)}function Xd(e,t){var n=t.xhr,r=t.input;if(n){var i=Cd(r),a=n.getResponseHeader("content-length")?Rd(n.getResponseHeader("content-length")):function(e,t){try{return Cd("json"===t&&e&&"object"===C(e)?JSON.stringify(e):e)}catch(n){return}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}}function Qd(e,t,n){var r=Date.now(),i=t.startTimestamp,a=void 0===i?r:i,o=t.endTimestamp,s=void 0===o?r:o,u=t.input,c=t.xhr,l=e.data,d=l.url,f=l.method,v=l.status_code,h=void 0===v?0:v,m=l.request_body_size,y=l.response_body_size;if(!d)return null;if(!c||!Pd(d,n.networkDetailAllowUrls)||Pd(d,n.networkDetailDenyUrls))return{startTimestamp:a,endTimestamp:s,url:d,method:f,statusCode:h,request:Ad(m),response:Ad(y)};var g=c[as],_=g?Ld(g.request_headers,n.networkRequestHeaders):{},b=Ld(fs(c),n.networkResponseHeaders),k=p(n.networkCaptureBodies?ls(u,Kl):[void 0],2),S=k[0],w=k[1],E=n.networkCaptureBodies?function(e){var t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"===C(e))return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return zl&&Kl.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return zl&&Kl.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(n){t.push(n)}return zl&&Kl.warn.apply(Kl,["Failed to get xhr response body"].concat(t)),[void 0]}(c):[void 0],T=p(E,2),I=T[0],x=T[1],R=Dd(_,m,S),M=Dd(b,y,I);return{startTimestamp:a,endTimestamp:s,url:d,method:f,statusCode:h,request:w?Md(R,w):R,response:x?Md(M,x):M}}function Zd(e){var t=St();try{var n=e.getOptions(),r={replay:e,networkDetailAllowUrls:n.networkDetailAllowUrls,networkDetailDenyUrls:n.networkDetailDenyUrls,networkCaptureBodies:n.networkCaptureBodies,networkRequestHeaders:n.networkRequestHeaders,networkResponseHeaders:n.networkResponseHeaders};t&&t.on("beforeAddBreadcrumb",function(e,t){return function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return null==e?void 0:e.xhr}(n)&&(Xd(t,n),function(e,t,n){Yd.apply(this,arguments)}(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return null==e?void 0:e.response}(n)&&(function(e,t){var n=t.input,r=t.response,i=Cd(n?ds(n):void 0),a=r?Rd(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}(t,n),function(e,t,n){Nd.apply(this,arguments)}(t,n,e))}catch(r){zl&&Kl.exception(r,"Error when enriching network breadcrumb")}}(r,e,t)})}catch(i){}}function ef(e){var t=St();Yo(Rl(e)),Zo(Id(e)),kd(e),Zd(e);var n,r=Ed(e);n=r,bt().addEventProcessor(n),t&&(t.on("beforeSendEvent",bd(e)),t.on("afterSendEvent",_d(e)),t.on("createDsc",function(t){var n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&(e.checkAndHandleExpiredSession()&&(t.replay_id=n))}),t.on("spanStart",function(t){e.lastActiveSpan=t}),t.on("spanEnd",function(t){e.lastActiveSpan=t}),t.on("beforeSendFeedback",function(){var t=f(c().m(function t(n,r){var i,a;return c().w(function(t){for(;;)switch(t.n){case 0:if(a=e.getSessionId(),!(null!=r&&r.includeReplay&&e.isEnabled()&&a&&null!==(i=n.contexts)&&void 0!==i&&i.feedback)){t.n=2;break}if("api"!==n.contexts.feedback.source){t.n=1;break}return t.n=1,e.sendBufferedReplayOrFlush();case 1:n.contexts.feedback.replay_id=a;case 2:return t.a(2)}},t)}));return function(e,n){return t.apply(this,arguments)}}()),t.on("openFeedbackWidget",f(c().m(function t(){return c().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.sendBufferedReplayOrFlush();case 1:return t.a(2)}},t)}))))}function tf(e){return nf.apply(this,arguments)}function nf(){return(nf=f(c().m(function e(t){return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.a(2,Promise.all(Td(t,[rf(Gs.performance.memory)])));case 1:return e.p=1,e.v,e.a(2,[])}},e,null,[[0,1]])}))).apply(this,arguments)}function rf(e){var t=e.jsHeapSizeLimit,n=e.totalJSHeapSize,r=e.usedJSHeapSize,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function af(e,t,n){return function(e,t,n){var r,i,a,o=null!=n&&n.maxWait?Math.max(n.maxWait,t):0,s=(null==n?void 0:n.setTimeoutImpl)||setTimeout;function u(){return c(),r=e()}function c(){void 0!==i&&clearTimeout(i),void 0!==a&&clearTimeout(a),i=a=void 0}function l(){return i&&clearTimeout(i),i=s(u,t),o&&void 0===a&&(a=s(u,o)),r}return l.cancel=c,l.flush=function(){return void 0!==i||void 0!==a?u():r},l}(e,t,b(b({},n),{},{setTimeoutImpl:is}))}var of=A.navigator;function sf(e){var t=!1;return function(n,r){if(e.checkAndHandleExpiredSession()){var i=r||!t;t=!0,e.clickDetector&&El(e.clickDetector,n),e.addUpdate(function(){if("buffer"===e.recordingMode&&i&&e.setInitialState(),!dd(e,n,i))return!0;if(!i)return!1;var t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;dd(e,function(e){var t=e.getOptions();return{type:yc.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,i),"buffer"===e.recordingMode&&t&&e.eventBuffer&&!t.dirty){var r=e.eventBuffer.getEarliestTimestamp();r&&(zl&&Kl.log("Updating session start time to earliest event in buffer to ".concat(new Date(r))),t.started=r,e.getOptions().stickySession&&id(t))}return null!=t&&t.previousSessionId||"session"===e.recordingMode&&e.flush(),!0})}else zl&&Kl.warn("Received replay event after session expired.")}}function uf(e,t,n,r){return Pn(Vn(e,Wn(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}function cf(e){var t,n=e.recordingData,r=e.headers,i="".concat(JSON.stringify(r),"\n");if("string"==typeof n)t="".concat(i).concat(n);else{var a=(new TextEncoder).encode(i);(t=new Uint8Array(a.length+n.length)).set(a),t.set(n,a.length)}return t}function lf(e){return df.apply(this,arguments)}function df(){return(df=f(c().m(function e(t){var n,r,i,a,o,s,u,l,d,f,p,v;return c().w(function(e){for(;;)switch(e.n){case 0:return n=t.client,r=t.scope,i=t.replayId,a=t.event,o="object"!==C(n._integrations)||null===n._integrations||Array.isArray(n._integrations)?void 0:Object.keys(n._integrations),s={event_id:i,integrations:o},n.emit("preprocessEvent",a,s),e.n=1,wr(n.getOptions(),a,s,r,n,bt());case 1:if(u=e.v){e.n=2;break}return e.a(2,null);case 2:return n.emit("postprocessEvent",u,s),u.platform=u.platform||"javascript",l=n.getSdkMetadata(),d=(null==l?void 0:l.sdk)||{},f=d.name,p=d.version,v=d.settings,u.sdk=b(b({},u.sdk),{},{name:f||"sentry.javascript.unknown",version:p||"0.0.0",settings:v}),e.a(2,u)}},e)}))).apply(this,arguments)}function ff(e){return pf.apply(this,arguments)}function pf(){return(pf=f(c().m(function e(t){var n,r,i,a,o,s,u,l,d,f,p,v,h,m,y,g,_,b,k,S,w,E;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=t.recordingData,r=t.replayId,i=t.segmentId,a=t.eventContext,o=t.timestamp,s=t.session,u=cf({recordingData:n,headers:{segment_id:i}}),l=a.urls,d=a.errorIds,f=a.traceIds,p=a.initialTimestamp,v=St(),h=_t(),m=null==v?void 0:v.getTransport(),y=null==v?void 0:v.getDsn(),v&&m&&y&&s.sampled){e.n=1;break}return e.a(2,Promise.resolve({}));case 1:return g={type:"replay_event",replay_start_timestamp:p/1e3,timestamp:o/1e3,error_ids:d,trace_ids:f,urls:l,replay_id:r,segment_id:i,replay_type:s.sampled},e.n=2,lf({scope:h,client:v,replayId:r,event:g});case 2:if(_=e.v){e.n=3;break}return v.recordDroppedEvent("event_processor","replay"),zl&&Kl.log("An event processor returned `null`, will not send event."),e.a(2,Promise.resolve({}));case 3:return delete _.sdkProcessingMetadata,b=uf(_,u,y,v.getOptions().tunnel),e.p=4,e.n=5,m.send(b);case 5:k=e.v,e.n=7;break;case 6:e.p=6,E=e.v,S=new Error(Xs);try{S.cause=E}catch(c){}throw S;case 7:if(!Jr(w=$r({},k),"replay")){e.n=8;break}throw new hf(w);case 8:if("number"!=typeof k.statusCode||!(k.statusCode<200||k.statusCode>=300)){e.n=9;break}throw new vf(k.statusCode);case 9:return e.a(2,k)}},e,null,[[4,6]])}))).apply(this,arguments)}var vf=function(e){function t(e){return m(this,t),r(this,t,["Transport returned status code ".concat(e)])}return s(t,e),g(t)}(t(Error)),hf=function(e){function t(e){var n;return m(this,t),(n=r(this,t,["Rate limit hit"])).rateLimits=e,n}return s(t,e),g(t)}(t(Error)),mf=function(e){function t(){return m(this,t),r(this,t,["Session is too long, not sending replay"])}return s(t,e),g(t)}(t(Error));function yf(e){return gf.apply(this,arguments)}function gf(){return gf=f(c().m(function e(t){var n,r,i,a,o,s=arguments;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{count:0,interval:5e3},r=t.recordingData,i=t.onError,r.length){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,ff(t);case 2:return e.a(2,!0);case 3:if(e.p=3,!((o=e.v)instanceof vf||o instanceof hf)){e.n=4;break}throw o;case 4:if(Cr("Replays",{_retryCount:n.count}),i&&i(o),!(n.count>=3)){e.n=5;break}a=new Error("".concat(Xs," - max retries exceeded"));try{a.cause=o}catch(u){}throw a;case 5:return n.interval*=++n.count,e.a(2,new Promise(function(e,r){is(f(c().m(function i(){var a;return c().w(function(i){for(;;)switch(i.p=i.n){case 0:return i.p=0,i.n=1,yf(t,n);case 1:e(!0),i.n=3;break;case 2:i.p=2,a=i.v,r(a);case 3:return i.a(2)}},i,null,[[0,2]])})),n.interval)}))}},e,null,[[1,3]])})),gf.apply(this,arguments)}var _f="__THROTTLED";function bf(e,t,n){var r=new Map,i=!1;return function(){var a=Math.floor(Date.now()/1e3);if(function(e){var t=e-n;r.forEach(function(e,n){n<t&&r.delete(n)})}(a),w(r.values()).reduce(function(e,t){return e+t},0)>=t){var o=i;return i=!0,o?"__SKIPPED":_f}i=!1;var s=r.get(a)||0;return r.set(a,s+1),e.apply(void 0,arguments)}}var kf=function(){return g(function e(t){var n=this,r=t.options,i=t.recordingOptions;m(this,e),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=i,this._options=r,this._debouncedFlush=af(function(){return n._flush()},this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=bf(function(e,t){return function(e,t,n){return vd(e,t)?fd(e,t,n):Promise.resolve(null)}(n,e,t)},300,5);var a=this.getOptions(),o=a.slowClickTimeout,s=a.slowClickIgnoreSelectors,u=o?{threshold:Math.min(3e3,o),timeout:o,scrollTimeout:300,ignoreSelector:s?s.join(","):""}:void 0;if(u&&(this.clickDetector=new kl(this,u)),zl){var c=r._experiments;Kl.setConfig({captureExceptions:!!c.captureExceptions,traceInternals:!!c.traceInternals})}this._handleVisibilityChange=function(){"visible"===Gs.document.visibilityState?n._doChangeToForegroundTasks():n._doChangeToBackgroundTasks()},this._handleWindowBlur=function(){var e=Tl({category:"ui.blur"});n._doChangeToBackgroundTasks(e)},this._handleWindowFocus=function(){var e=Tl({category:"ui.focus"});n._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=function(e){Ol(n,e)}},[{key:"getContext",value:function(){return this._context}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"isPaused",value:function(){return this._isPaused}},{key:"isRecordingCanvas",value:function(){return Boolean(this._canvas)}},{key:"getOptions",value:function(){return this._options}},{key:"handleException",value:function(e){zl&&Kl.exception(e),this._options.onError&&this._options.onError(e)}},{key:"initializeSampling",value:function(e){var t=this._options,n=t.errorSampleRate,r=t.sessionSampleRate,i=n<=0&&r<=0;this._requiresManualStart=i,i||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",zl&&Kl.infoTick("Starting replay in ".concat(this.recordingMode," mode")),this._initializeRecording()):zl&&Kl.exception(new Error("Unable to initialize and create session")))}},{key:"start",value:function(){if(this._isEnabled&&"session"===this.recordingMode)zl&&Kl.log("Recording is already in progress");else if(this._isEnabled&&"buffer"===this.recordingMode)zl&&Kl.log("Buffering is in progress, call `flush()` to save the replay");else{zl&&Kl.infoTick("Starting replay in session mode"),this._updateUserActivity();var e=ld({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}}},{key:"startBuffering",value:function(){if(this._isEnabled)zl&&Kl.log("Buffering is in progress, call `flush()` to save the replay");else{zl&&Kl.infoTick("Starting replay in buffer mode");var e=ld({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}}},{key:"startRecording",value:function(){try{var e=this._canvas;this._stopRecording=dl(b(b(b(b({},this._recordingOptions),"buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{},{emit:sf(this)},/iPhone|iPad|iPod/i.test(null!==(t=null==of?void 0:of.userAgent)&&void 0!==t?t:"")||/Macintosh/i.test(null!==(n=null==of?void 0:of.userAgent)&&void 0!==n?n:"")&&null!=of&&of.maxTouchPoints&&(null==of?void 0:of.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}),{},{onMutation:this._onMutationHandler.bind(this)},e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(Xf){this.handleException(Xf)}var t,n}},{key:"stopRecording",value:function(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(Xf){return this.handleException(Xf),!1}}},{key:"stop",value:(i=f(c().m(function e(){var t,n,r,i,a,o,s=arguments;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=(t=s.length>0&&void 0!==s[0]?s[0]:{}).forceFlush,r=void 0!==n&&n,i=t.reason,this._isEnabled){e.n=1;break}return e.a(2);case 1:if(this._isEnabled=!1,this.recordingMode="buffer",e.p=2,zl&&Kl.log("Stopping Replay".concat(i?" triggered by ".concat(i):"")),wd(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),!r){e.n=3;break}return e.n=3,this._flush({force:!0});case 3:null===(a=this.eventBuffer)||void 0===a||a.destroy(),this.eventBuffer=null,nd(this),e.n=5;break;case 4:e.p=4,o=e.v,this.handleException(o);case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return i.apply(this,arguments)})},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this.stopRecording(),zl&&Kl.log("Pausing replay"))}},{key:"resume",value:function(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),zl&&Kl.log("Resuming replay"))}},{key:"sendBufferedReplayOrFlush",value:(r=f(c().m(function e(){var t,n,r,i,a=arguments;return c().w(function(e){for(;;)switch(e.n){case 0:if(t=(a.length>0&&void 0!==a[0]?a[0]:{}).continueRecording,n=void 0===t||t,"session"!==this.recordingMode){e.n=1;break}return e.a(2,this.flushImmediate());case 1:return r=Date.now(),zl&&Kl.log("Converting buffer to session"),e.n=2,this.flushImmediate();case 2:if(i=this.stopRecording(),n&&i){e.n=3;break}return e.a(2);case 3:if("session"!==this.recordingMode){e.n=4;break}return e.a(2);case 4:this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording();case 5:return e.a(2)}},e,this)})),function(){return r.apply(this,arguments)})},{key:"addUpdate",value:function(e){var t=e();"buffer"!==this.recordingMode&&this._isEnabled&&!0!==t&&this._debouncedFlush()}},{key:"triggerUserActivity",value:function(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}},{key:"updateUserActivity",value:function(){this._updateUserActivity(),this._updateSessionActivity()}},{key:"conditionalFlush",value:function(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}},{key:"flush",value:function(){return this._debouncedFlush()}},{key:"flushImmediate",value:function(){return this._debouncedFlush(),this._debouncedFlush.flush()}},{key:"cancelFlush",value:function(){this._debouncedFlush.cancel()}},{key:"getSessionId",value:function(e){var t,n;if(!e||!1!==(null===(t=this.session)||void 0===t?void 0:t.sampled))return null===(n=this.session)||void 0===n?void 0:n.id}},{key:"checkAndHandleExpiredSession",value:function(){if(!(this._lastActivity&&sd(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}},{key:"setInitialState",value:function(){var e="".concat(Gs.location.pathname).concat(Gs.location.hash).concat(Gs.location.search),t="".concat(Gs.location.origin).concat(e);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}},{key:"throttledAddEvent",value:function(e,t){var n=this,r=this._throttledAddEvent(e,t);if(r===_f){var i=Tl({category:"replay.throttled"});this.addUpdate(function(){return!dd(n,{type:5,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}})})}return r}},{key:"getCurrentRoute",value:function(){var e=this.lastActiveSpan||yn(),t=e&&mn(e),n=(t&&cn(t).data||{})[wt];if(t&&n&&["route","custom"].includes(n))return cn(t).description}},{key:"_initializeRecording",value:function(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=ed({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}},{key:"_initializeSessionForSampling",value:function(e){var t=this._options.errorSampleRate>0,n=ld({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}},{key:"_checkSession",value:function(){if(!this.session)return!1;var e=this.session;return!cd(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}},{key:"_refreshSession",value:(n=f(c().m(function e(t){return c().w(function(e){for(;;)switch(e.n){case 0:if(this._isEnabled){e.n=1;break}return e.a(2);case 1:return e.n=2,this.stop({reason:"refresh session"});case 2:this.initializeSampling(t.id);case 3:return e.a(2)}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_addListeners",value:function(){try{Gs.document.addEventListener("visibilitychange",this._handleVisibilityChange),Gs.addEventListener("blur",this._handleWindowBlur),Gs.addEventListener("focus",this._handleWindowFocus),Gs.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(ef(this),this._hasInitializedCoreListeners=!0)}catch(Xf){this.handleException(Xf)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){e.entries.forEach(t)}var r=[];return["navigation","paint","resource"].forEach(function(e){r.push(yo(e,n))}),r.push(ho(Dl(Nl,e)),vo(Dl(jl,e)),mo(Dl(Bl,e))),function(){r.forEach(function(e){return e()})}}(this)}},{key:"_removeListeners",value:function(){try{Gs.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Gs.removeEventListener("blur",this._handleWindowBlur),Gs.removeEventListener("focus",this._handleWindowFocus),Gs.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(Xf){this.handleException(Xf)}}},{key:"_doChangeToBackgroundTasks",value:function(e){this.session&&(ud(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush()))}},{key:"_doChangeToForegroundTasks",value:function(e){this.session&&(this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):zl&&Kl.log("Document has become active, but session has expired"))}},{key:"_updateUserActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}},{key:"_updateSessionActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}},{key:"_createCustomBreadcrumb",value:function(e){var t=this;this.addUpdate(function(){t.throttledAddEvent({type:yc.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}},{key:"_addPerformanceEntries",value:function(){var e,t=(e=this.performanceEntries,e.map(Ll).filter(Boolean)).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){var n=this._context.initialTimestamp/1e3;t=t.filter(function(e){return e.start>=n})}return Promise.all(Td(this,t))}},{key:"_clearContext",value:function(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}},{key:"_updateInitialTimestampFromEventBuffer",value:function(){var e=this.session,t=this.eventBuffer;if(e&&t&&!this._requiresManualStart&&!e.segmentId){var n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}}},{key:"_popEventContext",value:function(){var e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}},{key:"_runFlush",value:(t=f(c().m(function e(){var t,n,r,i,a,o,s,u,l,d=this;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=this.getSessionId(),this.session&&this.eventBuffer&&n){e.n=1;break}return zl&&Kl.error("No session or eventBuffer found to flush."),e.a(2);case 1:return e.n=2,this._addPerformanceEntries();case 2:if(null!==(t=this.eventBuffer)&&void 0!==t&&t.hasEvents){e.n=3;break}return e.a(2);case 3:return e.n=4,tf(this);case 4:if(this.eventBuffer){e.n=5;break}return e.a(2);case 5:if(n===this.getSessionId()){e.n=6;break}return e.a(2);case 6:if(e.p=6,this._updateInitialTimestampFromEventBuffer(),!((r=Date.now())-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)){e.n=7;break}throw new mf;case 7:return i=this._popEventContext(),a=this.session.segmentId++,this._maybeSaveSession(),e.n=8,this.eventBuffer.finish();case 8:return o=e.v,e.n=9,yf({replayId:n,recordingData:o,segmentId:a,eventContext:i,session:this.session,timestamp:r,onError:function(e){return d.handleException(e)}});case 9:e.n=11;break;case 10:e.p=10,l=e.v,this.handleException(l),this.stop({reason:"sendReplay"}),(s=St())&&(u=l instanceof hf?"ratelimit_backoff":l instanceof mf?"invalid":"send_error",s.recordDroppedEvent(u,"replay"));case 11:return e.a(2)}},e,this,[[6,10]])})),function(){return t.apply(this,arguments)})},{key:"_flush",value:(e=f(c().m(function e(){var t,n,r,i,a,o,s,u,l,d,f=arguments;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=(f.length>0&&void 0!==f[0]?f[0]:{}).force,n=void 0!==t&&t,this._isEnabled||n){e.n=1;break}return e.a(2);case 1:if(this.checkAndHandleExpiredSession()){e.n=2;break}return zl&&Kl.error("Attempting to finish replay event after session expired."),e.a(2);case 2:if(this.session){e.n=3;break}return e.a(2);case 3:if(r=this.session.started,i=Date.now(),a=i-r,this._debouncedFlush.cancel(),o=a<this._options.minReplayDuration,s=a>this._options.maxReplayDuration+5e3,!o&&!s){e.n=4;break}return zl&&Kl.log("Session duration (".concat(Math.floor(a/1e3),"s) is too ").concat(o?"short":"long",", not sending replay.")),o&&this._debouncedFlush(),e.a(2);case 4:return(u=this.eventBuffer)&&0===this.session.segmentId&&!u.hasCheckout&&zl&&Kl.log("Flushing initial segment without checkout."),l=!!this._flushLock,this._flushLock||(this._flushLock=this._runFlush()),e.p=5,e.n=6,this._flushLock;case 6:e.n=8;break;case 7:e.p=7,d=e.v,this.handleException(d);case 8:return e.p=8,this._flushLock=void 0,l&&this._debouncedFlush(),e.f(8);case 9:return e.a(2)}},e,this,[[5,7,8,9]])})),function(){return e.apply(this,arguments)})},{key:"_maybeSaveSession",value:function(){this.session&&this._options.stickySession&&id(this.session)}},{key:"_onMutationHandler",value:function(e){var t=this._options._experiments.ignoreMutations;if(null!=t&&t.length&&e.some(function(e){var n=function(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}(e.target),r=t.join(",");return null==n?void 0:n.matches(r)}))return!1;var n=e.length,r=this._options.mutationLimit,i=r&&n>r;if(n>this._options.mutationBreadcrumbLimit||i){var a=Tl({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(a)}return!i||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}]);var e,t,n,r,i}();function Sf(e,t){return[].concat(w(e),w(t)).join(",")}var wf='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Ef=["content-length","content-type","accept"],Tf=Symbol.for("sentry__originalRequestBody"),If=!1,xf=!1;i("c",function(e){return new Cf(e)});var Cf=function(){return g(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.flushMinDelay,r=void 0===n?5e3:n,i=t.flushMaxDelay,a=void 0===i?5500:i,o=t.minReplayDuration,s=void 0===o?4999:o,u=t.maxReplayDuration,c=void 0===u?tu:u,l=t.stickySession,d=void 0===l||l,f=t.useCompression,p=void 0===f||f,v=t.workerUrl,h=t._experiments,y=void 0===h?{}:h,g=t.maskAllText,_=void 0===g||g,k=t.maskAllInputs,S=void 0===k||k,w=t.blockAllMedia,E=void 0===w||w,T=t.mutationBreadcrumbLimit,I=void 0===T?750:T,x=t.mutationLimit,C=void 0===x?1e4:x,R=t.slowClickTimeout,M=void 0===R?7e3:R,O=t.slowClickIgnoreSelectors,A=void 0===O?[]:O,D=t.networkDetailAllowUrls,L=void 0===D?[]:D,P=t.networkDetailDenyUrls,N=void 0===P?[]:P,F=t.networkCaptureBodies,j=void 0===F||F,B=t.networkRequestHeaders,U=void 0===B?[]:B,z=t.networkResponseHeaders,H=void 0===z?[]:z,q=t.mask,W=void 0===q?[]:q,V=t.maskAttributes,J=void 0===V?["title","placeholder","aria-label"]:V,$=t.unmask,K=void 0===$?[]:$,G=t.block,Y=void 0===G?[]:G,X=t.unblock,Q=void 0===X?[]:X,Z=t.ignore,ee=void 0===Z?[]:Z,te=t.maskFn,ne=t.beforeAddRecordingEvent,re=t.beforeErrorSampling,ie=t.onError,ae=t.attachRawBodyFromRequest,oe=void 0!==ae&&ae;m(this,e),this.name="Replay";var se=function(e){var t=e.mask,n=e.unmask,r=e.block,i=e.unblock,a=e.ignore;return{maskTextSelector:Sf(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:Sf(n,[]),blockSelector:Sf(r,[".sentry-block","[data-sentry-block]"].concat(["base","iframe[srcdoc]:not([src])"])),unblockSelector:Sf(i,[]),ignoreSelector:Sf(a,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:W,unmask:K,block:Y,unblock:Q,ignore:ee});if(this._recordingOptions=b(b({maskAllInputs:S,maskAllText:_,maskInputOptions:{password:!0},maskTextFn:te,maskInputFn:te,maskAttributeFn:function(e,t,n){return function(e){var t=e.el,n=e.key,r=e.maskAttributes,i=e.maskAllText,a=e.privacyOptions,o=e.value;return i?a.unmaskTextSelector&&t.matches(a.unmaskTextSelector)?o:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:J,maskAllText:_,privacyOptions:se,key:e,value:t,el:n})}},se),{},{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:function(e){try{e.__rrweb__=!0}catch(t){}},recordCrossOriginIframes:Boolean(y.recordCrossOriginIframes)}),this._initialOptions={flushMinDelay:r,flushMaxDelay:a,minReplayDuration:Math.min(s,5e4),maxReplayDuration:Math.min(c,tu),stickySession:d,useCompression:p,workerUrl:v,blockAllMedia:E,maskAllInputs:S,maskAllText:_,mutationBreadcrumbLimit:I,mutationLimit:C,slowClickTimeout:M,slowClickIgnoreSelectors:A,networkDetailAllowUrls:L,networkDetailDenyUrls:N,networkCaptureBodies:j,networkRequestHeaders:Rf(U),networkResponseHeaders:Rf(H),beforeAddRecordingEvent:ne,beforeErrorSampling:re,onError:ie,attachRawBodyFromRequest:oe,_experiments:y},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(wf):wf,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&sa())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0},[{key:"_isInitialized",get:function(){return If},set:function(e){If=e}},{key:"afterAllSetup",value:function(e){sa()&&!this._replay&&(this._initialOptions.attachRawBodyFromRequest&&function(){if("undefined"!=typeof Request&&!xf){var e=Request;try{var t=function(t,n){var r=new e(t,n);return null!=(null==n?void 0:n.body)&&(r[Tf]=n.body),r};t.prototype=e.prototype,A.Request=t,xf=!0}catch(n){}}}(),this._setup(e),this._initialize(e))}},{key:"start",value:function(){this._replay&&this._replay.start()}},{key:"startBuffering",value:function(){this._replay&&this._replay.startBuffering()}},{key:"stop",value:function(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}},{key:"flush",value:function(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}},{key:"getReplayId",value:function(e){var t;if(null!==(t=this._replay)&&void 0!==t&&t.isEnabled())return this._replay.getSessionId(e)}},{key:"getRecordingMode",value:function(){var e;if(null!==(e=this._replay)&&void 0!==e&&e.isEnabled())return this._replay.recordingMode}},{key:"_initialize",value:function(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}},{key:"_setup",value:function(e){var t=function(e,t){var n=t.getOptions(),r=b({sessionSampleRate:0,errorSampleRate:0},e),i=Qt(n.replaysSessionSampleRate),a=Qt(n.replaysOnErrorSampleRate);null==i&&null==a&&B(function(){});null!=i&&(r.sessionSampleRate=i);null!=a&&(r.errorSampleRate=a);return r}(this._initialOptions,e);this._replay=new kf({options:t,recordingOptions:this._recordingOptions})}},{key:"_maybeLoadFromReplayCanvasIntegration",value:function(e){try{var t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(n){}}}])}();function Rf(e){return[].concat(Ef,w(e.map(function(e){return e.toLowerCase()})))}function Mf(e){try{return new URL(e,ua.location.origin).href}catch(t){return}}function Of(e){try{return new Headers(e)}catch(t){return}}var Af=new WeakMap,Df=new Map,Lf={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Pf(e,t){var n,r=b(b({},Lf),t),i=r.traceFetch,a=r.traceXHR,o=r.trackFetchStreamPerformance,s=r.shouldCreateSpanForRequest,u=r.enableHTTPTimings,c=r.tracePropagationTargets,l=r.onRequestSpanStart,d=r.onRequestSpanEnd,f="function"==typeof s?s:function(e){return!0},p=function(e){return function(e,t){var n=Oe();if(n){var r,i;try{r=new URL(e,n),i=new URL(n).origin}catch(s){return!1}var a=r.origin===i;return t?Je(r.toString(),t)||a&&Je(r.pathname,t):a}var o=!!e.match(/^\/(?!\/)/);return t?Je(e,t):o}(e,c)},v={},h=e.getOptions().propagateTraceparent;i&&(e.addEventProcessor(function(e){return"transaction"===e.type&&e.spans&&e.spans.forEach(function(e){if("http.client"===e.op){var t=Df.get(e.span_id);t&&(e.timestamp=t/1e3,Df.delete(e.span_id))}}),e}),o&&(ne(n="fetch-body-resolved",function(e){if(e.response){var t=Af.get(e.response);t&&e.endTimestamp&&Df.set(t,e.endTimestamp)}}),re(n,function(){return ea(na)})),Zi(function(e){var t=Ji(e,f,p,v,{propagateTraceparent:h,onRequestSpanEnd:d});if(e.response&&e.fetchData.__span&&Af.set(e.response,e.fetchData.__span),t){var n=Mf(e.fetchData.url),r=n?gi(n).host:void 0;t.setAttributes({"http.url":n?_i(n):void 0,"server.address":r}),u&&Nf(t),null==l||l(t,{headers:e.headers})}})),a&&os(function(e){var t,n=function(e,t,n,r,i,a){var o=e.xhr,s=null==o?void 0:o[as];if(!o||o.__sentry_own_request__||!s)return;var u=s.url,c=s.method,l=bn()&&t(u);if(e.endTimestamp&&l){var d=o.__sentry_xhr_span_id__;if(!d)return;var f=r[d];return void(f&&void 0!==s.status_code&&(Pt(f,s.status_code),f.end(),null==a||a(f,{headers:Of(fs(o)),error:e.error}),delete r[d]))}var p=Mf(u),v=gi(p||u),h=_i((g=u,g.split(/[?#]/,1)[0])),m=!!yn(),y=l&&m?tr({name:"".concat(c," ").concat(h),attributes:b(b(k(k({url:_i(u),type:"xhr","http.method":c,"http.url":p?_i(p):void 0,"server.address":null==v?void 0:v.host},xt,"auto.http.browser"),It,"http.client"),(null==v?void 0:v.search)&&{"http.query":null==v?void 0:v.search}),(null==v?void 0:v.hash)&&{"http.fragment":null==v?void 0:v.hash})}):new On;var g;o.__sentry_xhr_span_id__=y.spanContext().spanId,r[o.__sentry_xhr_span_id__]=y,n(u)&&function(e,t,n){var r=Ei({span:t,propagateTraceparent:n}),i=r["sentry-trace"],a=r.baggage,o=r.traceparent;i&&function(e,t,n,r){var i,a=null===(i=e.__sentry_xhr_v3__)||void 0===i?void 0:i.request_headers;if(null!=a&&a["sentry-trace"]||!e.setRequestHeader)return;try{if(e.setRequestHeader("sentry-trace",t),!r||null!=a&&a.traceparent||e.setRequestHeader("traceparent",r),n){var o=null==a?void 0:a.baggage;o&&o.split(",").some(function(e){return e.trim().startsWith("sentry-")})||e.setRequestHeader("baggage",n)}}catch(s){}}(e,i,a,o)}(o,bn()&&m?y:void 0,i);var _=St();_&&_.emit("beforeOutgoingRequestSpan",y,e);return y}(e,f,p,v,h,d);n&&(u&&Nf(n),null==l||l(n,{headers:Of(null===(t=e.xhr.__sentry_xhr_v3__)||void 0===t?void 0:t.request_headers)}))})}function Nf(e){var t=cn(e).data.url;if(t&&"string"==typeof t)var n=yo("resource",function(r){r.entries.forEach(function(r){(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)})(r)&&r.name.endsWith(t)&&(e.setAttributes(No(r)),setTimeout(n))})})}var Ff="sentry_previous_trace",jf="sentry.previous_trace";function Bf(e,t){var n=t.linkPreviousTrace,r=t.consistentTraceSampling,i="session-storage"===n,a=i?function(){try{var e,t=null===(e=ua.sessionStorage)||void 0===e?void 0:e.getItem(Ff);return JSON.parse(t)}catch(n){return}}():void 0;e.on("spanStart",function(e){if(mn(e)===e){var t=_t().getPropagationContext();a=function(e,t,n){var r=cn(t);function i(){try{var e,t,i;return null!==(e=Number(null===(t=n.dsc)||void 0===t?void 0:t.sample_rate))&&void 0!==e?e:Number(null===(i=r.data)||void 0===i?void 0:i[Et])}catch(a){return 0}}var a={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return a;var o=e.spanContext;if(o.traceId===r.trace_id)return e;Date.now()/1e3-e.startTimestamp<=3600&&(Ss&&q.log("Adding previous_trace `".concat(JSON.stringify(o),"` link to span `").concat(JSON.stringify(b({op:r.op},t.spanContext())),"`")),t.addLink({context:o,attributes:k({},Lt,"previous_trace")}),t.setAttribute(jf,"".concat(o.traceId,"-").concat(o.spanId,"-").concat(Uf(o)?1:0)));return a}(a,e,t),i&&function(e){try{ua.sessionStorage.setItem(Ff,JSON.stringify(e))}catch(t){Ss&&q.warn("Could not store previous trace in sessionStorage",t)}}(a)}});var o=!0;r&&e.on("beforeSampling",function(e){if(a){var t=_t(),n=t.getPropagationContext();o&&n.parentSpanId?o=!1:(t.setPropagationContext(b(b({},n),{},{dsc:b(b({},n.dsc),{},{sample_rate:String(a.sampleRate),sampled:String(Uf(a.spanContext))}),sampleRand:a.sampleRand})),e.parentSampled=Uf(a.spanContext),e.parentSampleRate=a.sampleRate,e.spanAttributes=b(b({},e.spanAttributes),{},k({},Tt,a.sampleRate)))}})}function Uf(e){return 1===e.traceFlags}var zf=b(b({},ur),{},{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{}},Lf);i("b",function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={name:void 0,source:void 0},a=ua.document,o=b(b({},zf),r),s=o.enableInp,u=o.enableElementTiming,c=o.enableLongTask,l=o.enableLongAnimationFrame,d=o._experiments,f=d.enableInteractions,p=d.enableStandaloneClsSpans,v=d.enableStandaloneLcpSpans,h=o.beforeStartSpan,m=o.idleTimeout,y=o.finalTimeout,g=o.childSpanTimeout,_=o.markBackgroundSpan,S=o.traceFetch,w=o.traceXHR,E=o.trackFetchStreamPerformance,I=o.shouldCreateSpanForRequest,x=o.enableHTTPTimings,C=o.ignoreResourceSpans,R=o.ignorePerformanceApiSpans,M=o.instrumentPageLoad,D=o.instrumentNavigation,L=o.detectRedirects,P=o.linkPreviousTrace,N=o.consistentTraceSampling,F=o.enableReportPageLoaded,j=o.onRequestSpanStart,B=o.onRequestSpanEnd;function U(t,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s="pageload"===r.op,u=r.name,c=h?h(r):r,l=c.attributes||{};if(u!==c.name&&(l[wt]="custom",c.attributes=l),o){i.name=c.name,i.source=l[wt];var d=cr(c,{idleTimeout:m,finalTimeout:y,childSpanTimeout:g,disableAutoFinish:s,beforeSpanEnd:function(r){var i;null===(i=e)||void 0===i||i(),qo(r,{recordClsOnPageloadSpan:!p,recordLcpOnPageloadSpan:!v,ignoreResourceSpans:C,ignorePerformanceApiSpans:R}),Vf(t,void 0);var a=_t(),o=a.getPropagationContext();a.setPropagationContext(b(b({},o),{},{traceId:d.spanContext().traceId,sampled:ln(d),dsc:Mn(r)})),s&&(n=void 0)},trimIdleSpanEndTimestamp:!F});s&&F&&(n=d),Vf(t,d),s&&!F&&a&&(a.addEventListener("readystatechange",function(){_()}),_())}else{var f=et();tr(b(b({},c),{},{startTime:f})).end(f)}function _(){a&&["interactive","complete"].includes(a.readyState)&&t.emit("idleSpanEnableAutoFinish",d)}}return{name:"BrowserTracing",setup:function(r){if(function(){function e(){var e=yn(),t=e&&mn(e);if(t){var n="internal_error";O&&q.log("[Tracing] Root span: ".concat(n," -> Global error occurred")),t.setStatus({code:2,message:n})}}_n||(e.tag="sentry_tracingErrorCallback",_n=!0,oe(e),ce(e))}(),e=Ho({recordClsStandaloneSpans:p||!1,recordLcpStandaloneSpans:v||!1,client:r}),s&&ms(),u&&Ro()&&rt()&&yo("element",Go),l&&A.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(function(e){var t=yn();if(t){var n,r=T(e.getEntries());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.scripts[0]){var a=Mo(rt()+i.startTime),o=cn(t),s=o.start_timestamp;if(!("navigation"===o.op&&s&&a<s)){var u=Mo(i.duration),c=k({},xt,"auto.ui.browser.metrics"),l=i.scripts[0],d=l.invoker,f=l.invokerType,p=l.sourceURL,v=l.sourceFunctionName,h=l.sourceCharPosition;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=f,p&&(c["code.filepath"]=p),v&&(c["code.function"]=v),-1!==h&&(c["browser.script.source_char_position"]=h),xo(t,a,a+u,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}}}catch(Xf){r.e(Xf)}finally{r.f()}}}).observe({type:"long-animation-frame",buffered:!0}):c&&yo("longtask",function(e){var t=e.entries,n=yn();if(n){var r,i=cn(n),a=i.op,o=i.start_timestamp,s=T(t);try{for(s.s();!(r=s.n()).done;){var u=r.value,c=Mo(rt()+u.startTime),l=Mo(u.duration);"navigation"===a&&o&&c<o||xo(n,c,c+l,{name:"Main UI thread blocked",op:"ui.long-task",attributes:k({},xt,"auto.ui.browser.metrics")})}}catch(Xf){s.e(Xf)}finally{s.f()}}}),f&&yo("event",function(e){var t=e.entries,n=yn();if(n){var r,i=T(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if("click"===a.name){var o=Mo(rt()+a.startTime),s=Mo(a.duration),u={name:Re(a.target),op:"ui.interaction.".concat(a.name),startTime:o,attributes:k({},xt,"auto.ui.browser.metrics")},c=Ae(a.target);c&&(u.attributes["ui.component_name"]=c),xo(n,o,o+s,u)}}}catch(Xf){i.e(Xf)}finally{i.f()}}}),L&&a){var i=function(){t=tt()};addEventListener("click",i,{capture:!0}),addEventListener("keydown",i,{capture:!0,passive:!0})}function o(){var e=Wf(r);e&&!cn(e).timestamp&&(Ss&&q.log("[Tracing] Finishing current active span with op: ".concat(cn(e).op)),e.setAttribute(Ct,"cancelled"),e.end())}r.on("startNavigationSpan",function(e,n){if(St()===r){if(null!=n&&n.isRedirect)return Ss&&q.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),void U(r,b({op:"navigation.redirect"},e),!1);t=void 0,o(),bt().setPropagationContext({traceId:st(),sampleRand:Math.random(),propagationSpanId:bn()?void 0:ut()});var i=_t();i.setPropagationContext({traceId:st(),sampleRand:Math.random(),propagationSpanId:bn()?void 0:ut()}),i.setSDKProcessingMetadata({normalizedRequest:void 0}),U(r,b(b({op:"navigation"},e),{},{parentSpan:null,forceTransaction:!0}))}}),r.on("startPageLoadSpan",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(St()===r){o();var n=en(t.sentryTrace||Hf("sentry-trace"),t.baggage||Hf("baggage")),i=_t();i.setPropagationContext(n),bn()||(i.getPropagationContext().propagationSpanId=ut()),i.setSDKProcessingMetadata({normalizedRequest:fa()}),U(r,b({op:"pageload"},e))}}),r.on("endPageloadSpan",function(){F&&n&&(n.setAttribute(Ct,"reportPageLoaded"),n.end())})},afterAllSetup:function(e){var n=Oe();if("off"!==P&&Bf(e,{linkPreviousTrace:P,consistentTraceSampling:N}),ua.location){if(M){var r=rt();!function(e,t,n){e.emit("startPageLoadSpan",t,n),_t().setTransactionName(t.name);var r=Wf(e);r&&e.emit("afterStartPageLoadSpan",r)}(e,{name:ua.location.pathname,startTime:r?r/1e3:void 0,attributes:k(k({},wt,"url"),xt,"auto.pageload.browser")})}D&&Zo(function(r){var i,a=r.to;if(void 0!==r.from||-1===(null===(i=n)||void 0===i?void 0:i.indexOf(a))){n=void 0;var o=yi(a),s=Wf(e),u=s&&L&&function(e,t){var n=cn(e),r=et(),i=n.start_timestamp;if(r-i>Jf)return!1;if(t&&r-t<=Jf)return!1;return!0}(s,t);!function(e,t,n){var r=n||{},i=r.url,a=r.isRedirect;e.emit("beforeStartNavigationSpan",t,{isRedirect:a}),e.emit("startNavigationSpan",t,{isRedirect:a});var o=_t();o.setTransactionName(t.name),i&&!a&&o.setSDKProcessingMetadata({normalizedRequest:b(b({},fa()),{},{url:i})});Wf(e)}(e,{name:(null==o?void 0:o.pathname)||ua.location.pathname,attributes:k(k({},wt,"url"),xt,"auto.navigation.browser")},{url:a,isRedirect:u})}else n=void 0})}_&&(ua.document?ua.document.addEventListener("visibilitychange",function(){var e=yn();if(e){var t=mn(e);if(ua.document.hidden&&t){var n="cancelled",r=cn(t),i=r.op,a=r.status;Ss&&q.log("[Tracing] Transaction: ".concat(n," -> since tab moved to the background, op: ").concat(i)),a||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}}):Ss&&q.warn("[Tracing] Could not set up background tab detection due to lack of global document")),f&&function(e,t,n,r,i){var a,o=ua.document,s=function(){var o="ui.action.click",s=Wf(e);if(s){var u=cn(s).op;if(["navigation","pageload"].includes(u))return void(Ss&&q.warn("[Tracing] Did not create ".concat(o," span because a pageload or navigation span is in progress.")))}a&&(a.setAttribute(Ct,"interactionInterrupted"),a.end(),a=void 0),i.name?a=cr({name:i.name,op:o,attributes:k({},wt,i.source||"url")},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r}):Ss&&q.warn("[Tracing] Did not create ".concat(o," transaction because _latestRouteName is missing."))};o&&addEventListener("click",s,{capture:!0})}(e,m,y,g,i),s&&_s(),Pf(e,{traceFetch:S,traceXHR:w,trackFetchStreamPerformance:E,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:I,enableHTTPTimings:x,onRequestSpanStart:j,onRequestSpanEnd:B})}}});function Hf(e){var t=ua.document,n=null==t?void 0:t.querySelector("meta[name=".concat(e,"]"));return(null==n?void 0:n.getAttribute("content"))||void 0}var qf="_sentry_idleSpan";function Wf(e){return e[qf]}function Vf(e,t){Le(e,qf,t)}var Jf=1.5;function $f(e,t,n){var r,i,a=t.componentStack;if(r=M.version,null!==(i=r.match(/^([^.]+)/))&&parseInt(i[0])>=17&&fe(e)&&a){var o=new Error(e.message);o.name="React ErrorBoundary ".concat(e.name),o.stack=a,function(e,t){var n=new WeakSet;!function e(t,r){if(!n.has(t))return t.cause?(n.add(t),e(t.cause,r)):void(t.cause=r)}(e,t)}(e,o)}return kt(function(t){return t.setContext("react",{componentStack:a}),Ir(e,n)})}var Kf="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Gf={componentStack:null,error:null,eventId:null},Yf=function(e){function t(e){var n;m(this,t),(n=r(this,t,[e])).state=Gf,n._openFallbackReportDialog=!0;var i=St();return i&&e.showDialog&&(n._openFallbackReportDialog=!1,n._cleanupHook=i.on("afterSendEvent",function(t){!t.type&&n._lastEventId&&t.event_id===n._lastEventId&&Ks(b(b({},e.dialogOptions),{},{eventId:n._lastEventId}))})),n}return s(t,e),g(t,[{key:"componentDidCatch",value:function(e,t){var n=this,r=t.componentStack,i=this.props,a=i.beforeCapture,o=i.onError,s=i.showDialog,u=i.dialogOptions;kt(function(i){a&&a(i,e,r);var c=null!=n.props.handled?n.props.handled:!!n.props.fallback,l=$f(e,t,{mechanism:{handled:c,type:"auto.function.react.error_boundary"}});o&&o(e,r,l),s&&(n._lastEventId=l,n._openFallbackReportDialog&&Ks(b(b({},u),{},{eventId:l}))),n.setState({error:e,componentStack:r,eventId:l})})}},{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e()}},{key:"componentWillUnmount",value:function(){var e=this.state,t=e.error,n=e.componentStack,r=e.eventId,i=this.props.onUnmount;i&&(this.state===Gf?i(null,null,null):i(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}},{key:"resetErrorBoundary",value:function(){var e=this.props.onReset,t=this.state,n=t.error,r=t.componentStack,i=t.eventId;e&&e(n,r,i),this.setState(Gf)}},{key:"render",value:function(){var e=this,t=this.props,n=t.fallback,r=t.children,i=this.state;if(null===i.componentStack)return"function"==typeof r?r():r;var a="function"==typeof n?M.createElement(n,{error:i.error,componentStack:i.componentStack,resetError:function(){return e.resetErrorBoundary()},eventId:i.eventId}):n;return M.isValidElement(a)?a:(n&&Kf&&q.warn("fallback did not produce a valid ReactElement"),null)}}])}(M.Component);i("E",Yf)}}})}();
