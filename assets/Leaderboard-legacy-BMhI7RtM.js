!function(){function e(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,s,r,n,i=[],d=!0,c=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;d=!1}else for(;!(d=(l=r.call(a)).done)&&(i.push(l.value),i.length!==t);d=!0);}catch(e){c=!0,s=e}finally{try{if(!d&&null!=a.return&&(n=a.return(),Object(n)!==n))return}finally{if(c)throw s}}return i}}(e,a)||function(e,a){if(e){if("string"==typeof e)return t(e,a);var l={}.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?t(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=Array(t);a<t;a++)l[a]=e[a];return l}System.register(["./query-legacy-CLxXWLnl.js","./sentry-legacy-CTr2CudU.js","./index-legacy-DVoFAd51.js","./router-legacy-9xrJEksD.js","./store-legacy-Bt3CCSnU.js"],function(t,a){"use strict";var l,s,r,n,i,d,c,o;return{setters:[function(e){l=e.b,s=e.j},function(e){r=e.a},function(e){n=e.k,i=e.u,d=e.g,c=e.b},function(e){o=e.L},null],execute:function(){t("default",function(){var t=n().t,x=i().user,m=e(r.useState("all"),2),h=m[0],u=m[1],f=l({queryKey:["leaderboard",h],queryFn:function(){return c.get("/invite/leaderboard?type=".concat(h)).then(function(e){return e.data})}}),j=f.data,v=f.isLoading,b=(null==j?void 0:j.leaderboard)||[],g=null==j?void 0:j.myRank;return s.jsxs("div",{className:"min-h-screen relative",children:[s.jsx("div",{className:"bg-animated"}),s.jsx("header",{className:"glass-dark border-b border-white/5 sticky top-0 z-40",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-14 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(o,{to:"https://kighub.cn/",className:"flex items-center gap-2 text-white/60 hover:text-white transition",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"text-sm hidden sm:inline",children:t("leaderboard.backToMap")})]}),s.jsx("div",{className:"w-px h-5 bg-white/10"}),s.jsxs("h1",{className:"text-lg font-bold text-gradient flex items-center gap-2",children:[s.jsx("span",{children:"üèÜ"}),t("leaderboard.title")]})]}),s.jsxs(o,{to:"/invite",className:"flex items-center gap-2 px-3 py-1.5 glass rounded-lg text-sm text-white/70 hover:text-white transition",children:[s.jsx("span",{children:"üì®"}),s.jsx("span",{className:"hidden sm:inline",children:t("leaderboard.myInvite")})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 relative z-10",children:[s.jsx("div",{className:"flex gap-2 mb-6",children:[{key:"all",label:t("leaderboard.allTime"),icon:"üìä"},{key:"month",label:t("leaderboard.monthly"),icon:"üìÖ"},{key:"week",label:t("leaderboard.weekly"),icon:"üìÜ"}].map(function(e){return s.jsxs("button",{onClick:function(){return u(e.key)},className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 sm:px-6 py-3 rounded-xl text-sm font-medium transition-all ".concat(h===e.key?"bg-gradient-to-r from-primary to-secondary text-white shadow-lg shadow-primary/20":"glass text-white/60 hover:text-white hover:bg-white/10"),children:[s.jsx("span",{children:e.icon}),s.jsx("span",{children:e.label})]},e.key)})}),s.jsxs("div",{className:"glass-dark rounded-2xl p-6 mb-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{children:"üéÅ"}),t("leaderboard.inviteRewards")]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:a.map(function(e){return s.jsxs("div",{className:"glass rounded-xl p-3 text-center",children:[s.jsx("div",{className:"w-10 h-10 mx-auto rounded-lg bg-gradient-to-br ".concat(e.color," flex items-center justify-center text-xl mb-2"),children:e.icon}),s.jsx("p",{className:"text-xs font-medium text-white",children:t(e.nameKey)}),s.jsxs("p",{className:"text-xs text-white/50",children:[e.count,t("leaderboard.people")]})]},e.nameKey)})})]})]}),x&&g&&s.jsxs("div",{className:"glass-dark rounded-2xl p-6 mb-6 border border-primary/30 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-secondary/5"}),s.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-2xl shadow-lg shadow-primary/30",children:"üë§"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/50 text-sm",children:t("leaderboard.myRank")}),s.jsx("p",{className:"text-lg font-bold text-white",children:t("leaderboard.invited",{n:g.inviteCount})})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-4xl font-bold text-gradient",children:["#",g.rank]})})]})]}),s.jsx("div",{className:"glass-dark rounded-2xl overflow-hidden",children:v?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white/50",children:t("leaderboard.loading")})]}):0===b.length?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:"üì≠"}),s.jsx("p",{className:"text-white/50",children:t("leaderboard.noData")}),s.jsx("p",{className:"text-white/30 text-sm mt-2",children:t("leaderboard.goInvite")})]}):s.jsxs("div",{className:"divide-y divide-white/5",children:[b.slice(0,3).length>0&&s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-end justify-center gap-4",children:[b[1]&&s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-white/10 overflow-hidden border-2 border-gray-400/50",children:b[1].avatar?s.jsx("img",{src:d(b[1].avatar),alt:"",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-2xl",children:"üë§"})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 text-2xl",children:"ü•à"})]}),s.jsx("p",{className:"mt-4 text-sm font-medium text-white truncate max-w-[80px]",children:b[1].cnName}),s.jsx("p",{className:"text-lg font-bold text-gray-400",children:b[1].inviteCount})]}),b[0]&&s.jsxs("div",{className:"flex flex-col items-center -mt-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-white/10 overflow-hidden border-2 border-amber-500/50 shadow-lg shadow-amber-500/30",children:b[0].avatar?s.jsx("img",{src:d(b[0].avatar),alt:"",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-3xl",children:"üë§"})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 text-3xl",children:"ü•á"})]}),s.jsx("p",{className:"mt-4 text-sm font-medium text-white truncate max-w-[100px]",children:b[0].cnName}),s.jsx("p",{className:"text-xl font-bold text-gradient",children:b[0].inviteCount})]}),b[2]&&s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-white/10 overflow-hidden border-2 border-orange-500/50",children:b[2].avatar?s.jsx("img",{src:d(b[2].avatar),alt:"",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-2xl",children:"üë§"})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 text-2xl",children:"ü•â"})]}),s.jsx("p",{className:"mt-4 text-sm font-medium text-white truncate max-w-[80px]",children:b[2].cnName}),s.jsx("p",{className:"text-lg font-bold text-orange-400",children:b[2].inviteCount})]})]})}),b.slice(3).map(function(e){return s.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-white/5 transition",children:[s.jsx("div",{className:"w-10 text-center",children:s.jsxs("span",{className:"text-lg font-bold text-white/40",children:["#",e.rank]})}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 overflow-hidden flex-shrink-0",children:e.avatar?s.jsx("img",{src:d(e.avatar),alt:"",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-xl",children:"üë§"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"font-medium text-white truncate",children:e.cnName})}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xl font-bold text-primary",children:e.inviteCount}),s.jsx("p",{className:"text-xs text-white/40",children:t("leaderboard.people")})]})]},e.accountId)})]})}),(null==j?void 0:j.updatedAt)&&s.jsx("p",{className:"text-center text-xs text-white/30 mt-6",children:t("leaderboard.updatedAt",{time:new Date(j.updatedAt).toLocaleString()})})]})]})});var a=[{icon:"üå±",nameKey:"badge.beginner",count:3,color:"from-green-400 to-emerald-500"},{icon:"üåø",nameKey:"badge.intermediate",count:10,color:"from-teal-400 to-cyan-500"},{icon:"üå≥",nameKey:"badge.advanced",count:30,color:"from-blue-400 to-indigo-500"},{icon:"üèÜ",nameKey:"badge.super",count:100,color:"from-amber-400 to-orange-500"}]}}})}();
