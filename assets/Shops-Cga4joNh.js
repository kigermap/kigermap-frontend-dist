import{e,j as t}from"./query-DSsWWIdM.js";import{a as s}from"./sentry-DvvTOdwe.js";import{k as a,M as r,l,o as i,g as n,p as o}from"./index-D0yqgRjz.js";import{C as d}from"./CustomSelect-B-AWyF9k.js";import{L as c}from"./router-jbVFofSC.js";import"./store-BXxpTH1V.js";function x(){const{t:e}=a();return t.jsx("div",{className:"min-h-screen bg-[#0a0a0f]",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/20 via-[#0a0a0f] to-[#0a0a0f]"}),t.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 pt-6 pb-8 sm:pt-8 sm:pb-12",children:[t.jsx("div",{className:"mb-8",children:t.jsxs(c,{to:"https://kighub.cn/",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-full text-sm text-white/70 hover:text-white transition-all group",children:[t.jsx("svg",{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e("shops.backToHome")]})}),t.jsx("h1",{className:"text-4xl sm:text-6xl font-bold text-center mb-3",children:t.jsx("span",{className:"bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent",children:e("shops.title")})}),t.jsx("p",{className:"text-center text-white/50 mb-3",children:e("shops.subtitle")}),t.jsx("p",{className:"text-center text-white/40 text-sm mb-6 hidden md:block",children:e("shops.disclaimer")}),t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-12 h-12 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"})})]})]})})}function h(){var h,m,p,u;const{t:g}=a(),[b,j]=s.useState(""),[f,v]=s.useState("popular"),[w,N]=s.useState("grid"),[k,y]=s.useState("all"),[M,L]=s.useState(!1),[C,T]=s.useState(!1),[z,B]=s.useState(!1),W=s.useRef(null),S=s.useRef(null),R=s.useRef(null);s.useEffect(()=>{const e=e=>{R.current&&!R.current.contains(e.target)&&B(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const[A,F]=s.useState({region:"",priceMin:"",priceMax:"",leadTimeMin:"",leadTimeMax:""}),[H,O]=s.useState(""),P=function(e,t){const[a,r]=s.useState(e);return s.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),a}(A,500),E=s.useMemo(()=>({search:H,...P}),[H,P]),V=s.useMemo(()=>({search:E.search||void 0,region:E.region||void 0,priceMin:E.priceMin?Number(E.priceMin):void 0,priceMax:E.priceMax?Number(E.priceMax):void 0,leadTimeMin:E.leadTimeMin?Number(E.leadTimeMin):void 0,leadTimeMax:E.leadTimeMax?Number(E.leadTimeMax):void 0}),[E]),{data:D,isLoading:I,fetchNextPage:q,hasNextPage:K,isFetchingNextPage:J}=e({queryKey:["shops",V],queryFn:({pageParam:e=1})=>o.getShops({page:e,limit:20,...V}).then(e=>e.data),getNextPageParam:e=>{const t=e.page||1;return t<(e.totalPages||1)?t+1:void 0},initialPageParam:1}),U=s.useMemo(()=>(null==D?void 0:D.pages)?D.pages.flatMap(e=>(e.shops||[]).map(e=>({...e,tags:e.tags?"string"==typeof e.tags?JSON.parse(e.tags):e.tags:[]}))):[],[D]),Z=(null==(m=null==(h=null==D?void 0:D.pages)?void 0:h[0])?void 0:m.total)||0,_=[{key:"",label:g("shops.all")},{key:"åä¸œåœ°åŒº",label:"åä¸œ"},{key:"ååŒ—åœ°åŒº",label:"ååŒ—"},{key:"åå—åœ°åŒº",label:"åå—"},{key:"åä¸­åœ°åŒº",label:"åä¸­"},{key:"è¥¿å—åœ°åŒº",label:"è¥¿å—"},{key:"ä¸œåŒ—åœ°åŒº",label:"ä¸œåŒ—"}],G=s.useMemo(()=>U.filter(e=>e.isFeatured),[U]),Q=s.useMemo(()=>[...U].sort((e,t)=>{const s=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-s}).slice(0,20),[U]),X=s.useMemo(()=>{let e=[...U];return e.sort((e,t)=>{switch(f){case"time-asc":return(e.leadTimeMax||999)-(t.leadTimeMax||999);case"time-desc":return(t.leadTimeMax||0)-(e.leadTimeMax||0);default:return(t.viewCount||0)-(e.viewCount||0)}}),e},[U,f]),Y=s.useMemo(()=>{const e=new Set(U.map(e=>e.region).filter(Boolean));return{total:Z,regions:e.size}},[U,Z]),$=e=>{if(e.leadTimeNote)return e.leadTimeNote;if(!e.leadTimeMin&&!e.leadTimeMax)return null;const t=g("shops.days");return e.leadTimeMin&&e.leadTimeMax?"".concat(e.leadTimeMin,"-").concat(e.leadTimeMax).concat(t):"".concat(e.leadTimeMax||e.leadTimeMin).concat(t)},ee=(e,t)=>{e.current&&e.current.scrollBy({left:"left"===t?-300:300,behavior:"smooth"})},te=({shop:e,size:s="normal"})=>"compact"===s?t.jsx(c,{to:"/shops/".concat(e.slug),className:"group block",children:t.jsxs("div",{className:"shop-card-overlay relative h-[280px] rounded-2xl overflow-hidden bg-[#1a1a24]",children:[e.coverImage?t.jsx("img",{src:n(e.coverImage),alt:"".concat(e.name," å°é¢å›¾"),className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):t.jsxs("div",{className:"shop-card-placeholder w-full h-full relative overflow-hidden transition-transform duration-500 group-hover:scale-105",children:[t.jsx("div",{className:"shop-card-no-image-gradient absolute inset-0 bg-gradient-to-br from-purple-900/90 via-indigo-900/80 to-slate-900/90"}),t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 rounded-full bg-gradient-to-br from-purple-500/30 to-pink-500/20 blur-2xl"}),t.jsx("div",{className:"absolute -bottom-10 -left-10 w-28 h-28 rounded-full bg-gradient-to-tr from-cyan-500/20 to-blue-500/15 blur-2xl"})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center",children:t.jsx("svg",{className:"w-7 h-7 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"})})})})]}),t.jsx("div",{className:"shop-card-info-gradient absolute inset-0 bg-gradient-to-t from-black/95 via-black/40 to-transparent"}),e.isFeatured?t.jsxs("div",{className:"featured-badge absolute top-2.5 right-2.5 px-2.5 py-1 rounded-lg text-[10px] font-semibold text-amber-100 flex items-center gap-1.5 tracking-wide",children:[t.jsx("svg",{className:"w-3 h-3 text-amber-300 drop-shadow-sm",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),g("shops.featured")]}):e.lat&&e.lng?t.jsxs("div",{className:"absolute top-2.5 right-2.5 px-2 py-0.5 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full text-[10px] font-medium text-white flex items-center gap-1",children:[t.jsx("svg",{className:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"å·²å®šä½"]}):e.hasManager?null:t.jsxs("div",{className:"absolute top-2.5 right-2.5 px-2 py-0.5 bg-white/20 backdrop-blur-sm rounded-full text-[10px] font-medium text-white/80 flex items-center gap-1",children:[t.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),"ç¾¤å‹åˆ†äº«"]}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[t.jsxs("div",{className:"flex items-center gap-2.5 mb-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex-shrink-0 overflow-hidden",children:t.jsx("img",{src:n(e.logo)||i,alt:"",className:"w-full h-full object-cover",onError:e=>{e.target.src=i}})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-white text-sm truncate leading-tight",children:e.name}),t.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 text-[11px] text-white/50",children:[t.jsx("span",{children:e.region||e.country}),t.jsx("span",{children:"Â·"}),t.jsxs("span",{children:[((e.viewCount||0)/1e3).toFixed(1),"k"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.tags&&e.tags.length>0?t.jsx("span",{className:"px-2 py-1 bg-purple-500/20 border border-purple-500/30 rounded-md text-xs text-purple-300 font-medium",children:e.tags[0]}):t.jsx("span",{className:"px-2 py-1 bg-purple-500/20 border border-purple-500/30 rounded-md text-xs text-purple-300 font-medium",children:"å®šåˆ¶å·¥åŠ"}),$(e)&&t.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-white/10 rounded-md text-xs text-white/70",children:[t.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),$(e)]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full ".concat(e.acceptingOrders?"bg-green-400":"bg-red-400")}),t.jsx("span",{className:"text-[11px] ".concat(e.acceptingOrders?"text-green-400":"text-red-400"),children:e.acceptingOrders?g("shops.accepting"):g("shops.paused")})]}),e.city&&t.jsx("div",{className:"flex gap-1",children:t.jsx("span",{className:"px-1.5 py-0.5 bg-white/10 rounded text-[10px] text-white/60",children:e.city})})]})]})]})}):t.jsx(c,{to:"/shops/".concat(e.slug),className:"group block",children:t.jsxs("div",{className:"shop-card-overlay relative ".concat("large"===s?"aspect-[3/4] sm:aspect-[4/5]":"aspect-[4/3]"," rounded-xl sm:rounded-2xl overflow-hidden bg-[#1a1a24]"),children:[e.coverImage?t.jsx("img",{src:n(e.coverImage),alt:"".concat(e.name," å°é¢å›¾"),className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):t.jsxs("div",{className:"shop-card-placeholder w-full h-full relative overflow-hidden transition-transform duration-500 group-hover:scale-105",children:[t.jsx("div",{className:"shop-card-no-image-gradient absolute inset-0 bg-gradient-to-br from-purple-900/90 via-indigo-900/80 to-slate-900/90"}),t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 rounded-full bg-gradient-to-br from-purple-500/30 to-pink-500/20 blur-2xl"}),t.jsx("div",{className:"absolute -bottom-10 -left-10 w-36 h-36 rounded-full bg-gradient-to-tr from-cyan-500/20 to-blue-500/15 blur-2xl"}),t.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle, white 1px, transparent 1px)",backgroundSize:"20px 20px"}})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-500/20 via-pink-500/30 to-purple-500/20 rounded-full blur-xl animate-pulse"}),t.jsx("div",{className:"relative w-16 h-16 rounded-2xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center shadow-xl",children:t.jsx("svg",{className:"w-8 h-8 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"})})})]})})]}),t.jsx("div",{className:"shop-card-info-gradient absolute inset-0 bg-gradient-to-t from-black/90 via-black/30 to-transparent"}),e.isFeatured&&t.jsxs("div",{className:"featured-badge absolute top-2 right-2 sm:top-3 sm:right-3 px-2 sm:px-3 py-0.5 sm:py-1 rounded-lg text-[10px] sm:text-xs font-semibold text-amber-100 flex items-center gap-1 sm:gap-1.5 tracking-wide",children:[t.jsx("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-amber-300 drop-shadow-sm",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),t.jsx("span",{className:"hidden sm:inline",children:g("shops.featured")})]}),e.lat&&e.lng&&!e.isFeatured&&t.jsxs("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 px-1.5 sm:px-2.5 py-0.5 sm:py-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full text-[10px] sm:text-xs font-medium text-white flex items-center gap-0.5 sm:gap-1",children:[t.jsx("svg",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),t.jsx("span",{className:"hidden sm:inline",children:"å·²å®šä½"})]}),!e.hasManager&&!e.isFeatured&&!(e.lat&&e.lng)&&t.jsxs("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 px-1.5 sm:px-2.5 py-0.5 sm:py-1 bg-white/20 backdrop-blur-sm rounded-full text-[10px] sm:text-xs font-medium text-white/80 flex items-center gap-0.5 sm:gap-1",children:[t.jsx("svg",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),t.jsx("span",{className:"hidden sm:inline",children:"ç¾¤å‹åˆ†äº«"})]}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 sm:p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsxs("div",{className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-11 sm:h-11 rounded-lg sm:rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center overflow-hidden",children:t.jsx("img",{src:n(e.logo)||i,alt:"",className:"w-full h-full object-cover",onError:e=>{e.target.src=i}})}),e.isVerified&&t.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-cyan-500 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[t.jsx("h3",{className:"font-bold text-white truncate text-xs sm:text-[15px]",children:e.name}),e.isVerified&&t.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-cyan-400 flex-shrink-0 hidden sm:block",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mt-0.5 text-[10px] sm:text-xs text-white/50",children:[t.jsx("span",{className:"truncate",children:e.region||e.country}),t.jsx("span",{children:"Â·"}),t.jsxs("span",{children:[((e.viewCount||0)/1e3).toFixed(1),"k"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-2 sm:mt-3",children:[e.tags&&e.tags.length>0?t.jsx("span",{className:"px-1.5 sm:px-2.5 py-0.5 sm:py-1 bg-purple-500/20 border border-purple-500/30 rounded sm:rounded-lg text-[10px] sm:text-xs text-purple-300 font-medium",children:e.tags[0]}):t.jsx("span",{className:"px-1.5 sm:px-2.5 py-0.5 sm:py-1 bg-purple-500/20 border border-purple-500/30 rounded sm:rounded-lg text-[10px] sm:text-xs text-purple-300 font-medium",children:"å®šåˆ¶å·¥åŠ"}),$(e)&&t.jsxs("span",{className:"hidden sm:flex items-center gap-1 px-2.5 py-1 bg-white/10 rounded-lg text-xs text-white/70",children:[t.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),$(e)]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-1.5 sm:mt-2.5",children:[t.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[t.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full ".concat(e.acceptingOrders?"bg-green-400":"bg-red-400")}),t.jsx("span",{className:"text-[10px] sm:text-xs ".concat(e.acceptingOrders?"text-green-400":"text-red-400"),children:e.acceptingOrders?g("shops.accepting"):g("shops.paused")})]}),e.tags&&e.tags.length>0&&t.jsx("div",{className:"hidden sm:flex gap-1.5",children:e.tags.slice(0,2).map((e,s)=>t.jsx("span",{className:"px-2 py-0.5 bg-white/10 rounded text-[10px] text-white/60",children:e},s))})]})]})]})});return I?t.jsx(x,{}):t.jsxs("div",{className:"min-h-screen bg-[#0a0a0f]",children:[t.jsx(r,{isOpen:C,onClose:()=>T(!1),userCount:Z}),t.jsx("header",{className:"lg:hidden sticky top-0 z-50 bg-[#0a0a0f]/95 backdrop-blur-xl border-b border-white/5",children:t.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[t.jsx("button",{onClick:()=>T(!0),className:"w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-white/70 active:scale-95 transition-all",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden",children:t.jsx("img",{src:l,alt:"KigerMap",className:"w-full h-full object-cover"})}),t.jsx("span",{className:"font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:g("shops.title")})]}),t.jsx(c,{to:"https://kighub.cn/",className:"w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-white/70 active:scale-95 transition-all",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})]})}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/20 via-[#0a0a0f] to-[#0a0a0f]"}),t.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 pt-4 pb-6 lg:pt-8 lg:pb-12",children:[t.jsx("div",{className:"hidden lg:block mb-8",children:t.jsxs(c,{to:"https://kighub.cn/",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-full text-sm text-white/70 hover:text-white transition-all group",children:[t.jsx("svg",{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),g("shops.backToHome")]})}),t.jsx("h1",{className:"hidden lg:block text-4xl sm:text-6xl font-bold text-center mb-3",children:t.jsx("span",{className:"bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent",children:g("shops.title")})}),t.jsx("p",{className:"hidden lg:block text-center text-white/50 mb-3",children:g("shops.subtitle")}),t.jsx("p",{className:"hidden lg:block text-center text-white/40 text-sm mb-6",children:g("shops.disclaimer")}),t.jsxs("form",{onSubmit:e=>{e.preventDefault(),O(b.trim())},className:"max-w-xl mx-auto mb-6 lg:mb-8",children:[t.jsxs("div",{className:"relative",children:[t.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("input",{type:"text",value:b,onChange:e=>j(e.target.value),placeholder:g("shops.searchPlaceholder"),className:"w-full pl-12 pr-24 py-3 lg:py-4 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-white/30 focus:outline-none focus:border-purple-500/50 transition"}),t.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[E.search&&t.jsx("button",{type:"button",onClick:()=>{j(""),O("")},className:"p-1.5 text-white/40 hover:text-white transition",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg text-sm text-white font-medium hover:opacity-90 transition",children:"æœç´¢"})]})]}),E.search&&t.jsxs("div",{className:"mt-3 text-center text-sm text-white/50",children:['æœç´¢ "',t.jsx("span",{className:"text-purple-400",children:E.search}),'" çš„ç»“æœï¼Œå…± ',Z," ä¸ªå·¥åŠ"]})]}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-2 lg:gap-3",children:[t.jsxs("div",{className:"px-3 lg:px-4 py-1.5 lg:py-2 bg-white/5 border border-white/10 rounded-full text-xs lg:text-sm",children:[t.jsx("span",{className:"text-white/50",children:"å·¥åŠï¼š"}),t.jsx("span",{className:"text-white font-medium",children:Z})]}),t.jsxs("div",{className:"hidden sm:flex px-3 lg:px-4 py-1.5 lg:py-2 bg-white/5 border border-white/10 rounded-full text-xs lg:text-sm",children:[t.jsx("span",{className:"text-white/50",children:"åœ°åŒºï¼š"}),t.jsx("span",{className:"text-white font-medium",children:Y.regions})]}),t.jsxs("a",{href:"https://kigurumi.feishu.cn/share/base/form/shrcnSdrcAgRxFZjyToAOOU5mdd",target:"_blank",rel:"noopener noreferrer",className:"px-3 lg:px-4 py-1.5 lg:py-2 bg-white/5 border border-white/10 rounded-full text-xs lg:text-sm font-medium text-white hover:bg-white/10 transition flex items-center gap-1",children:[t.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t.jsx("span",{className:"text-white/50",children:"ç”³è¯·åŠ å…¥"})]})]})]})]}),t.jsx("div",{className:"sticky top-0 lg:top-0 z-40 bg-[#0a0a0f]/95 backdrop-blur-xl border-b border-white/5",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3",children:[t.jsx("div",{className:"hidden lg:block",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("svg",{className:"w-4 h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.jsxs("div",{className:"relative",ref:R,children:[t.jsxs("button",{onClick:()=>B(!z),className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 border border-white/10 rounded-xl text-sm text-white hover:border-purple-500/50 transition cursor-pointer min-w-[100px]",children:[t.jsx("span",{children:(null==(p=_.find(e=>e.key===A.region))?void 0:p.label)||g("shops.all")}),t.jsx("svg",{className:"w-4 h-4 text-white/50 transition-transform ".concat(z?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),z&&t.jsx("div",{className:"absolute top-full left-0 mt-1 w-36 bg-[#1a1a24] border border-white/10 rounded-xl shadow-xl z-50 overflow-hidden",children:_.map(e=>t.jsx("button",{onClick:()=>{F(t=>({...t,region:e.key})),B(!1)},className:"w-full px-3 py-2 text-left text-sm transition ".concat(A.region===e.key?"bg-purple-500/20 text-purple-300":"text-white/70 hover:bg-white/5 hover:text-white"),children:e.label},e.key))})]})]}),t.jsx("div",{className:"w-px h-8 bg-white/10"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-white/40 font-medium",children:"å·¥æœŸ"}),t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-white/5 rounded-xl",children:[t.jsx("input",{type:"number",value:A.leadTimeMin,onChange:e=>F(t=>({...t,leadTimeMin:e.target.value})),placeholder:"æœ€çŸ­",className:"w-12 bg-transparent text-white text-sm text-center focus:outline-none placeholder-white/30"}),t.jsx("span",{className:"text-white/30",children:"-"}),t.jsx("input",{type:"number",value:A.leadTimeMax,onChange:e=>F(t=>({...t,leadTimeMax:e.target.value})),placeholder:"æœ€é•¿",className:"w-12 bg-transparent text-white text-sm text-center focus:outline-none placeholder-white/30"}),t.jsx("span",{className:"text-white/40 text-sm",children:"å¤©"})]})]}),(A.region||A.leadTimeMin||A.leadTimeMax)&&t.jsxs("button",{onClick:()=>F({region:"",priceMin:"",priceMax:"",leadTimeMin:"",leadTimeMax:""}),className:"flex items-center gap-1 px-3 py-1.5 text-sm text-white/50 hover:text-white transition",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"æ¸…é™¤"]}),t.jsx("div",{className:"flex-1"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-white/40 font-medium",children:"æ’åº"}),t.jsx(d,{value:f,onChange:e=>v(e),options:[{value:"popular",label:g("shops.popular")},{value:"time-asc",label:g("shops.timeAsc")},{value:"time-desc",label:g("shops.timeDesc")}],className:"min-w-[120px]"})]}),t.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white/5 rounded-xl",children:[t.jsx("button",{onClick:()=>N("grid"),className:"p-2 rounded-lg transition ".concat("grid"===w?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-400":"text-white/40 hover:text-white"),children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),t.jsx("button",{onClick:()=>N("list"),className:"p-2 rounded-lg transition ".concat("list"===w?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-400":"text-white/40 hover:text-white"),children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})}),t.jsxs("div",{className:"lg:hidden space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(d,{value:f,onChange:e=>v(e),options:[{value:"popular",label:g("shops.popular")},{value:"time-asc",label:g("shops.timeAsc")},{value:"time-desc",label:g("shops.timeDesc")}],className:"flex-1"}),t.jsxs("button",{onClick:()=>L(!M),className:"flex items-center gap-2 px-5 py-3 rounded-xl text-base font-medium transition-all ".concat(M||A.region||A.leadTimeMin||A.leadTimeMax?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/5 text-white/60 border border-white/10"),children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"ç­›é€‰",(A.region||A.leadTimeMin||A.leadTimeMax)&&t.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-white/20 rounded text-[10px]",children:[A.region,A.leadTimeMin||A.leadTimeMax].filter(Boolean).length})]})]}),(A.region||A.leadTimeMin||A.leadTimeMax)&&t.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide pb-1",children:[A.region&&t.jsxs("span",{className:"flex-shrink-0 flex items-center gap-1 px-2.5 py-1.5 bg-blue-500/20 rounded-lg text-xs text-blue-300 border border-blue-500/30",children:[t.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),null==(u=_.find(e=>e.key===A.region))?void 0:u.label,t.jsx("button",{onClick:()=>F(e=>({...e,region:""})),className:"hover:text-white ml-0.5",children:"Ã—"})]}),A.leadTimeMin&&t.jsxs("span",{className:"flex-shrink-0 flex items-center gap-1 px-2.5 py-1.5 bg-cyan-500/20 rounded-lg text-xs text-cyan-300 border border-cyan-500/30",children:["â‰¥",A.leadTimeMin,"å¤©",t.jsx("button",{onClick:()=>F(e=>({...e,leadTimeMin:""})),className:"hover:text-white",children:"Ã—"})]}),A.leadTimeMax&&t.jsxs("span",{className:"flex-shrink-0 flex items-center gap-1 px-2.5 py-1.5 bg-cyan-500/20 rounded-lg text-xs text-cyan-300 border border-cyan-500/30",children:["â‰¤",A.leadTimeMax,"å¤©",t.jsx("button",{onClick:()=>F(e=>({...e,leadTimeMax:""})),className:"hover:text-white",children:"Ã—"})]}),t.jsx("button",{onClick:()=>F({region:"",priceMin:"",priceMax:"",leadTimeMin:"",leadTimeMax:""}),className:"flex-shrink-0 px-2.5 py-1.5 text-xs text-white/50 hover:text-white transition",children:"æ¸…é™¤å…¨éƒ¨"})]}),M&&t.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10 space-y-5 animate-in slide-in-from-top-2 duration-200",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-white/50 font-medium mb-2",children:[t.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),"åœ°åŒº"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(e=>t.jsx("button",{onClick:()=>F(t=>({...t,region:e.key})),className:"px-3 py-2 rounded-xl text-sm font-medium transition-all ".concat(A.region===e.key?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/25":"bg-white/5 text-white/60 border border-white/10 hover:text-white hover:border-white/20"),children:e.label},e.key))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-white/50 font-medium mb-2",children:[t.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"å·¥æœŸèŒƒå›´ (å¤©)"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"number",value:A.leadTimeMin,onChange:e=>F(t=>({...t,leadTimeMin:e.target.value})),placeholder:"æœ€çŸ­",className:"w-full px-3 py-2.5 bg-white/5 border border-white/10 rounded-xl text-white text-sm focus:outline-none focus:border-purple-500/50 placeholder-white/30"})}),t.jsx("span",{className:"text-white/30",children:"â€”"}),t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"number",value:A.leadTimeMax,onChange:e=>F(t=>({...t,leadTimeMax:e.target.value})),placeholder:"æœ€é•¿",className:"w-full px-3 py-2.5 bg-white/5 border border-white/10 rounded-xl text-white text-sm focus:outline-none focus:border-purple-500/50 placeholder-white/30"})})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[{label:"1ä¸ªæœˆå†…",min:"",max:"30"},{label:"1-3ä¸ªæœˆ",min:"30",max:"90"},{label:"3-6ä¸ªæœˆ",min:"90",max:"180"},{label:"6ä¸ªæœˆä»¥ä¸Š",min:"180",max:""}].map(e=>t.jsx("button",{onClick:()=>F(t=>({...t,leadTimeMin:e.min,leadTimeMax:e.max})),className:"px-2.5 py-1.5 rounded-lg text-xs transition ".concat(A.leadTimeMin===e.min&&A.leadTimeMax===e.max?"bg-cyan-500/30 text-cyan-300 border border-cyan-500/50":"bg-white/5 text-white/50 border border-white/10 hover:text-white"),children:e.label},e.label))})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:()=>{F({region:"",priceMin:"",priceMax:"",leadTimeMin:"",leadTimeMax:""})},className:"flex-1 py-2.5 bg-white/5 border border-white/10 rounded-xl text-sm text-white/60 hover:text-white transition",children:"é‡ç½®å…¨éƒ¨"}),t.jsx("button",{onClick:()=>L(!1),className:"flex-1 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl text-sm text-white font-medium",children:"ç¡®å®š"})]})]})]})]})}),t.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[G.length>0&&"all"===k&&t.jsxs("section",{className:"mb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),g("shops.featured")]}),t.jsxs("button",{onClick:()=>y("featured"),className:"text-sm text-white/50 hover:text-purple-400 flex items-center gap-1 transition group",children:[g("shops.viewAll"),t.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),t.jsxs("div",{className:"relative group",children:[t.jsx("button",{onClick:()=>ee(W,"left"),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 w-10 h-10 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition hover:bg-white/20",children:t.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("div",{ref:W,className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2 snap-x snap-mandatory",children:G.map(e=>t.jsx("div",{className:"flex-shrink-0 w-[240px] snap-start",children:t.jsx(te,{shop:e,size:"compact"})},e.id))}),t.jsx("button",{onClick:()=>ee(W,"right"),className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 w-10 h-10 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition hover:bg-white/20",children:t.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),"all"===k&&t.jsxs("section",{className:"mb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),g("shops.recentActive")]}),t.jsxs("button",{onClick:()=>{y("recent"),v("recent")},className:"text-sm text-white/50 hover:text-purple-400 flex items-center gap-1 transition group",children:[g("shops.viewAll"),t.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),t.jsxs("div",{className:"relative group",children:[t.jsx("button",{onClick:()=>ee(S,"left"),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 w-10 h-10 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition hover:bg-white/20",children:t.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("div",{ref:S,className:"flex gap-4 overflow-x-auto scrollbar-hide pb-2 snap-x snap-mandatory",children:Q.slice(0,10).map(e=>t.jsx("div",{className:"flex-shrink-0 w-[240px] snap-start",children:t.jsx(te,{shop:e,size:"compact"})},e.id))}),t.jsx("button",{onClick:()=>ee(S,"right"),className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 w-10 h-10 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition hover:bg-white/20",children:t.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),"featured"===k&&t.jsxs("section",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsxs("button",{onClick:()=>y("all"),className:"flex items-center gap-2 text-white/60 hover:text-white transition",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),g("shops.back")]}),t.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),g("shops.featured"),t.jsxs("span",{className:"text-sm font-normal text-white/50",children:["(",G.length,")"]})]})]}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:G.map(e=>t.jsx(te,{shop:e,size:"large"},e.id))})]}),"recent"===k&&t.jsxs("section",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsxs("button",{onClick:()=>{y("all"),v("popular")},className:"flex items-center gap-2 text-white/60 hover:text-white transition",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),g("shops.back")]}),t.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),g("shops.recentActive"),t.jsxs("span",{className:"text-sm font-normal text-white/50",children:["(",Q.length,")"]})]})]}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:Q.map(e=>t.jsx(te,{shop:e,size:"large"},e.id))})]}),"all"===k&&t.jsxs("section",{children:[0===X.length?t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-white/5 flex items-center justify-center",children:t.jsx("span",{className:"text-4xl",children:"ğŸ”"})}),t.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:g("shops.noResults")}),t.jsx("p",{className:"text-white/50 text-sm",children:g("shops.adjustFilters")})]}):"grid"===w?t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:X.map(e=>t.jsx(te,{shop:e,size:"large"},e.id))}):t.jsx("div",{className:"space-y-3",children:X.map(e=>{var s;return t.jsxs(c,{to:"/shops/".concat(e.slug),className:"shop-list-item group flex items-center gap-4 p-4 bg-white/5 border border-white/5 rounded-xl hover:bg-white/10 transition",children:[t.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-gradient-to-br from-purple-500 to-pink-500 flex-shrink-0",children:t.jsx("img",{src:n(e.logo)||i,alt:"",className:"w-full h-full object-cover",onError:e=>{e.target.src=i}})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-bold text-white truncate",children:e.name}),t.jsxs("p",{className:"text-xs text-white/50",children:[e.region," Â· ",(null==(s=e.tags)?void 0:s[0])||"å®šåˆ¶å·¥åŠ"]})]}),t.jsx("div",{className:"text-right",children:t.jsx("span",{className:"text-xs ".concat(e.acceptingOrders?"text-green-400":"text-red-400"),children:e.acceptingOrders?g("shops.accepting"):g("shops.paused")})})]},e.id)})}),K&&t.jsx("div",{className:"flex justify-center mt-8",children:t.jsx("button",{onClick:()=>q(),disabled:J,className:"px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl text-white font-medium hover:opacity-90 transition disabled:opacity-50 flex items-center gap-2",children:J?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"åŠ è½½ä¸­..."]}):t.jsxs(t.Fragment,{children:["åŠ è½½æ›´å¤š",t.jsxs("span",{className:"text-white/70 text-sm",children:["(",U.length,"/",Z,")"]})]})})}),!K&&U.length>0&&t.jsxs("div",{className:"text-center mt-8 text-white/40 text-sm",children:["å·²åŠ è½½å…¨éƒ¨ ",Z," ä¸ªå·¥åŠ"]})]})]})]})}export{h as default};
