!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(t){n(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function n(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function l(r,n,o,i){var l=n&&n.prototype instanceof c?n:c,u=Object.create(l.prototype);return a(u,"_invoke",function(r,n,o){var a,i,l,c=0,u=o||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,i=0,l=e,m.n=r,s}};function p(r,n){for(i=r,l=n,t=0;!d&&c&&!o&&t<u.length;t++){var o,a=u[t],p=m.p,f=a[2];r>3?(o=f===n)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=r<2&&p<a[1])?(i=0,m.v=n,m.n=a[1]):p<f&&(o=r<3||a[0]>n||n>f)&&(a[4]=r,a[5]=n,m.n=f,i=0))}if(o||r>1)return s;throw d=!0,n}return function(o,u,f){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),i=u,l=f;(t=i<2?e:l)||!d;){a||(i?i<3?(i>1&&(m.n=-1),p(i,l)):m.n=l:m.v=l);try{if(c=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(d=m.n<0)?l:r.call(n,m))!==s)break}catch(t){a=e,i=1,l=t}finally{c=1}}return{value:t,done:d}}}(r,o,i),!0),u}var s={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var m=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),p=d.prototype=c.prototype=Object.create(m);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,a(p,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(p),a(p,i,"Generator"),a(p,n,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(o=function(){return{w:l,m:f}})()}function a(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,r,n){function i(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},a(e,t,r,n)}function i(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function l(e){i(a,n,o,l,s,"next",e)}function s(e){i(a,n,o,l,s,"throw",e)}l(void 0)})}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}System.register(["./query-legacy-CLxXWLnl.js","./sentry-legacy-CTr2CudU.js","./index-legacy-DVoFAd51.js","./router-legacy-9xrJEksD.js","./store-legacy-Bt3CCSnU.js"],function(e,t){"use strict";var n,a,i,c,u,d;return{setters:[function(e){n=e.j},function(e){a=e.a},function(e){i=e.u,c=e.k,u=e.b},function(e){d=e.L},null],execute:function(){e("default",function(){var e=i().user,p=c().t,f=a.useRef(null),x=s(a.useState([]),2),g=x[0],h=x[1],v=s(a.useState([]),2),b=v[0],y=v[1],j=s(a.useState([]),2),k=j[0],w=j[1],N=s(a.useState("festival"),2),G=N[0],S=N[1],C=s(a.useState(""),2),O=C[0],L=C[1],P=s(a.useState("original"),2),_=P[0],M=P[1],z=s(a.useState(null),2),E=z[0],T=z[1],A=s(a.useState(null),2),W=A[0],B=A[1],H=s(a.useState(null),2),U=H[0],D=H[1],F=s(a.useState("idle"),2),R=F[0],I=F[1],V=s(a.useState(""),2),q=V[0],Q=V[1],$=s(a.useState(null),2),J=$[0],K=$[1],X=s(a.useState(""),2),Y=X[0],Z=X[1],ee=s(a.useState(!1),2),te=ee[0],re=ee[1],ne=s(a.useState(!1),2),oe=ne[0],ae=ne[1],ie=s(a.useState(!1),2),le=ie[0],se=ie[1];a.useEffect(function(){u.get("/imagegen/themes").then(function(e){var t;h(e.data.themes||[]),y(e.data.categories||[]),w(e.data.aspectRatios||[]);var r=(e.data.themes||[]).filter(function(e){return"festival"===e.category});r.length>0?L(r[0].id):(null===(t=e.data.themes)||void 0===t?void 0:t.length)>0&&L(e.data.themes[0].id)}).catch(function(){})},[]),a.useEffect(function(){e&&u.get("/imagegen/usage").then(function(e){return K(e.data)}).catch(function(){})},[e]);var ce=a.useCallback(function(e){var t,r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r)if(r.size>20971520)Q(p("tools.imageGen.errSize"));else if(r.type.startsWith("image/")){B(r),Q(""),D(null),se(!1);var n=new FileReader;n.onload=function(e){var t;return T(null===(t=e.target)||void 0===t?void 0:t.result)},n.readAsDataURL(r)}else Q(p("tools.imageGen.errType"))},[]),ue=function(){var e=l(o().m(function e(t){var r,n;return o().w(function(e){for(;;)switch(e.n){case 0:return(r=new FormData).append("file",t),e.n=1,u.post("/oss/upload/user",r,{headers:{"Content-Type":"multipart/form-data"}});case 1:return n=e.v,e.a(2,n.data.url)}},e)}));return function(t){return e.apply(this,arguments)}}(),de=function(){var t=l(o().m(function t(){var n,a,i,l,s,c;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(W&&(O||te)){t.n=1;break}return t.a(2);case 1:if(e){t.n=2;break}return Q(p("tools.imageGen.errLogin")),t.a(2);case 2:if(!(J&&J.remaining<=0)){t.n=3;break}return Q(p("tools.imageGen.errQuota")),t.a(2);case 3:return I("uploading"),Q(""),D(null),se(!1),t.p=4,t.n=5,ue(W);case 5:return n=t.v,I("generating"),a={imageUrl:n,aspectRatio:_},te&&Y.trim()?a.customPrompt=Y.trim():a.themeId=O,t.n=6,u.post("/imagegen/generate",a,{timeout:15e4});case 6:if(!(i=t.v).data.success||!i.data.resultUrl){t.n=7;break}D(i.data.resultUrl),I("done"),void 0!==i.data.remaining&&K(function(e){return e?r(r({},e),{},{remaining:i.data.remaining,used:e.limit-i.data.remaining}):e}),t.n=8;break;case 7:throw new Error(i.data.error||p("tools.imageGen.errGenerate"));case 8:t.n=10;break;case 9:t.p=9,c=t.v,I("error"),Q((null===(l=c.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.error)||c.message||p("tools.imageGen.errGenerate")),void 0!==(null===(s=c.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.remaining)&&K(function(e){return e?r(r({},e),{},{remaining:c.response.data.remaining}):e});case 10:return t.a(2)}},t,null,[[4,9]])}));return function(){return t.apply(this,arguments)}}(),me=function(){var e=l(o().m(function e(){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(U&&!oe&&!le){e.n=1;break}return e.a(2);case 1:return ae(!0),e.p=2,e.n=3,u.post("/imagegen/share",{themeId:te?"custom":O,resultUrl:U});case 3:se(!0),e.n=5;break;case 4:e.p=4,e.v,Q(p("tools.imageGen.errShare"));case 5:return e.p=5,ae(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}();a.useEffect(function(){var e=new URLSearchParams(window.location.search).get("theme");if(e&&g.length>0){var t=g.find(function(t){return t.id===e});t&&(L(e),S(t.category),re(!1))}},[g]);var pe=g.filter(function(e){return e.category===G}),fe="uploading"===R||"generating"===R;return n.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-background)"},children:[n.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl border-b",style:{backgroundColor:"var(--glass-dark-bg)",borderColor:"var(--color-border)"},children:n.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-14 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(d,{to:"/tools",className:"hover:opacity-80 transition-opacity mr-3",style:{color:"var(--color-text-muted)"},children:n.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("h1",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:p("tools.imageGen.title")})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(d,{to:"/tools/image-gallery",className:"text-sm text-purple-400 hover:text-purple-300 transition-colors flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),n.jsx("span",{className:"hidden sm:inline",children:p("tools.imageGen.gallery")})]}),J&&n.jsxs("div",{className:"text-sm",style:{color:"var(--color-text-muted)"},children:[n.jsx("span",{className:"text-purple-400 font-medium",children:J.remaining}),"/",J.limit]})]})]})}),n.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-4 sm:py-6",children:[!e&&n.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-yellow-500/10 border border-yellow-500/20 text-yellow-300 text-sm flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{children:[p("tools.imageGen.loginFirst")," ",n.jsx(d,{to:"/login",className:"text-yellow-200 underline",children:p("tools.imageGen.loginLink")})," ",p("tools.imageGen.loginAfter")]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:p("tools.imageGen.uploadPhoto")}),n.jsxs("div",{onClick:function(){var e;return null===(e=f.current)||void 0===e?void 0:e.click()},className:"relative rounded-2xl border-2 border-dashed transition-all cursor-pointer overflow-hidden ".concat(E?"border-purple-500/50":"hover:border-purple-500/30"),style:{minHeight:E?"auto":"180px",borderColor:E?void 0:"var(--color-border)",backgroundColor:E?"rgba(0,0,0,0.1)":"var(--glass-bg)"},children:[E?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:E,alt:p("tools.imageGen.uploadedAlt"),className:"w-full max-h-[300px] object-contain"}),n.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsx("span",{className:"text-white text-sm bg-black/60 px-4 py-2 rounded-full",children:p("tools.imageGen.clickChange")})})]}):n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",style:{color:"var(--color-text-muted)"},children:[n.jsx("svg",{className:"w-10 h-10 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("p",{className:"text-sm",children:p("tools.imageGen.clickUpload")}),n.jsx("p",{className:"text-xs mt-1",style:{opacity:.5},children:p("tools.imageGen.uploadHint")})]}),n.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:ce,className:"hidden"})]})]}),n.jsxs("section",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h2",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:p("tools.imageGen.selectStyle")}),n.jsx("button",{onClick:function(){return re(!te)},className:"text-xs px-3 py-1 rounded-full transition-colors ".concat(te?"bg-purple-500/20 text-purple-300 border border-purple-500/30":""),style:te?void 0:{backgroundColor:"var(--input-bg)",color:"var(--color-text-muted)"},children:p(te?"tools.imageGen.presetStyle":"tools.imageGen.custom")})]}),te?n.jsx("textarea",{value:Y,onChange:function(e){return Z(e.target.value)},placeholder:p("tools.imageGen.customPlaceholder"),className:"w-full h-28 rounded-xl px-4 py-3 text-sm resize-none focus:outline-none focus:border-purple-500/50 transition-colors",style:{backgroundColor:"var(--input-bg)",border:"1px solid var(--color-border)",color:"var(--color-text)"},maxLength:500}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex gap-2 mb-3 overflow-x-auto pb-1 scrollbar-hide flex-wrap",children:b.map(function(e){return n.jsxs("button",{onClick:function(){S(e.id);var t=g.find(function(t){return t.category===e.id});t&&L(t.id)},className:"shrink-0 px-3 py-1.5 rounded-full text-xs sm:text-sm transition-all ".concat(G===e.id?"bg-purple-500/20 text-purple-300 border border-purple-500/30":"border border-transparent"),style:G!==e.id?{backgroundColor:"var(--input-bg)",color:"var(--color-text-muted)"}:void 0,children:[e.icon," ",e.name]},e.id)})}),n.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide sm:grid sm:grid-cols-2 sm:overflow-visible sm:pb-0",children:pe.map(function(e){return n.jsxs("button",{onClick:function(){return L(e.id)},className:"shrink-0 w-[140px] sm:w-auto relative rounded-xl text-left transition-all overflow-hidden ".concat(O===e.id?"ring-2 ring-purple-500 shadow-lg shadow-purple-500/10":"hover:ring-1 hover:ring-purple-500/30"),style:{border:"1px solid var(--color-border)"},children:[n.jsx("div",{className:"h-20 sm:h-24 bg-gradient-to-br ".concat(t[e.id]||"from-purple-500/20 to-pink-500/20"," flex items-center justify-center"),children:n.jsx("span",{className:"text-3xl sm:text-4xl",children:e.icon})}),n.jsxs("div",{className:"p-2.5 sm:p-3",style:{backgroundColor:"var(--glass-bg)"},children:[n.jsx("div",{className:"text-xs sm:text-sm font-medium truncate",style:{color:"var(--color-text)"},children:e.name}),n.jsx("div",{className:"text-[10px] sm:text-xs mt-0.5 line-clamp-1",style:{color:"var(--color-text-muted)"},children:e.description})]}),O===e.id&&n.jsx("div",{className:"absolute top-1.5 right-1.5 w-5 h-5 bg-purple-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},e.id)})})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:p("tools.imageGen.aspectRatio")}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:k.map(function(e){return n.jsxs("button",{onClick:function(){return M(e.id)},className:"shrink-0 px-3 py-2 rounded-lg text-xs sm:text-sm transition-all flex items-center gap-1.5 ".concat(_===e.id?"bg-purple-500/20 text-purple-300 ring-1 ring-purple-500/50":""),style:_!==e.id?{backgroundColor:"var(--input-bg)",color:"var(--color-text-muted)"}:void 0,children:[n.jsx("span",{children:e.icon}),n.jsx("span",{children:e.name})]},e.id)})})]}),n.jsx("button",{onClick:de,disabled:!E||!O&&!te||fe||!e,className:"w-full py-3.5 rounded-xl font-medium text-white transition-all disabled:opacity-40 disabled:cursor-not-allowed bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 active:scale-[0.98] shadow-lg shadow-purple-500/20",children:"uploading"===R?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx(m,{})," ",p("tools.imageGen.uploading")]}):"generating"===R?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx(m,{})," ",p("tools.imageGen.generating")]}):p("tools.imageGen.startGenerate")}),q&&n.jsx("div",{className:"p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-red-300 text-sm",children:q})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:p("tools.imageGen.result")}),n.jsx("div",{className:"rounded-2xl overflow-hidden",style:{minHeight:"360px",border:"1px solid var(--color-border)",backgroundColor:"var(--glass-bg)"},children:U?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:U,alt:p("tools.imageGen.resultAlt"),className:"w-full object-contain"}),n.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex gap-2",children:[n.jsxs("button",{onClick:function(){if(U){var e=document.createElement("a");e.href=U,e.download="kigurumi-creative-".concat(Date.now(),".png"),e.click()}},className:"flex-1 py-2 rounded-xl bg-black/60 backdrop-blur-sm text-white text-xs sm:text-sm font-medium hover:bg-black/80 transition-colors flex items-center justify-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),p("tools.imageGen.save")]}),n.jsx("button",{onClick:me,disabled:oe||le,className:"flex-1 py-2 rounded-xl backdrop-blur-sm text-xs sm:text-sm font-medium transition-colors flex items-center justify-center gap-1 ".concat(le?"bg-green-500/20 text-green-300":"bg-pink-500/20 text-pink-300 hover:bg-pink-500/30"),children:p(le?"tools.imageGen.shared":oe?"tools.imageGen.sharing":"tools.imageGen.shareToGallery")}),n.jsx("button",{onClick:function(){D(null),I("idle"),Q(""),se(!1)},className:"flex-1 py-2 rounded-xl bg-purple-500/20 backdrop-blur-sm text-purple-300 text-xs sm:text-sm font-medium hover:bg-purple-500/30 transition-colors flex items-center justify-center gap-1",children:p("tools.imageGen.tryAgain")})]})]}):fe?n.jsxs("div",{className:"flex flex-col items-center justify-center h-[360px]",style:{color:"var(--color-text-muted)"},children:[n.jsxs("div",{className:"relative mb-5",children:[n.jsx("div",{className:"w-16 h-16 border-2 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xl",children:"âœ¨"})]}),n.jsx("p",{className:"text-sm",children:p("uploading"===R?"tools.imageGen.uploadingImg":"tools.imageGen.aiCreating")}),n.jsx("p",{className:"text-xs mt-2",style:{opacity:.5},children:p("tools.imageGen.waitTime")})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-[360px]",style:{color:"var(--color-text-muted)"},children:[n.jsx("svg",{className:"w-14 h-14 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("p",{className:"text-sm",children:p("tools.imageGen.emptyHint")})]})}),n.jsx("div",{className:"mt-4 p-3 rounded-xl text-xs",style:{backgroundColor:"var(--glass-bg)",border:"1px solid var(--color-border)",color:"var(--color-text-muted)"},children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-400",children:"ðŸ’¡"}),p("tools.imageGen.tip",{limit:String((null==J?void 0:J.limit)||10)})]})})]})]})]})]})});var t={anime_portrait:"from-pink-500/30 to-blue-500/30",ghibli:"from-green-500/30 to-yellow-500/30",chibi:"from-pink-400/30 to-purple-400/30",oil_painting:"from-amber-600/30 to-orange-500/30",watercolor:"from-cyan-400/30 to-blue-300/30",pixel_art:"from-green-400/30 to-emerald-500/30",cyberpunk:"from-purple-600/30 to-cyan-500/30",vintage_film:"from-amber-500/30 to-orange-400/30",noir:"from-gray-600/30 to-gray-400/30",fantasy:"from-violet-500/30 to-indigo-500/30",steampunk:"from-amber-700/30 to-yellow-600/30",pop_art:"from-red-500/30 to-yellow-400/30",cny_lantern:"from-red-600/30 to-amber-500/30",cny_dragon:"from-red-500/30 to-yellow-500/30",cny_fireworks:"from-blue-600/30 to-pink-500/30",cny_hanfu:"from-red-400/30 to-pink-400/30"};function m(){return n.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}}}})}();
