!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach(function(t){r(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function r(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function l(n,r,i,a){var l=r&&r.prototype instanceof c?r:c,d=Object.create(l.prototype);return s(d,"_invoke",function(n,r,i){var s,a,l,c=0,d=i||[],x=!1,u={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return s=t,a=0,l=e,u.n=n,o}};function m(n,r){for(a=n,l=r,t=0;!x&&c&&!i&&t<d.length;t++){var i,s=d[t],m=u.p,f=s[2];n>3?(i=f===r)&&(l=s[(a=s[4])?5:(a=3,3)],s[4]=s[5]=e):s[0]<=m&&((i=n<2&&m<s[1])?(a=0,u.v=r,u.n=s[1]):m<f&&(i=n<3||s[0]>r||r>f)&&(s[4]=n,s[5]=r,u.n=f,a=0))}if(i||n>1)return o;throw x=!0,r}return function(i,d,f){if(c>1)throw TypeError("Generator is already running");for(x&&1===d&&m(d,f),a=d,l=f;(t=a<2?e:l)||!x;){s||(a?a<3?(a>1&&(u.n=-1),m(a,l)):u.n=l:u.v=l);try{if(c=2,s){if(a||(i="next"),t=s[i]){if(!(t=t.call(s,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=s.return)&&t.call(s),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);s=e}else if((t=(x=u.n<0)?l:n.call(r,u))!==o)break}catch(t){s=e,a=1,l=t}finally{c=1}}return{value:t,done:x}}}(n,i,a),!0),d}var o={};function c(){}function d(){}function x(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(s(t={},r,function(){return this}),t),m=x.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,s(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return d.prototype=x,s(m,"constructor",x),s(x,"constructor",d),d.displayName="GeneratorFunction",s(x,a,"GeneratorFunction"),s(m),s(m,a,"Generator"),s(m,r,function(){return this}),s(m,"toString",function(){return"[object Generator]"}),(i=function(){return{w:l,m:f}})()}function s(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}s=function(e,t,n,r){function a(t,n){s(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},s(e,t,n,r)}function a(e,t,n,r,i,s,a){try{var l=e[s](a),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function l(e){a(s,r,i,l,o,"next",e)}function o(e){a(s,r,i,l,o,"throw",e)}l(void 0)})}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,l=[],o=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);o=!0);}catch(e){c=!0,i=e}finally{try{if(!o&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./query-legacy-CLxXWLnl.js","./sentry-legacy-CTr2CudU.js","./index-legacy-DVoFAd51.js","./CustomSelect-legacy-k9C_XkzF.js","./router-legacy-9xrJEksD.js","./store-legacy-Bt3CCSnU.js"],function(e,t){"use strict";var r,s,a,c,d,x,u,m,f,h,p,g;return{setters:[function(e){r=e.j,s=e.b},function(e){a=e.a},function(e){c=e.k,d=e.e,x=e.l,u=e._,m=e.u,f=e.g,h=e.b},function(e){p=e.C},function(e){g=e.L},null],execute:function(){function v(e){var s=e.code,m=e.inviteUrl,f=e.userName,h=e.userAvatar,p=e.confirmedCount,g=c().t,v=a.useRef(null),b=d({position:"center"}),j=b.showNotification,y=b.NotificationComponent,w=o(a.useState(!1),2),N=w[0],k=w[1],C=o(a.useState(""),2),S=C[0],O=C[1],R=o(a.useState(!1),2),B=R[0],L=R[1],P=o(a.useState(!1),2),T=P[0],A=P[1],z=o(a.useState(!1),2),_=z[0],F=z[1];a.useEffect(function(){if(m){var e="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=".concat(encodeURIComponent(m),"&format=png&margin=10");O(e),L(!1)}},[m]),a.useEffect(function(){if(h){var e=new Image;e.crossOrigin="anonymous",e.onload=function(){return A(!0)},e.onerror=function(){return F(!0)},e.src=h}},[h]);var q=function(){var e=l(i().m(function e(){var n,r,a,o,c,d,x,m;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(v.current&&!N){e.n=1;break}return e.a(2);case 1:return k(!0),e.p=2,e.n=3,u(l(i().m(function e(){var n,r;return i().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.import("./utils-legacy-DkDFPKHm.js");case 1:return n=e.v,r=n.default,e.a(2,{default:r})}},e)})),void 0);case 3:return n=e.v.default,e.n=4,n(v.current,{scale:3,backgroundColor:null,useCORS:!0,allowTaint:!1,logging:!1});case 4:return r=e.v,a=r.toDataURL("image/png"),o="invite-".concat(s,".png"),e.n=5,fetch(a);case 5:return c=e.v,e.n=6,c.blob();case 6:d=e.v,x=URL.createObjectURL(d),(m=document.createElement("a")).href=x,m.download=o,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(x),e.n=8;break;case 7:e.p=7,e.v,j(g("inviteCard.posterFailed"),"error");case 8:return e.p=8,k(!1),e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=l(i().m(function e(){return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!navigator.share){e.n=5;break}return e.p=1,e.n=2,navigator.share({title:g("inviteCard.shareTitle"),text:g("inviteCard.shareText",{name:f,code:s}),url:m});case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:e.n=7;break;case 5:return e.n=6,navigator.clipboard.writeText(m);case 6:j(g("inviteCard.linkCopied"),"success");case 7:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),D=s.split(""),W=h&&T&&!_?h:x;return r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[y,r.jsxs("div",{ref:v,style:n(n({},{background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)"}),{},{position:"relative",width:"100%",maxWidth:"384px",margin:"0 auto",borderRadius:"16px",overflow:"hidden"}),children:[r.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"rgba(0,0,0,0.2)"}}),r.jsx("div",{style:{position:"absolute",top:0,right:0,width:"160px",height:"160px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"50%",transform:"translate(50%, -50%)",filter:"blur(40px)"}}),r.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"128px",height:"128px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"50%",transform:"translate(-50%, 50%)",filter:"blur(40px)"}}),r.jsxs("div",{style:{position:"relative",zIndex:10,padding:"24px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[r.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"12px",backgroundColor:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",flexShrink:0,overflow:"hidden"},children:r.jsx("img",{src:W,alt:f,crossOrigin:"anonymous",style:{width:"100%",height:"100%",objectFit:"cover"}})}),r.jsxs("div",{style:{flex:1,minWidth:0},children:[r.jsx("p",{style:{fontWeight:700,fontSize:"18px",color:"#ffffff",lineHeight:1.2,margin:0,textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:f}),r.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"14px",margin:"4px 0 0 0"},children:"ÈÇÄËØ∑‰Ω†Âä†ÂÖ•"})]})]}),r.jsxs("div",{style:{textAlign:"center",marginBottom:"16px"},children:[r.jsx("h2",{style:{fontSize:"20px",fontWeight:700,color:"#ffffff",marginBottom:"4px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Kigurumi Âú∞Âõæ"}),r.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px",margin:0},children:"ÂèëÁé∞Ë∫´ËæπÁöÑ Kigurumi Áé©ÂÆ∂"})]}),r.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.15)",borderRadius:"12px",padding:"16px",marginBottom:"16px",border:"1px solid rgba(255,255,255,0.2)"},children:[r.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.7)",fontSize:"12px",marginBottom:"8px"},children:"ÊàëÁöÑ‰∏ìÂ±ûÈÇÄËØ∑Á†Å"}),r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:D.map(function(e,t){return r.jsx("span",{style:{width:"32px",textAlign:"center",fontSize:"24px",fontFamily:"monospace",fontWeight:700,color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:e},t)})})]}),r.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:r.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"12px",padding:"8px 20px",border:"1px solid rgba(255,255,255,0.2)",display:"inline-flex",alignItems:"center",gap:"4px"},children:[r.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:"#ffffff"},children:p}),r.jsx("span",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px"},children:"‰∫∫Â∑≤Âä†ÂÖ•"})]})}),r.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"12px"},children:r.jsx("div",{style:{backgroundColor:"#ffffff",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"},children:S&&!B?r.jsx("img",{src:S,alt:"ÈÇÄËØ∑‰∫åÁª¥Á†Å",style:{width:"80px",height:"80px"},crossOrigin:"anonymous",onError:function(){return L(!0)}}):r.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",color:"#9CA3AF",fontSize:"12px",borderRadius:"8px"},children:B?"Êâ´Á†ÅÊ≥®ÂÜå":"Âä†ËΩΩ‰∏≠..."})})}),r.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.5)",fontSize:"12px",margin:0},children:"Êâ´Êèè‰∫åÁª¥Á†ÅÊàñÂ§çÂà∂ÈìæÊé•Ê≥®ÂÜå"})]})]}),r.jsxs("div",{style:{display:"flex",gap:"12px",maxWidth:"384px",margin:"0 auto",width:"100%"},children:[r.jsx("button",{onClick:q,disabled:N,style:{flex:1,padding:"12px",background:"linear-gradient(to right, #8B5CF6, #EC4899)",borderRadius:"12px",fontWeight:500,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 10px 15px -3px rgba(139, 92, 246, 0.2)",border:"none",cursor:N?"not-allowed":"pointer",opacity:N?.5:1},children:N?r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #ffffff",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),r.jsx("span",{children:g("inviteCard.generating")})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{style:{width:"20px",height:"20px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),r.jsx("span",{children:g("inviteCard.savePoster")})]})}),r.jsxs("button",{onClick:I,style:{flex:1,padding:"12px",backgroundColor:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",borderRadius:"12px",fontWeight:500,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",border:"none",cursor:"pointer"},children:[r.jsx("svg",{style:{width:"20px",height:"20px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),r.jsx("span",{children:g("inviteCard.shareLink")})]})]}),r.jsx("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})}e("default",function(){var e,t,n,d,x,u=c().t,w=m().user,N=o(a.useState(!1),2),k=N[0],C=N[1],S=o(a.useState("overview"),2),O=S[0],R=S[1],B=o(a.useState(!1),2),L=B[0],P=B[1],T=o(a.useState("all"),2),A=T[0],z=T[1],_=s({queryKey:["invite-stats"],queryFn:function(){return h.get("/invite/stats").then(function(e){return e.data})},enabled:!!w}),F=_.data,q=_.isLoading,I=s({queryKey:["invite-records"],queryFn:function(){return h.get("/invite/records").then(function(e){return e.data})},enabled:!!w}).data,D=s({queryKey:["profile"],queryFn:function(){return h.get("/profile").then(function(e){return e.data})},enabled:!!w}).data,W=(null==I?void 0:I.records)||[],E=null==D?void 0:D.profile,U=null!=F&&F.code?"".concat(window.location.origin,"/register?invite=").concat(F.code):"",K=function(){var e=l(i().m(function e(){return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(U){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,navigator.clipboard.writeText(U);case 2:C(!0),setTimeout(function(){return C(!1)},2e3),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),M=W.filter(function(e){return"all"===A||e.status===A}),G=new Set((null==F||null===(e=F.badges)||void 0===e?void 0:e.map(function(e){return e.badgeType}))||[]);if(!w)return r.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[r.jsx("div",{className:"bg-animated"}),r.jsxs("div",{className:"glass-dark rounded-2xl p-8 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:u("invite.title")}),r.jsx("p",{className:"text-white/60 mb-6",children:u("invite.loginRequired")}),r.jsx(g,{to:"/login",className:"text-primary hover:underline",children:u("invite.goLogin")})]})]});if(q)return r.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[r.jsx("div",{className:"bg-animated"}),r.jsxs("div",{className:"glass-dark rounded-2xl p-8",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),r.jsx("p",{className:"text-white/60 mt-4 text-sm",children:u("invite.loading")})]})]});return r.jsxs("div",{className:"min-h-screen relative",children:[r.jsx("div",{className:"bg-animated"}),r.jsx("header",{className:"glass-dark border-b border-white/5 sticky top-0 z-40",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-14 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(g,{to:"https://kighub.cn/",className:"flex items-center gap-2 text-white/60 hover:text-white transition",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),r.jsx("span",{className:"text-sm hidden sm:inline",children:u("invite.backToMap")})]}),r.jsx("div",{className:"w-px h-5 bg-white/10"}),r.jsx("h1",{className:"text-lg font-bold text-gradient",children:u("invite.center")})]}),r.jsxs(g,{to:"/leaderboard",className:"flex items-center gap-2 px-3 py-1.5 glass rounded-lg text-sm text-white/70 hover:text-white transition",children:[r.jsx("span",{children:"üèÜ"}),r.jsx("span",{className:"hidden sm:inline",children:u("invite.leaderboard")})]})]})}),r.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-6 relative z-10",children:[F&&r.jsxs("div",{className:"glass-dark rounded-2xl p-6 sm:p-8 mb-6 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-secondary/20 to-primary/20 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white/50 text-sm mb-2",children:u("invite.myInviteCode")}),r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("span",{className:"text-4xl sm:text-5xl font-mono font-bold text-gradient tracking-wider",children:F.code}),r.jsx("button",{onClick:K,className:"px-4 py-2 rounded-xl text-sm font-medium transition-all ".concat(k?"bg-green-500/20 text-green-400 border border-green-500/30":"glass hover:bg-white/10 text-white/80 hover:text-white"),children:u(k?"invite.copied":"invite.copyLink")})]}),r.jsx("p",{className:"text-white/40 text-xs break-all max-w-md",children:U})]}),r.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex-1 sm:flex-none glass rounded-xl p-4 text-center min-w-[100px]",children:[r.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-400",children:F.visitCount}),r.jsx("div",{className:"text-xs text-white/50 mt-1",children:u("invite.linkVisits")})]}),r.jsxs("div",{className:"flex-1 sm:flex-none glass rounded-xl p-4 text-center min-w-[100px]",children:[r.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-amber-400",children:F.pendingCount}),r.jsx("div",{className:"text-xs text-white/50 mt-1",children:u("invite.pending")})]}),r.jsxs("div",{className:"flex-1 sm:flex-none glass rounded-xl p-4 text-center min-w-[100px]",children:[r.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-400",children:F.confirmedCount}),r.jsx("div",{className:"text-xs text-white/50 mt-1",children:u("invite.confirmed")})]})]})]}),r.jsxs("button",{onClick:function(){return P(!0)},className:"mt-6 w-full sm:w-auto px-6 py-3 btn-gradient rounded-xl font-medium text-white flex items-center justify-center gap-2 shadow-lg shadow-primary/20",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u("invite.generatePoster")]})]})]}),r.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[{key:"overview",label:u("invite.overview"),icon:"üìä"},{key:"records",label:u("invite.inviteRecords"),icon:"üìã"},{key:"badges",label:u("invite.achievementBadges"),icon:"üèÖ"}].map(function(e){return r.jsxs("button",{onClick:function(){return R(e.key)},className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ".concat(O===e.key?"bg-gradient-to-r from-primary to-secondary text-white shadow-lg shadow-primary/20":"glass text-white/60 hover:text-white hover:bg-white/10"),children:[r.jsx("span",{children:e.icon}),r.jsx("span",{children:e.label})]},e.key)})}),r.jsxs("div",{className:"space-y-6",children:["overview"===O&&r.jsxs(r.Fragment,{children:[(null==F?void 0:F.nextBadge)&&r.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br ".concat((null===(t=b[F.nextBadge.badgeType])||void 0===t?void 0:t.color)||"from-gray-400 to-gray-500"," flex items-center justify-center text-2xl shadow-lg ").concat((null===(n=b[F.nextBadge.badgeType])||void 0===n?void 0:n.glow)||""),children:(null===(d=b[F.nextBadge.badgeType])||void 0===d?void 0:d.icon)||"üéñÔ∏è"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white/50 text-sm",children:u("invite.nextBadge")}),r.jsx("p",{className:"text-lg font-bold text-white",children:u(j[F.nextBadge.badgeType]||"badge.beginner")})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-2xl font-bold text-gradient",children:[F.nextBadge.current,"/",F.nextBadge.required]}),r.jsx("p",{className:"text-xs text-white/50",children:u("invite.needMore",{n:F.nextBadge.required-F.nextBadge.current})})]})]}),r.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-secondary rounded-full transition-all duration-500",style:{width:"".concat(Math.min(F.nextBadge.progress,100),"%")}})})]}),r.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"üìñ"}),u("invite.inviteRules")]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[r.jsx("div",{className:"glass rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center text-green-400 flex-shrink-0",children:"‚úì"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white mb-1",children:u("invite.validCondition")}),r.jsx("p",{className:"text-sm text-white/50",children:u("invite.validConditionDesc")})]})]})}),r.jsx("div",{className:"glass rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400 flex-shrink-0",children:"üéÅ"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white mb-1",children:u("invite.badgeReward")}),r.jsx("p",{className:"text-sm text-white/50",children:u("invite.badgeRewardDesc")})]})]})})]})]}),W.length>0&&r.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[r.jsx("span",{children:"üë•"}),u("invite.recentInvites")]}),r.jsx("button",{onClick:function(){return R("records")},className:"text-sm text-primary hover:underline",children:u("invite.viewAll")})]}),r.jsx("div",{className:"space-y-3",children:W.slice(0,3).map(function(e){var t,n;return r.jsxs("div",{className:"flex items-center gap-3 glass rounded-xl p-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 overflow-hidden flex-shrink-0",children:null!==(t=e.invitee)&&void 0!==t&&t.avatar?r.jsx("img",{src:f(e.invitee.avatar),alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40",children:"üë§"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-white truncate",children:(null===(n=e.invitee)||void 0===n?void 0:n.cnName)||e.email||u("invite.unknownUser")}),r.jsx("p",{className:"text-xs text-white/40",children:new Date(e.createdAt).toLocaleDateString()})]}),r.jsx("span",{className:"px-2 py-1 text-xs rounded-full ".concat("confirmed"===e.status?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400"),children:"confirmed"===e.status?u("invite.statusConfirmed"):u("invite.statusPending")})]},e.id)})})]})]}),"records"===O&&r.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:u("invite.inviteRecords")}),r.jsx(p,{value:A,onChange:z,options:[{value:"all",label:u("invite.filterAll")},{value:"confirmed",label:u("invite.filterConfirmed")},{value:"pending",label:u("invite.filterPending")}],className:"w-28"})]}),0===M.length?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:"üì≠"}),r.jsx("p",{className:"text-white/50",children:u("invite.noRecords")}),r.jsx("p",{className:"text-white/30 text-sm mt-2",children:u("invite.shareInviteLink")})]}):r.jsx("div",{className:"space-y-3",children:M.map(function(e){var t,n;return r.jsxs("div",{className:"flex items-center gap-4 glass rounded-xl p-4 hover:bg-white/5 transition",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 overflow-hidden flex-shrink-0",children:null!==(t=e.invitee)&&void 0!==t&&t.avatar?r.jsx("img",{src:f(e.invitee.avatar),alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-xl",children:"üë§"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-white",children:(null===(n=e.invitee)||void 0===n?void 0:n.cnName)||e.email||u("invite.unknownUser")}),r.jsxs("p",{className:"text-sm text-white/40",children:[u("invite.registeredAt",{date:new Date(e.createdAt).toLocaleDateString()}),e.confirmedAt&&" ¬∑ ".concat(u("invite.confirmedAt",{date:new Date(e.confirmedAt).toLocaleDateString()}))]})]}),r.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full ".concat("confirmed"===e.status?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-amber-500/20 text-amber-400 border border-amber-500/30"),children:"confirmed"===e.status?u("invite.statusConfirmedIcon"):u("invite.statusPendingIcon")})]},e.id)})})]}),"badges"===O&&r.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:u("invite.badgesTitle")}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:y.map(function(e){var t=b[e.type]||{icon:"üéñÔ∏è",color:"from-gray-400 to-gray-500",glow:""},n=G.has(e.type);return r.jsxs("div",{className:"relative glass rounded-xl p-4 text-center transition-all ".concat(n?"ring-2 ring-primary/50 bg-primary/5":"opacity-40 grayscale"),children:[n&&r.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs shadow-lg",children:"‚úì"}),r.jsx("div",{className:"w-16 h-16 mx-auto rounded-xl bg-gradient-to-br ".concat(t.color," flex items-center justify-center text-3xl shadow-lg ").concat(n?t.glow:""," mb-3"),children:t.icon}),r.jsx("p",{className:"font-medium text-white text-sm",children:u(e.nameKey)}),r.jsx("p",{className:"text-xs text-white/50 mt-1",children:u("invite.invitePeople",{n:e.required})})]},e.type)})}),r.jsx("div",{className:"mt-6 p-4 glass rounded-xl",children:r.jsx("p",{className:"text-sm text-white/60",children:u("invite.badgeHint")})})]})]}),L&&F&&E&&r.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:function(){return P(!1)},children:r.jsxs("div",{className:"glass-dark rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto animate-fade-in",onClick:function(e){return e.stopPropagation()},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:u("invite.posterTitle")}),r.jsx("button",{onClick:function(){return P(!1)},className:"w-8 h-8 rounded-full glass hover:bg-white/20 flex items-center justify-center text-white/60 hover:text-white transition",children:"‚úï"})]}),r.jsx(v,{code:F.code,inviteUrl:U,userName:E.cnName||u("invite.user"),userAvatar:E.avatar||(null===(x=E.photos)||void 0===x?void 0:x[0]),confirmedCount:F.confirmedCount})]})})]})]})});var b={invite_beginner:{icon:"üå±",color:"from-green-400 to-emerald-500",glow:"shadow-green-500/30"},invite_intermediate:{icon:"üåø",color:"from-teal-400 to-cyan-500",glow:"shadow-teal-500/30"},invite_advanced:{icon:"üå≥",color:"from-blue-400 to-indigo-500",glow:"shadow-blue-500/30"},invite_super:{icon:"üèÜ",color:"from-amber-400 to-orange-500",glow:"shadow-amber-500/30"}},j={invite_beginner:"badge.beginner",invite_intermediate:"badge.intermediate",invite_advanced:"badge.advanced",invite_super:"badge.super"},y=[{type:"invite_beginner",nameKey:"badge.beginner",required:3},{type:"invite_intermediate",nameKey:"badge.intermediate",required:10},{type:"invite_advanced",nameKey:"badge.advanced",required:30},{type:"invite_super",nameKey:"badge.super",required:100}]}}})}();
