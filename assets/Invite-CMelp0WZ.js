import{j as e,b as t}from"./query-DSsWWIdM.js";import{a as i}from"./sentry-DvvTOdwe.js";import{k as s,e as n,l as a,_ as r,u as l,g as d,b as o}from"./index-D0yqgRjz.js";import{C as c}from"./CustomSelect-B-AWyF9k.js";import{L as x}from"./router-jbVFofSC.js";import"./store-BXxpTH1V.js";function m({code:t,inviteUrl:l,userName:d,userAvatar:o,confirmedCount:c}){const{t:x}=s(),m=i.useRef(null),{showNotification:h,NotificationComponent:g}=n({position:"center"}),[p,f]=i.useState(!1),[u,v]=i.useState(""),[b,j]=i.useState(!1),[w,y]=i.useState(!1),[N,k]=i.useState(!1);i.useEffect(()=>{if(l){const e="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=".concat(encodeURIComponent(l),"&format=png&margin=10");v(e),j(!1)}},[l]),i.useEffect(()=>{if(o){const e=new Image;e.crossOrigin="anonymous",e.onload=()=>y(!0),e.onerror=()=>k(!0),e.src=o}},[o]);const C=t.split(""),S=o&&w&&!N?o:a;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[g,e.jsxs("div",{ref:m,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",position:"relative",width:"100%",maxWidth:"384px",margin:"0 auto",borderRadius:"16px",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"rgba(0,0,0,0.2)"}}),e.jsx("div",{style:{position:"absolute",top:0,right:0,width:"160px",height:"160px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"50%",transform:"translate(50%, -50%)",filter:"blur(40px)"}}),e.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"128px",height:"128px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"50%",transform:"translate(-50%, 50%)",filter:"blur(40px)"}}),e.jsxs("div",{style:{position:"relative",zIndex:10,padding:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"12px",backgroundColor:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",flexShrink:0,overflow:"hidden"},children:e.jsx("img",{src:S,alt:d,crossOrigin:"anonymous",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("p",{style:{fontWeight:700,fontSize:"18px",color:"#ffffff",lineHeight:1.2,margin:0,textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:d}),e.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"14px",margin:"4px 0 0 0"},children:"é‚€è¯·ä½ åŠ å…¥"})]})]}),e.jsxs("div",{style:{textAlign:"center",marginBottom:"16px"},children:[e.jsx("h2",{style:{fontSize:"20px",fontWeight:700,color:"#ffffff",marginBottom:"4px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Kigurumi åœ°å›¾"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px",margin:0},children:"å‘çŽ°èº«è¾¹çš„ Kigurumi çŽ©å®¶"})]}),e.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.15)",borderRadius:"12px",padding:"16px",marginBottom:"16px",border:"1px solid rgba(255,255,255,0.2)"},children:[e.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.7)",fontSize:"12px",marginBottom:"8px"},children:"æˆ‘çš„ä¸“å±žé‚€è¯·ç "}),e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:C.map((t,i)=>e.jsx("span",{style:{width:"32px",textAlign:"center",fontSize:"24px",fontFamily:"monospace",fontWeight:700,color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:t},i))})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:e.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"12px",padding:"8px 20px",border:"1px solid rgba(255,255,255,0.2)",display:"inline-flex",alignItems:"center",gap:"4px"},children:[e.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:"#ffffff"},children:c}),e.jsx("span",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px"},children:"äººå·²åŠ å…¥"})]})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"12px"},children:e.jsx("div",{style:{backgroundColor:"#ffffff",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"},children:u&&!b?e.jsx("img",{src:u,alt:"é‚€è¯·äºŒç»´ç ",style:{width:"80px",height:"80px"},crossOrigin:"anonymous",onError:()=>j(!0)}):e.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",color:"#9CA3AF",fontSize:"12px",borderRadius:"8px"},children:b?"æ‰«ç æ³¨å†Œ":"åŠ è½½ä¸­..."})})}),e.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.5)",fontSize:"12px",margin:0},children:"æ‰«æäºŒç»´ç æˆ–å¤åˆ¶é“¾æŽ¥æ³¨å†Œ"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",maxWidth:"384px",margin:"0 auto",width:"100%"},children:[e.jsx("button",{onClick:async()=>{if(m.current&&!p){f(!0);try{const e=(await r(async()=>{const{default:e}=await import("./utils-C2s7aB6S.js");return{default:e}},[])).default,i=(await e(m.current,{scale:3,backgroundColor:null,useCORS:!0,allowTaint:!1,logging:!1})).toDataURL("image/png"),s="invite-".concat(t,".png"),n=await fetch(i),a=await n.blob(),l=URL.createObjectURL(a),d=document.createElement("a");d.href=l,d.download=s,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(l)}catch(e){h(x("inviteCard.posterFailed"),"error")}finally{f(!1)}}},disabled:p,style:{flex:1,padding:"12px",background:"linear-gradient(to right, #8B5CF6, #EC4899)",borderRadius:"12px",fontWeight:500,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 10px 15px -3px rgba(139, 92, 246, 0.2)",border:"none",cursor:p?"not-allowed":"pointer",opacity:p?.5:1},children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #ffffff",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("span",{children:x("inviteCard.generating")})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{style:{width:"20px",height:"20px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),e.jsx("span",{children:x("inviteCard.savePoster")})]})}),e.jsxs("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:x("inviteCard.shareTitle"),text:x("inviteCard.shareText",{name:d,code:t}),url:l})}catch(e){}else await navigator.clipboard.writeText(l),h(x("inviteCard.linkCopied"),"success")},style:{flex:1,padding:"12px",backgroundColor:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",borderRadius:"12px",fontWeight:500,color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",border:"none",cursor:"pointer"},children:[e.jsx("svg",{style:{width:"20px",height:"20px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),e.jsx("span",{children:x("inviteCard.shareLink")})]})]}),e.jsx("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})}const h={invite_beginner:{icon:"ðŸŒ±",color:"from-green-400 to-emerald-500",glow:"shadow-green-500/30"},invite_intermediate:{icon:"ðŸŒ¿",color:"from-teal-400 to-cyan-500",glow:"shadow-teal-500/30"},invite_advanced:{icon:"ðŸŒ³",color:"from-blue-400 to-indigo-500",glow:"shadow-blue-500/30"},invite_super:{icon:"ðŸ†",color:"from-amber-400 to-orange-500",glow:"shadow-amber-500/30"}},g={invite_beginner:"badge.beginner",invite_intermediate:"badge.intermediate",invite_advanced:"badge.advanced",invite_super:"badge.super"},p=[{type:"invite_beginner",nameKey:"badge.beginner",required:3},{type:"invite_intermediate",nameKey:"badge.intermediate",required:10},{type:"invite_advanced",nameKey:"badge.advanced",required:30},{type:"invite_super",nameKey:"badge.super",required:100}];function f(){var n,a,r,f,u;const{t:v}=s(),{user:b}=l(),[j,w]=i.useState(!1),[y,N]=i.useState("overview"),[k,C]=i.useState(!1),[S,R]=i.useState("all"),{data:L,isLoading:B}=t({queryKey:["invite-stats"],queryFn:()=>o.get("/invite/stats").then(e=>e.data),enabled:!!b}),{data:z}=t({queryKey:["invite-records"],queryFn:()=>o.get("/invite/records").then(e=>e.data),enabled:!!b}),{data:_}=t({queryKey:["profile"],queryFn:()=>o.get("/profile").then(e=>e.data),enabled:!!b}),q=(null==z?void 0:z.records)||[],A=null==_?void 0:_.profile,T=(null==L?void 0:L.code)?"".concat(window.location.origin,"/register?invite=").concat(L.code):"",F=q.filter(e=>"all"===S||e.status===S),I=new Set((null==(n=null==L?void 0:L.badges)?void 0:n.map(e=>e.badgeType))||[]);return b?B?e.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[e.jsx("div",{className:"bg-animated"}),e.jsxs("div",{className:"glass-dark rounded-2xl p-8",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-white/60 mt-4 text-sm",children:v("invite.loading")})]})]}):e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"bg-animated"}),e.jsx("header",{className:"glass-dark border-b border-white/5 sticky top-0 z-40",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-14 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(x,{to:"https://kighub.cn/",className:"flex items-center gap-2 text-white/60 hover:text-white transition",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{className:"text-sm hidden sm:inline",children:v("invite.backToMap")})]}),e.jsx("div",{className:"w-px h-5 bg-white/10"}),e.jsx("h1",{className:"text-lg font-bold text-gradient",children:v("invite.center")})]}),e.jsxs(x,{to:"/leaderboard",className:"flex items-center gap-2 px-3 py-1.5 glass rounded-lg text-sm text-white/70 hover:text-white transition",children:[e.jsx("span",{children:"ðŸ†"}),e.jsx("span",{className:"hidden sm:inline",children:v("invite.leaderboard")})]})]})}),e.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-6 relative z-10",children:[L&&e.jsxs("div",{className:"glass-dark rounded-2xl p-6 sm:p-8 mb-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-secondary/20 to-primary/20 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white/50 text-sm mb-2",children:v("invite.myInviteCode")}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("span",{className:"text-4xl sm:text-5xl font-mono font-bold text-gradient tracking-wider",children:L.code}),e.jsx("button",{onClick:async()=>{if(T)try{await navigator.clipboard.writeText(T),w(!0),setTimeout(()=>w(!1),2e3)}catch(e){}},className:"px-4 py-2 rounded-xl text-sm font-medium transition-all ".concat(j?"bg-green-500/20 text-green-400 border border-green-500/30":"glass hover:bg-white/10 text-white/80 hover:text-white"),children:v(j?"invite.copied":"invite.copyLink")})]}),e.jsx("p",{className:"text-white/40 text-xs break-all max-w-md",children:T})]}),e.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 sm:flex-none glass rounded-xl p-4 text-center min-w-[100px]",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-400",children:L.visitCount}),e.jsx("div",{className:"text-xs text-white/50 mt-1",children:v("invite.linkVisits")})]}),e.jsxs("div",{className:"flex-1 sm:flex-none glass rounded-xl p-4 text-center min-w-[100px]",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-amber-400",children:L.pendingCount}),e.jsx("div",{className:"text-xs text-white/50 mt-1",children:v("invite.pending")})]}),e.jsxs("div",{className:"flex-1 sm:flex-none glass rounded-xl p-4 text-center min-w-[100px]",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-400",children:L.confirmedCount}),e.jsx("div",{className:"text-xs text-white/50 mt-1",children:v("invite.confirmed")})]})]})]}),e.jsxs("button",{onClick:()=>C(!0),className:"mt-6 w-full sm:w-auto px-6 py-3 btn-gradient rounded-xl font-medium text-white flex items-center justify-center gap-2 shadow-lg shadow-primary/20",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),v("invite.generatePoster")]})]})]}),e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[{key:"overview",label:v("invite.overview"),icon:"ðŸ“Š"},{key:"records",label:v("invite.inviteRecords"),icon:"ðŸ“‹"},{key:"badges",label:v("invite.achievementBadges"),icon:"ðŸ…"}].map(t=>e.jsxs("button",{onClick:()=>N(t.key),className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ".concat(y===t.key?"bg-gradient-to-r from-primary to-secondary text-white shadow-lg shadow-primary/20":"glass text-white/60 hover:text-white hover:bg-white/10"),children:[e.jsx("span",{children:t.icon}),e.jsx("span",{children:t.label})]},t.key))}),e.jsxs("div",{className:"space-y-6",children:["overview"===y&&e.jsxs(e.Fragment,{children:[(null==L?void 0:L.nextBadge)&&e.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br ".concat((null==(a=h[L.nextBadge.badgeType])?void 0:a.color)||"from-gray-400 to-gray-500"," flex items-center justify-center text-2xl shadow-lg ").concat((null==(r=h[L.nextBadge.badgeType])?void 0:r.glow)||""),children:(null==(f=h[L.nextBadge.badgeType])?void 0:f.icon)||"ðŸŽ–ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white/50 text-sm",children:v("invite.nextBadge")}),e.jsx("p",{className:"text-lg font-bold text-white",children:v(g[L.nextBadge.badgeType]||"badge.beginner")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-gradient",children:[L.nextBadge.current,"/",L.nextBadge.required]}),e.jsx("p",{className:"text-xs text-white/50",children:v("invite.needMore",{n:L.nextBadge.required-L.nextBadge.current})})]})]}),e.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-secondary rounded-full transition-all duration-500",style:{width:"".concat(Math.min(L.nextBadge.progress,100),"%")}})})]}),e.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“–"}),v("invite.inviteRules")]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsx("div",{className:"glass rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center text-green-400 flex-shrink-0",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white mb-1",children:v("invite.validCondition")}),e.jsx("p",{className:"text-sm text-white/50",children:v("invite.validConditionDesc")})]})]})}),e.jsx("div",{className:"glass rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400 flex-shrink-0",children:"ðŸŽ"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white mb-1",children:v("invite.badgeReward")}),e.jsx("p",{className:"text-sm text-white/50",children:v("invite.badgeRewardDesc")})]})]})})]})]}),q.length>0&&e.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‘¥"}),v("invite.recentInvites")]}),e.jsx("button",{onClick:()=>N("records"),className:"text-sm text-primary hover:underline",children:v("invite.viewAll")})]}),e.jsx("div",{className:"space-y-3",children:q.slice(0,3).map(t=>{var i,s;return e.jsxs("div",{className:"flex items-center gap-3 glass rounded-xl p-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 overflow-hidden flex-shrink-0",children:(null==(i=t.invitee)?void 0:i.avatar)?e.jsx("img",{src:d(t.invitee.avatar),alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40",children:"ðŸ‘¤"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white truncate",children:(null==(s=t.invitee)?void 0:s.cnName)||t.email||v("invite.unknownUser")}),e.jsx("p",{className:"text-xs text-white/40",children:new Date(t.createdAt).toLocaleDateString()})]}),e.jsx("span",{className:"px-2 py-1 text-xs rounded-full ".concat("confirmed"===t.status?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400"),children:"confirmed"===t.status?v("invite.statusConfirmed"):v("invite.statusPending")})]},t.id)})})]})]}),"records"===y&&e.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:v("invite.inviteRecords")}),e.jsx(c,{value:S,onChange:R,options:[{value:"all",label:v("invite.filterAll")},{value:"confirmed",label:v("invite.filterConfirmed")},{value:"pending",label:v("invite.filterPending")}],className:"w-28"})]}),0===F.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ“­"}),e.jsx("p",{className:"text-white/50",children:v("invite.noRecords")}),e.jsx("p",{className:"text-white/30 text-sm mt-2",children:v("invite.shareInviteLink")})]}):e.jsx("div",{className:"space-y-3",children:F.map(t=>{var i,s;return e.jsxs("div",{className:"flex items-center gap-4 glass rounded-xl p-4 hover:bg-white/5 transition",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 overflow-hidden flex-shrink-0",children:(null==(i=t.invitee)?void 0:i.avatar)?e.jsx("img",{src:d(t.invitee.avatar),alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/40 text-xl",children:"ðŸ‘¤"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white",children:(null==(s=t.invitee)?void 0:s.cnName)||t.email||v("invite.unknownUser")}),e.jsxs("p",{className:"text-sm text-white/40",children:[v("invite.registeredAt",{date:new Date(t.createdAt).toLocaleDateString()}),t.confirmedAt&&" Â· ".concat(v("invite.confirmedAt",{date:new Date(t.confirmedAt).toLocaleDateString()}))]})]}),e.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full ".concat("confirmed"===t.status?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-amber-500/20 text-amber-400 border border-amber-500/30"),children:"confirmed"===t.status?v("invite.statusConfirmedIcon"):v("invite.statusPendingIcon")})]},t.id)})})]}),"badges"===y&&e.jsxs("div",{className:"glass-dark rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:v("invite.badgesTitle")}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:p.map(t=>{const i=h[t.type]||{icon:"ðŸŽ–ï¸",color:"from-gray-400 to-gray-500",glow:""},s=I.has(t.type);return e.jsxs("div",{className:"relative glass rounded-xl p-4 text-center transition-all ".concat(s?"ring-2 ring-primary/50 bg-primary/5":"opacity-40 grayscale"),children:[s&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs shadow-lg",children:"âœ“"}),e.jsx("div",{className:"w-16 h-16 mx-auto rounded-xl bg-gradient-to-br ".concat(i.color," flex items-center justify-center text-3xl shadow-lg ").concat(s?i.glow:""," mb-3"),children:i.icon}),e.jsx("p",{className:"font-medium text-white text-sm",children:v(t.nameKey)}),e.jsx("p",{className:"text-xs text-white/50 mt-1",children:v("invite.invitePeople",{n:t.required})})]},t.type)})}),e.jsx("div",{className:"mt-6 p-4 glass rounded-xl",children:e.jsx("p",{className:"text-sm text-white/60",children:v("invite.badgeHint")})})]})]}),k&&L&&A&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>C(!1),children:e.jsxs("div",{className:"glass-dark rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto animate-fade-in",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:v("invite.posterTitle")}),e.jsx("button",{onClick:()=>C(!1),className:"w-8 h-8 rounded-full glass hover:bg-white/20 flex items-center justify-center text-white/60 hover:text-white transition",children:"âœ•"})]}),e.jsx(m,{code:L.code,inviteUrl:T,userName:A.cnName||v("invite.user"),userAvatar:A.avatar||(null==(u=A.photos)?void 0:u[0]),confirmedCount:L.confirmedCount})]})})]})]}):e.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[e.jsx("div",{className:"bg-animated"}),e.jsxs("div",{className:"glass-dark rounded-2xl p-8 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:v("invite.title")}),e.jsx("p",{className:"text-white/60 mb-6",children:v("invite.loginRequired")}),e.jsx(x,{to:"/login",className:"text-primary hover:underline",children:v("invite.goLogin")})]})]})}export{f as default};
