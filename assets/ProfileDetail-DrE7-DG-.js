import{b as e,j as t}from"./query-DSsWWIdM.js";import{a as s}from"./sentry-DvvTOdwe.js";import{u as i,a as r,e as l,b as a,f as o,g as n,D as d,h as c,i as h,j as m,c as x,l as u,A as p,R as f,d as v}from"./index-D0yqgRjz.js";import{S as g}from"./ShareCard-BU7LqUqe.js";import{S as j}from"./SocialLinks-6XJGczaC.js";import{d as b,a as w,L as k}from"./router-jbVFofSC.js";import"./store-BXxpTH1V.js";function N({photos:e,photoLikeCounts:i,onPhotoClick:r,t:l}){const[a,o]=s.useState(!1),[d,c]=s.useState(!1),[h,u]=s.useState(0);s.useEffect(()=>{const e=()=>c(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const p=e=>(null==i?void 0:i[e])||0;if(0===e.length)return t.jsx("div",{className:"pb-20 md:pb-8",children:t.jsxs("div",{className:"col-span-3 text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/5 rounded-2xl flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-white/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),t.jsx("p",{className:"text-white/40 text-sm",children:l("profileDetail.noPhotos")})]})});const f=a||e.length<=12?e:e.slice(0,12),v=e.length>12,g=e.length-12,j=()=>{u(e=>Math.max(0,e-1))},b=()=>{u(t=>Math.min(e.length-1,t+1))};return d?t.jsxs("div",{className:"pb-20 space-y-4",children:[t.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden bg-white/5 cursor-pointer",onClick:()=>r(n(e[h])||e[h]),children:[t.jsx("img",{src:x(e[h])||n(e[h])||e[h],className:"w-full h-full object-cover",alt:"",onError:m}),p(h)>0&&t.jsxs("div",{className:"absolute bottom-3 right-3 px-2.5 py-1 bg-black/60 backdrop-blur-sm rounded-full text-xs font-medium flex items-center gap-1.5",children:[t.jsx("svg",{className:"w-3.5 h-3.5 text-pink-400",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),t.jsx("span",{className:"text-white",children:p(h)})]})]}),t.jsxs("div",{className:"flex items-center justify-between px-2",children:[t.jsx("button",{onClick:j,disabled:0===h,className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center transition",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsxs("span",{className:"text-sm text-white/60",children:[h+1," / ",e.length]}),t.jsx("button",{onClick:b,disabled:h>=e.length-1,className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center transition",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:e.map((e,s)=>t.jsx("button",{onClick:()=>u(s),className:"flex-shrink-0 w-14 h-14 rounded-lg overflow-hidden transition ".concat(s===h?"ring-2 ring-purple-500":"opacity-60 hover:opacity-100"),children:t.jsx("img",{src:x(e)||n(e)||e,className:"w-full h-full object-cover",alt:"",onError:m})},s))})]}):t.jsxs("div",{className:"pb-20 md:pb-8",children:[t.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2 md:gap-3",children:f.map((e,s)=>t.jsxs("button",{onClick:()=>r(n(e)||e),className:"relative aspect-square rounded-xl overflow-hidden bg-white/5 hover:opacity-90 transition-all group",children:[t.jsx("img",{src:x(e)||n(e)||e,alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:m}),p(s)>0&&t.jsxs("div",{className:"absolute bottom-1.5 right-1.5 px-1.5 py-0.5 bg-black/60 backdrop-blur-sm rounded-full text-[10px] font-medium flex items-center gap-1",children:[t.jsx("svg",{className:"w-3 h-3 text-pink-400",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),t.jsx("span",{className:"text-white",children:p(s)})]})]},s))}),v&&t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>o(!a),className:"inline-flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 rounded-xl text-sm text-white/70 hover:text-white transition-all",children:a?t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),l("profileDetail.collapsePhotos")]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),l("profileDetail.viewAll").replace("{n}",String(g))]})})})]})}function y(){var y,C,L;const{code:M}=b(),{user:D,isAuthenticated:z}=i(),{t:B}=r(),{showNotification:W,NotificationComponent:S}=l({position:"center"}),P=w(),[T,V]=s.useState(!1),[E,H]=s.useState(!1),[F,q]=s.useState(!1),[I,A]=s.useState(!1),[U,K]=s.useState(!1),[O,R]=s.useState(!1),[Q,_]=s.useState(null),[G,J]=s.useState(null),[X,Y]=s.useState("photos"),[Z,$]=s.useState([]),[ee,te]=s.useState(!1),{data:se,isLoading:ie,error:re}=e({queryKey:["user",M],queryFn:()=>v.getUser(M).then(e=>e.data),enabled:!!M,staleTime:0,refetchOnWindowFocus:!0}),le=null==se?void 0:se.user,ae=null==se?void 0:se.photoStats,oe=null==se?void 0:se.photoLikeCounts,ne=null==se?void 0:se.ownerId;s.useEffect(()=>{le&&(document.title=B("profileDetail.pageTitle").replace("{name}",le.cnName))},[le]),s.useEffect(()=>{le&&(A(!0),z&&(null==D?void 0:D.shareCode)===le.shareCode&&R(!0),le.id&&de(le.id))},[le,z,D]);const de=async e=>{te(!0);try{const t=await a.get("/kigurumis?profileId=".concat(e));$(t.data.kigurumis||[])}catch(t){}finally{te(!1)}},ce=e=>"shop"===e.makerType&&e.shop?e.shop.name:"handmade"===e.makerType?B("profileDetail.handmade"):e.customMaker||B("profileDetail.other");s.useEffect(()=>{z&&(null==le?void 0:le.shareCode)&&he()},[z,null==le?void 0:le.shareCode]);const he=async()=>{try{const e=await o.getFavorites(),t=(e.data.favorites||[]).some(e=>e.shareCode===(null==le?void 0:le.shareCode));K(t)}catch(e){}};if(ie)return t.jsxs("div",{className:"min-h-screen bg-[#0a0a0f]",children:[t.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900/10 via-transparent to-cyan-900/10 pointer-events-none"}),t.jsx("div",{className:"relative h-[40vh] bg-gradient-to-br from-purple-600/20 via-pink-500/20 to-cyan-500/20 animate-pulse"}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 -mt-20",children:t.jsxs("div",{className:"flex items-end gap-6",children:[t.jsx("div",{className:"w-28 h-28 rounded-2xl bg-white/10 animate-pulse"}),t.jsxs("div",{className:"flex-1 pb-4",children:[t.jsx("div",{className:"h-8 bg-white/10 rounded w-1/3 mb-2 animate-pulse"}),t.jsx("div",{className:"h-4 bg-white/10 rounded w-1/4 animate-pulse"})]})]})})]});if(re||!le)return t.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-2xl bg-white/5 flex items-center justify-center",children:t.jsx("span",{className:"text-5xl",children:"ðŸŽ­"})}),t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:B("profileDetail.userNotFound")}),t.jsx("p",{className:"text-white/50 mb-6",children:B("profileDetail.userNotFoundDesc")}),t.jsx(k,{to:"https://kighub.cn/",className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl text-white font-medium",children:B("profileDetail.backHome")})]})});const me=le.location&&[le.location.city,le.location.province,le.location.country].filter(e=>e&&"æœªçŸ¥"!==e).join(" Â· ")||B("profile.defaultLocation"),xe=n(le.avatar)||n(null==(y=le.photos)?void 0:y[0])||d,ue=n(le.coverImage)||n(null==(C=le.photos)?void 0:C[0])||c,pe=le.coverPosition||{x:50,y:50},fe=Object.keys(j),ve=le.socialLinks?fe.filter(e=>{var t,s,i,r;return"qq"!==e&&((null==(s=null==(t=le.socialLinks)?void 0:t[e])?void 0:s.nickname)||(null==(r=null==(i=le.socialLinks)?void 0:i[e])?void 0:r.url))}).map(e=>({key:e,data:le.socialLinks[e],platform:j[e]})):[];return t.jsxs("div",{className:"min-h-screen bg-[#0a0a0f]",children:[S,t.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900/10 via-transparent to-cyan-900/10 pointer-events-none"}),t.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-transparent pointer-events-none"}),t.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsx(k,{to:"https://kighub.cn/",className:"w-10 h-10 rounded-full bg-black/30 backdrop-blur-md hover:bg-black/50 border border-white/20 shadow-lg flex items-center justify-center transition-all text-white",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsxs("div",{className:"flex items-center gap-2",children:[z&&!O&&t.jsx("button",{onClick:async()=>{if(!z)return W(B("profileDetail.loginFirst"),"error"),void setTimeout(()=>{P("/login")},1e3);if(null==le?void 0:le.shareCode)try{U?(await o.removeFavorite(le.shareCode),K(!1)):(await o.addFavorite(le.shareCode),K(!0))}catch(e){he()}},className:"w-10 h-10 rounded-full backdrop-blur-md border shadow-lg flex items-center justify-center transition-all ".concat(U?"bg-pink-500/40 text-pink-300 border-pink-400/30":"bg-black/30 text-white border-white/20 hover:bg-black/50"),children:t.jsx("svg",{className:"w-5 h-5",fill:U?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),t.jsx("button",{onClick:async()=>{const e="".concat(window.location.origin,"/u/").concat(null==le?void 0:le.shareCode);await navigator.clipboard.writeText(e),q(!0),setTimeout(()=>q(!1),2e3)},className:"px-4 py-2 rounded-full backdrop-blur-md text-sm shadow-lg border transition-all ".concat(F?"bg-green-500/40 text-green-300 border-green-400/30":"bg-black/30 text-white border-white/20 hover:bg-black/50"),children:B(F?"profileDetail.copied":"profileDetail.share")}),O&&t.jsx(k,{to:"/profile/edit",className:"px-4 py-2 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-medium shadow-lg border border-white/20 transition-all hover:opacity-90",children:B("profileDetail.edit")})]})]})]}),t.jsxs("main",{className:"relative transition-all duration-700 ".concat(I?"opacity-100":"opacity-0"),children:[t.jsxs("div",{className:"relative h-[40vh] md:h-[45vh] min-h-[280px] max-h-[400px]",children:[ue?t.jsx("img",{src:ue,alt:"",className:"w-full h-full object-cover",style:{objectPosition:"".concat(pe.x,"% ").concat(pe.y,"%")},onError:h}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-600 via-pink-500 to-cyan-500"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0f] via-[#0a0a0f]/50 to-transparent"})]}),t.jsx("div",{className:"relative max-w-4xl mx-auto px-4 -mt-20 md:-mt-24",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end gap-4 md:gap-6",children:[t.jsx("div",{className:"relative flex-shrink-0",children:t.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-2xl overflow-hidden ring-4 ring-[#0a0a0f] shadow-2xl bg-white/5",children:t.jsx("img",{src:xe,alt:le.cnName,className:"w-full h-full object-cover",onError:m})})}),t.jsxs("div",{className:"flex-1 text-center md:text-left",children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:le.cnName}),t.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 text-white/60 text-sm mb-3",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),t.jsx("span",{children:me})]}),t.jsx("p",{className:"text-white/70 text-sm md:text-base leading-relaxed max-w-2xl",children:le.introduction})]}),t.jsx("div",{className:"hidden md:flex flex-col gap-2",children:t.jsxs("button",{onClick:()=>V(!0),className:"px-5 py-2.5 rounded-xl font-medium text-white bg-white/10 hover:bg-white/20 transition-all flex items-center gap-2 text-sm whitespace-nowrap",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h2M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),B("profileDetail.qrCode")]})})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-white/[0.06] to-white/[0.02] border border-white/[0.08] rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold mb-1 profile-stat-number",children:le.photos.length}),t.jsx("div",{className:"text-xs text-white/50",children:B("profileDetail.photos")})]}),t.jsxs("div",{className:"bg-gradient-to-br from-white/[0.06] to-white/[0.02] border border-white/[0.08] rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold mb-1 profile-stat-number",children:Z.length}),t.jsx("div",{className:"text-xs text-white/50",children:B("profileDetail.kigurumis")})]}),t.jsxs("div",{className:"bg-gradient-to-br from-pink-500/10 to-white/[0.02] border border-pink-500/20 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-pink-400 mb-1",children:(null==ae?void 0:ae.totalLikes)||0}),t.jsx("div",{className:"text-xs text-white/50",children:B("profileDetail.likes")})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/10 to-white/[0.02] border border-yellow-500/20 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-1",children:(null==ae?void 0:ae.totalFavorites)||0}),t.jsx("div",{className:"text-xs text-white/50",children:B("profileDetail.favorites")})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[t.jsxs("button",{onClick:()=>V(!0),className:"bg-gradient-to-br from-white/[0.06] to-white/[0.02] hover:from-white/[0.08] hover:to-white/[0.04] border border-white/[0.08] rounded-xl p-4 text-center transition-all",children:[t.jsx("div",{className:"w-8 h-8 mx-auto mb-1 rounded-lg bg-white/10 flex items-center justify-center",children:t.jsx("svg",{className:"w-5 h-5 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h2M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})}),t.jsx("div",{className:"text-xs text-white/50",children:B("profileDetail.qrCode")})]}),!O&&(null==(L=le.aiPersonality)?void 0:L.enabled)?t.jsxs("button",{onClick:()=>H(!0),className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 hover:from-purple-500/30 hover:to-pink-500/30 border border-purple-500/30 rounded-xl p-4 text-center transition-all",children:[t.jsx("div",{className:"w-8 h-8 mx-auto mb-1 rounded-lg bg-purple-500/20 flex items-center justify-center",children:t.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),t.jsx("div",{className:"text-xs text-purple-300",children:B("profileDetail.aiChat")})]}):null]}),z&&ve.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-sm font-medium text-white/60 mb-3 flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),B("profileDetail.socialAccounts")]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ve.map(({key:e,data:s,platform:i})=>{const r=!!s.url,l=t.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-white/[0.06] to-white/[0.02] border border-white/[0.08] p-3 transition-all duration-300 hover:border-white/20 hover:from-white/[0.08]",children:t.jsxs("div",{className:"relative flex items-center gap-3",children:[t.jsx("div",{className:"w-9 h-9 ".concat(i.color," text-white rounded-lg flex items-center justify-center flex-shrink-0 shadow-lg"),children:i.icon}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-[10px] uppercase tracking-wider text-white/40 font-medium",children:i.name}),t.jsx("div",{className:"text-sm text-white/90 truncate font-medium",children:s.nickname||B("profileDetail.clickVisit")})]}),r&&t.jsx("svg",{className:"w-4 h-4 text-white/30 group-hover:text-white/60 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})});return r?t.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:l},e):t.jsx("div",{children:l},e)})})]}),t.jsxs("div",{className:"flex gap-1 p-1 bg-white/[0.03] border border-white/[0.06] rounded-xl mb-6",children:[t.jsxs("button",{onClick:()=>Y("photos"),className:"flex-1 py-2.5 rounded-lg text-sm font-medium transition-all ".concat("photos"===X?"bg-white/10 text-white":"text-white/50 hover:text-white/70"),children:[B("profileDetail.photoWallTab")," (",le.photos.length,")"]}),t.jsxs("button",{onClick:()=>Y("kigurumis"),className:"flex-1 py-2.5 rounded-lg text-sm font-medium transition-all ".concat("kigurumis"===X?"bg-white/10 text-white":"text-white/50 hover:text-white/70"),children:[B("profileDetail.kigurumiTab")," (",Z.length,")"]}),t.jsx("button",{onClick:()=>Y("albums"),className:"flex-1 py-2.5 rounded-lg text-sm font-medium transition-all ".concat("albums"===X?"bg-white/10 text-white":"text-white/50 hover:text-white/70"),children:B("profileDetail.albumTab")})]}),"photos"===X&&(z?t.jsx(N,{photos:le.photos,photoLikeCounts:oe,onPhotoClick:_,t:B}):t.jsx("div",{className:"pb-20 md:pb-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/5 rounded-2xl flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-white/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),t.jsx("h3",{className:"text-white/80 font-medium mb-1",children:B("profileDetail.loginToViewPhotos")}),t.jsx("p",{className:"text-white/40 text-sm mb-6",children:B("profileDetail.loginToViewPhotosDesc")}),t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx(k,{to:"/login",className:"px-6 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl text-white text-sm font-medium",children:B("profileDetail.goLogin")}),t.jsx(k,{to:"/register",className:"px-6 py-2.5 bg-white/10 hover:bg-white/20 rounded-xl text-white text-sm transition",children:B("profileDetail.goRegister")})]})]})})),"kigurumis"===X&&t.jsx("div",{className:"pb-20 md:pb-8",children:ee?t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[1,2,3].map(e=>t.jsxs("div",{className:"rounded-xl overflow-hidden bg-white/5",children:[t.jsx("div",{className:"aspect-[4/3] animate-pulse bg-white/5"}),t.jsxs("div",{className:"p-2.5 space-y-2",children:[t.jsx("div",{className:"h-4 bg-white/5 rounded animate-pulse w-2/3"}),t.jsx("div",{className:"h-3 bg-white/5 rounded animate-pulse w-1/2"})]})]},e))}):0===Z.length?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/5 rounded-2xl flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:"ðŸŽ­"})}),t.jsx("p",{className:"text-white/40 text-sm",children:B("profileDetail.noKigurumis")})]}):t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Z.map(e=>t.jsxs("div",{className:"bg-gradient-to-br from-white/[0.08] to-white/[0.02] border border-white/10 rounded-xl overflow-hidden group",children:[e.image?t.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden cursor-pointer",onClick:()=>_(n(e.image)||e.image),children:[t.jsx("img",{src:x(e.image)||n(e.image)||e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:m}),e.likeCount>0&&t.jsxs("div",{className:"absolute top-2 right-2 px-1.5 py-0.5 bg-black/50 backdrop-blur-sm rounded-full text-[10px] font-medium flex items-center gap-0.5 text-white kigurumi-like-badge",children:[t.jsx("svg",{className:"w-3 h-3 text-pink-400",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),e.likeCount]})]}):t.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-100/40 to-pink-100/40 flex items-center justify-center kigurumi-placeholder",children:t.jsx("img",{src:u,alt:"",className:"w-12 h-12 opacity-30"})}),t.jsxs("div",{className:"p-2.5",children:[t.jsx("h4",{className:"font-medium text-sm truncate profile-stat-number",children:e.name}),t.jsx("p",{className:"text-xs text-white/50 truncate mt-1",children:"shop"===e.makerType&&e.shop?t.jsxs(k,{to:"/shops/".concat(e.shop.slug),className:"hover:text-purple-400 transition inline-flex items-center gap-1",onClick:e=>e.stopPropagation(),children:["ðŸª ",e.shop.name]}):ce(e)})]})]},e.id))})}),"albums"===X&&t.jsx("div",{className:"pb-20 md:pb-8",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/5 rounded-2xl flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-white/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),t.jsx("p",{className:"text-white/40 text-sm",children:B("profileDetail.noAlbums")})]})})]})]}),Q&&t.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center",onClick:()=>_(null),children:[t.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[z&&!O&&le.id&&t.jsx("button",{className:"w-12 h-12 rounded-full bg-white/10 hover:bg-red-500/30 flex items-center justify-center transition",onClick:e=>{e.stopPropagation(),J(Q)},title:B("report.btn"),children:t.jsx("svg",{className:"w-5 h-5 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}),t.jsx("button",{className:"w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition",onClick:()=>_(null),children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("img",{src:Q,alt:"",className:"max-w-full max-h-full object-contain",onClick:e=>e.stopPropagation(),onError:m})]}),T&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>V(!1),children:t.jsxs("div",{className:"rounded-2xl p-5 max-w-sm w-full animate-fade-in",style:{backgroundColor:"#1a1a24",color:"#ffffff"},onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"font-bold text-lg",style:{color:"#ffffff"},children:B("profileDetail.shareImage")}),t.jsx("button",{onClick:()=>V(!1),className:"w-9 h-9 rounded-full flex items-center justify-center transition",style:{backgroundColor:"rgba(255,255,255,0.1)",color:"#ffffff"},children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx(g,{user:le})]})}),E&&t.jsx(p,{user:le,onClose:()=>H(!1)}),G&&le.id&&ne&&t.jsx(f,{imageUrl:G,reportedUserId:ne,sourceType:"profile",sourceId:le.id,onClose:()=>J(null)})]})}export{y as default};
