!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function a(e,o,s,i){var a=o&&o.prototype instanceof l?o:l,u=Object.create(a.prototype);return r(u,"_invoke",function(e,r,o){var s,i,a,l=0,u=o||[],d=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,r){return s=e,i=0,a=t,p.n=r,c}};function h(e,r){for(i=e,a=r,n=0;!d&&l&&!o&&n<u.length;n++){var o,s=u[n],h=p.p,f=s[2];e>3?(o=f===r)&&(a=s[(i=s[4])?5:(i=3,3)],s[4]=s[5]=t):s[0]<=h&&((o=e<2&&h<s[1])?(i=0,p.v=r,p.n=s[1]):h<f&&(o=e<3||s[0]>r||r>f)&&(s[4]=e,s[5]=r,p.n=f,i=0))}if(o||e>1)return c;throw d=!0,r}return function(o,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,f),i=u,a=f;(n=i<2?t:a)||!d;){s||(i?i<3?(i>1&&(p.n=-1),h(i,a)):p.n=a:p.v=a);try{if(l=2,s){if(i||(o="next"),n=s[o]){if(!(n=n.call(s,a)))throw TypeError("iterator result is not an object");if(!n.done)return n;a=n.value,i<2&&(i=0)}else 1===i&&(n=s.return)&&n.call(s),i<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),i=1);s=t}else if((n=(d=p.n<0)?a:e.call(r,p))!==c)break}catch(n){s=t,i=1,a=n}finally{l=1}}return{value:n,done:d}}}(e,s,i),!0),u}var c={};function l(){}function u(){}function d(){}n=Object.getPrototypeOf;var p=[][s]?n(n([][s]())):(r(n={},s,function(){return this}),n),h=d.prototype=l.prototype=Object.create(p);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,r(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t}return u.prototype=d,r(h,"constructor",d),r(d,"constructor",u),u.displayName="GeneratorFunction",r(d,i,"GeneratorFunction"),r(h),r(h,i,"Generator"),r(h,s,function(){return this}),r(h,"toString",function(){return"[object Generator]"}),(e=function(){return{w:a,m:f}})()}function r(t,e,n,o){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}r=function(t,e,n,o){function i(e,n){r(t,e,function(t){return this._invoke(e,n,t)})}e?s?s(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},r(t,e,n,o)}function n(t,e,r,n,o,s,i){try{var a=t[s](i),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function o(t){return function(){var e=this,r=arguments;return new Promise(function(o,s){var i=t.apply(e,r);function a(t){n(i,o,s,a,c,"next",t)}function c(t){n(i,o,s,a,c,"throw",t)}a(void 0)})}}function s(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function c(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function l(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=d(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,s=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw s}}}}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,s,i,a=[],c=!0,l=!1;try{if(s=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return a}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return p(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}System.register(["./query-legacy-CLxXWLnl.js","./sentry-legacy-CTr2CudU.js","./index-legacy-DVoFAd51.js","./router-legacy-9xrJEksD.js","./store-legacy-Bt3CCSnU.js"],function(t,r){"use strict";var n,i,c,d;return{setters:[function(t){n=t.j},function(t){i=t.a},function(t){c=t.k},function(t){d=t.L},null],execute:function(){t("default",function(){var t,h,v,x,w,j,C,N,E,M=c().t,S=i.useRef(null),P=i.useRef(null),B=i.useRef(null),O=i.useRef(null),I=u(i.useState(null),2),z=I[0],R=I[1],L=u(i.useState([]),2),F=L[0],D=L[1],T=u(i.useState([]),2),A=T[0],Y=T[1],X=u(i.useState([]),2),W=X[0],K=X[1],q=i.useRef(0),U=u(i.useState({type:"normal",color:"#ffffff",strokeColor:"#000000",size:4,opacity:1}),2),_=U[0],G=U[1],J=u(i.useState("draw"),2),H=J[0],V=J[1],Z=u(i.useState("none"),2),Q=Z[0],$=Z[1],tt=u(i.useState("fill"),2),et=tt[0],rt=tt[1],nt=u(i.useState(!1),2),ot=nt[0],st=nt[1],it=u(i.useState({w:0,h:0}),2),at=it[0],ct=it[1],lt=i.useRef(null),ut=i.useRef(!1),dt=i.useRef(null),pt=u(i.useState(null),2),ht=pt[0],ft=pt[1],mt=i.useRef(null),gt=i.useRef(null),vt=i.useRef(null),yt=i.useRef(null),xt=g.includes(_.type),kt="eraser"===_.type,bt=i.useMemo(function(){if(!z||0===at.w||0===at.h)return{width:0,height:0};var t,e,r=z.width/z.height;return at.w/at.h>r?t=(e=at.h)*r:e=(t=at.w)/r,{width:Math.floor(t),height:Math.floor(e)}},[z,at]);i.useEffect(function(){var t=O.current;if(t){var e=function(){var e=t.clientWidth,r=t.clientHeight;e>0&&r>0&&ct({w:e,h:r})};e();var r=new ResizeObserver(e);return r.observe(t),function(){return r.disconnect()}}},[z]);var wt=i.useCallback(function(t){var e=new FileReader;e.onload=function(t){var e,r=new Image;r.onload=function(){R(r),D([]),K([]),Y([]),ft(null),dt.current=null},r.src=null===(e=t.target)||void 0===e?void 0:e.result},e.readAsDataURL(t)},[]),jt=i.useCallback(function(t){var e,r=null===(e=t.target.files)||void 0===e?void 0:e[0];r&&wt(r),t.target.value=""},[wt]),Ct=i.useCallback(function(){var t=S.current,e=P.current;if(t&&e&&0!==bt.width&&0!==bt.height){var r=t.getContext("2d"),n=e.getContext("2d");r.clearRect(0,0,t.width,t.height),z&&r.drawImage(z,0,0,t.width,t.height),n.clearRect(0,0,e.width,e.height);var o,s=l(F);try{for(s.s();!(o=s.n()).done;){y(n,o.value)}}catch(u){s.e(u)}finally{s.f()}lt.current&&y(n,lt.current),r.drawImage(e,0,0);var i,a=l(W);try{for(a.s();!(i=a.n()).done;){var c=i.value;r.save(),r.translate(c.x,c.y),r.rotate(c.rotation),r.scale(c.scale,c.scale),r.drawImage(c.img,-c.img.width/2,-c.img.height/2),r.restore()}}catch(u){a.e(u)}finally{a.f()}}},[z,F,W,ht,bt]);i.useEffect(function(){Ct()},[Ct]);var Nt=i.useCallback(function(t,e){var r=S.current,n=r.getBoundingClientRect();return{x:(t-n.left)*(r.width/n.width),y:(e-n.top)*(r.height/n.height)}},[]),Et=i.useCallback(function(t,e){for(var r=W.length-1;r>=0;r--){var n=W[r],o=t-n.x,s=e-n.y,i=Math.min(Math.max(n.img.width*n.scale/2,30),200);if(Math.abs(o)<i&&Math.abs(s)<i)return n.id}return null},[W]),Mt=i.useCallback(function(t,e){t.stopPropagation(),t.preventDefault();var r=W.find(function(t){return t.id===ht});if(r){vt.current=e;var n=S.current,o=n.getBoundingClientRect();yt.current={x:t.clientX,y:t.clientY,stickerX:r.x,stickerY:r.y,scale:r.scale,rotation:r.rotation,angle:Math.atan2(t.clientY-(o.top+r.y*o.height/n.height),t.clientX-(o.left+r.x*o.width/n.width))},t.target.setPointerCapture(t.pointerId)}},[W,ht]),St=i.useCallback(function(t){if(vt.current&&yt.current&&null!==ht){var e=yt.current,r=S.current,n=r.getBoundingClientRect(),o=r.width/n.width,s=r.height/n.height;if("move"===vt.current){var i=(t.clientX-e.x)*o,c=(t.clientY-e.y)*s;K(function(t){return t.map(function(t){return t.id===ht?a(a({},t),{},{x:e.stickerX+i,y:e.stickerY+c}):t})})}else if("resize"===vt.current){var l=n.left+e.stickerX/o,u=n.top+e.stickerY/s,d=Math.sqrt(Math.pow(t.clientX-l,2)+Math.pow(t.clientY-u,2)),p=Math.sqrt(Math.pow(e.x-l,2)+Math.pow(e.y-u,2));if(p>0){var h=Math.min(Math.max(e.scale*(d/p),.05),3);K(function(t){return t.map(function(t){return t.id===ht?a(a({},t),{},{scale:h}):t})})}}else if("rotate"===vt.current){var f=n.left+e.stickerX/o,m=n.top+e.stickerY/s,g=Math.atan2(t.clientY-m,t.clientX-f),v=e.rotation+(g-e.angle);K(function(t){return t.map(function(t){return t.id===ht?a(a({},t),{},{rotation:v}):t})})}}},[ht]),Pt=i.useCallback(function(){vt.current=null,yt.current=null},[]),Bt=i.useCallback(function(t){if("touch"!==t.pointerType||"sticker"!==H){if("sticker"===H){var e=Nt(t.clientX,t.clientY),r=Et(e.x,e.y);return dt.current=r,ft(r),void(null!==r&&(mt.current=e,t.target.setPointerCapture(t.pointerId)))}var n=Nt(t.clientX,t.clientY);lt.current={points:[a(a({},n),{},{pressure:t.pressure||.5})],brush:a({},_)},ut.current=!0,t.target.setPointerCapture(t.pointerId)}},[H,_,Nt,Et]),Ot=i.useCallback(function(t){if("sticker"!==H||"touch"!==t.pointerType){if(null!==dt.current&&mt.current&&"sticker"===H){var e=Nt(t.clientX,t.clientY),r=e.x-mt.current.x,n=e.y-mt.current.y;return mt.current=e,void K(function(t){return t.map(function(t){return t.id===dt.current?a(a({},t),{},{x:t.x+r,y:t.y+n}):t})})}if(ut.current&&lt.current){var o=Nt(t.clientX,t.clientY);lt.current.points.push(a(a({},o),{},{pressure:t.pressure||.5})),Ct()}}},[H,Nt,Ct]),It=i.useCallback(function(){if(null!==dt.current&&mt.current)mt.current=null;else{var t=lt.current;t&&t.points.length>0&&(D(function(e){return[].concat(s(e),[t])}),Y(function(t){return[].concat(s(t),["path"])})),lt.current=null,ut.current=!1}},[]),zt=i.useCallback(function(t){if("sticker"===H){t.preventDefault();var e=t.touches;if(1===e.length&&null!==dt.current&&mt.current){var r=Nt(e[0].clientX,e[0].clientY),n=r.x-mt.current.x,o=r.y-mt.current.y;mt.current=r,K(function(t){return t.map(function(t){return t.id===dt.current?a(a({},t),{},{x:t.x+n,y:t.y+o}):t})})}if(2===e.length&&null!==dt.current&&gt.current){var s=e[1].clientX-e[0].clientX,i=e[1].clientY-e[0].clientY,c=Math.sqrt(s*s+i*i),l=Math.atan2(i,s),u=c/gt.current.dist,d=l-gt.current.angle;K(function(t){return t.map(function(t){return t.id===dt.current?a(a({},t),{},{scale:Math.min(Math.max(gt.current.scale*u,.1),3),rotation:gt.current.rotation+d}):t})})}}},[H,Nt]),Rt=i.useCallback(function(t){if("sticker"===H){var e=t.touches;if(1===e.length){var r=Nt(e[0].clientX,e[0].clientY),n=Et(r.x,r.y);dt.current=n,ft(n),null!==n&&(mt.current=r)}if(2===e.length&&null!==dt.current){t.preventDefault();var o=e[1].clientX-e[0].clientX,s=e[1].clientY-e[0].clientY,i=W.find(function(t){return t.id===dt.current});i&&(gt.current={dist:Math.sqrt(o*o+s*s),angle:Math.atan2(s,o),scale:i.scale,rotation:i.rotation})}}},[H,Nt,Et,W]),Lt=i.useCallback(function(){"sticker"===H&&(mt.current=null,gt.current=null)},[H]),Ft=i.useCallback(function(t){if(null!==ht){t.preventDefault();var e=t.deltaY>0?-.05:.05;t.shiftKey?K(function(t){return t.map(function(t){return t.id===ht?a(a({},t),{},{rotation:t.rotation+2*e}):t})}):K(function(t){return t.map(function(t){return t.id===ht?a(a({},t),{},{scale:Math.min(Math.max(t.scale+e,.1),3)}):t})})}},[ht]);i.useEffect(function(){var t=S.current;if(t)return t.addEventListener("touchstart",Rt,{passive:!1}),t.addEventListener("touchmove",zt,{passive:!1}),t.addEventListener("touchend",Lt),t.addEventListener("wheel",Ft,{passive:!1}),function(){t.removeEventListener("touchstart",Rt),t.removeEventListener("touchmove",zt),t.removeEventListener("touchend",Lt),t.removeEventListener("wheel",Ft)}},[Rt,zt,Lt,Ft]);var Dt=i.useCallback(function(t){var e=new Image;e.onload=function(){var r=q.current++;K(function(n){return[].concat(s(n),[{id:r,src:t,x:bt.width/2,y:bt.height/2,scale:.3,rotation:0,img:e}])}),Y(function(t){return[].concat(s(t),["sticker"])}),dt.current=r,ft(r),V("sticker"),$("none")},e.src=m[t]},[bt]),Tt=i.useCallback(function(){Y(function(t){if(0===t.length)return t;var e=s(t);return"path"===e.pop()?D(function(t){return t.slice(0,-1)}):(K(function(t){return t.slice(0,-1)}),ft(null),dt.current=null),e})},[]),At=i.useCallback(function(){confirm(M("tools.photoEditor.clearConfirm"))&&(D([]),K([]),Y([]),ft(null),dt.current=null)},[]),Yt=i.useCallback(o(e().m(function t(){var r,n,o,s,i,a,c,u,d,p,h;return e().w(function(t){for(;;)switch(t.n){case 0:if(z&&!ot&&0!==bt.width){t.n=1;break}return t.a(2);case 1:return st(!0),ft(null),dt.current=null,t.n=2,new Promise(function(t){return setTimeout(t,50)});case 2:try{(r=document.createElement("canvas")).width=z.width,r.height=z.height,n=r.getContext("2d"),o=z.width/bt.width,n.drawImage(z,0,0),(s=document.createElement("canvas")).width=z.width,s.height=z.height,(i=s.getContext("2d")).scale(o,o),a=l(F);try{for(a.s();!(c=a.n()).done;)u=c.value,y(i,u)}catch(e){a.e(e)}finally{a.f()}n.drawImage(s,0,0),d=l(W);try{for(d.s();!(p=d.n()).done;)h=p.value,n.save(),n.translate(h.x*o,h.y*o),n.rotate(h.rotation),n.scale(h.scale*o,h.scale*o),n.drawImage(h.img,-h.img.width/2,-h.img.height/2),n.restore()}catch(e){d.e(e)}finally{d.f()}r.toBlob(function(t){if(t){var e=URL.createObjectURL(t),r=document.createElement("a");r.href=e,r.download="edited_".concat(Date.now(),".png"),r.click(),URL.revokeObjectURL(e),st(!1)}},"image/png")}catch(f){alert(M("tools.photoEditor.saveFail")),st(!1)}case 3:return t.a(2)}},t)})),[z,F,W,bt,ot]),Xt=i.useCallback(function(t,e){$(function(e){return e===t?"none":t}),e&&V(e),"brush"===t&&(ft(null),dt.current=null)},[]);if(!z)return n.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-background)"},children:[n.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl border-b",style:{backgroundColor:"var(--glass-dark-bg)",borderColor:"var(--color-border)"},children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-14 flex items-center",children:[n.jsx(d,{to:"/tools",className:"hover:opacity-80 transition-opacity mr-3",style:{color:"var(--color-text-muted)"},children:n.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("h1",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:M("tools.photoEditor.title")})]})}),n.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:n.jsxs("div",{className:"text-center max-w-sm",children:[n.jsx("div",{className:"text-7xl mb-4",children:"üé®"}),n.jsx("p",{className:"text-lg mb-2 font-medium",style:{color:"var(--color-text)"},children:M("tools.photoEditor.editorTitle")}),n.jsx("p",{className:"text-sm mb-8",style:{color:"var(--color-text-muted)"},children:M("tools.photoEditor.editorDesc")}),n.jsx("button",{onClick:function(){var t;return null===(t=B.current)||void 0===t?void 0:t.click()},className:"w-full py-3.5 rounded-2xl font-semibold text-white text-base transition-all active:scale-95 hover:shadow-lg hover:shadow-purple-500/20",style:{background:"linear-gradient(135deg, #8B5CF6, #6366F1)"},children:M("tools.photoEditor.selectImage")}),n.jsx("p",{className:"text-xs mt-3",style:{color:"var(--color-text-muted)"},children:M("tools.photoEditor.formatHint")}),n.jsx("input",{ref:B,type:"file",accept:"image/*",className:"hidden",onChange:jt})]})})]});return n.jsxs("div",{className:"h-[100dvh] flex flex-col overflow-hidden",style:{backgroundColor:"var(--color-background)"},children:[n.jsxs("header",{className:"flex-shrink-0 flex items-center gap-1 px-2 sm:px-4 h-11 border-b",style:{borderColor:"var(--color-border)",backgroundColor:"var(--glass-dark-bg)"},children:[n.jsx(d,{to:"/tools",className:"p-1.5 rounded-lg hover:opacity-80",style:{color:"var(--color-text-muted)"},children:n.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("span",{className:"text-sm font-medium mr-auto hidden sm:block",style:{color:"var(--color-text)"},children:M("tools.photoEditor.title")}),"draw"===H&&n.jsxs("div",{className:"flex items-center gap-1.5 mr-auto sm:mr-0 px-2 py-1 rounded-lg",style:{backgroundColor:"rgba(139,92,246,0.1)"},children:[n.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-white/20",style:{backgroundColor:kt?"#666":_.color}}),n.jsxs("span",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:[null!==(t=r.find(function(t){return t.type===_.type}))&&void 0!==t&&t.labelKey?M(r.find(function(t){return t.type===_.type}).labelKey):""," ¬∑ ",_.size,"px"]})]}),n.jsx("button",{onClick:Tt,disabled:0===A.length,className:"p-1.5 rounded-lg transition-opacity disabled:opacity-20",style:{color:"var(--color-text)"},title:M("tools.photoEditor.undo"),children:n.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a5 5 0 015 5v2M3 10l4-4M3 10l4 4"})})}),n.jsx("button",{onClick:At,className:"p-1.5 rounded-lg hover:opacity-80",style:{color:"var(--color-text-muted)"},title:M("tools.photoEditor.clearAll"),children:n.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),ot?n.jsx("div",{className:"w-16 h-8 flex items-center justify-center",children:n.jsx("div",{className:"w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"})}):n.jsx("button",{onClick:Yt,className:"px-3 py-1 rounded-full text-xs font-semibold text-white active:scale-95 transition-transform",style:{background:"linear-gradient(135deg, #8B5CF6, #6366F1)"},children:"üíæ ‰øùÂ≠ò"})]}),n.jsxs("div",{ref:O,className:"flex-1 min-h-0 flex items-center justify-center bg-black/90 relative overflow-hidden",children:[bt.width>0&&bt.height>0?n.jsxs(n.Fragment,{children:[n.jsx("canvas",{ref:S,width:bt.width,height:bt.height,className:"shadow-2xl",style:{width:bt.width,height:bt.height,cursor:"draw"===H?kt?"cell":"crosshair":"default",touchAction:"none"},onPointerDown:Bt,onPointerMove:Ot,onPointerUp:It,onPointerLeave:It}),n.jsx("canvas",{ref:P,width:bt.width,height:bt.height,className:"hidden"}),null!==ht&&"sticker"===H&&function(t){var e=W.find(function(t){return t.id===ht});if(!e)return null;var r=S.current,o=null==r?void 0:r.getBoundingClientRect();if(!r||!o)return null;var s=o.width/r.width,i=o.height/r.height,a=null===(t=O.current)||void 0===t?void 0:t.getBoundingClientRect();if(!a)return null;var c=o.left-a.left,l=o.top-a.top,u=c+e.x*s,d=l+e.y*i,p=e.img.width*e.scale*s,h=e.img.height*e.scale*i,f=p/2,m=180*e.rotation/Math.PI,g=10;return n.jsxs("div",{style:{position:"absolute",left:u,top:d,transform:"translate(-50%, -50%) rotate(".concat(m,"deg)"),width:p,height:h,pointerEvents:"none",zIndex:10},children:[n.jsx("div",{style:{position:"absolute",inset:-2,border:"2px solid #8B5CF6",borderRadius:4,pointerEvents:"none"}}),n.jsx("div",{style:{position:"absolute",inset:0,cursor:"move",pointerEvents:"auto"},onPointerDown:function(t){return Mt(t,"move")},onPointerMove:St,onPointerUp:Pt}),[{x:-5,y:-5,cursor:"nwse-resize"},{x:p-5,y:-5,cursor:"nesw-resize"},{x:-5,y:h-5,cursor:"nesw-resize"},{x:p-5,y:h-5,cursor:"nwse-resize"}].map(function(t,e){return n.jsx("div",{style:{position:"absolute",left:t.x,top:t.y,width:g,height:g,backgroundColor:"#fff",border:"2px solid #8B5CF6",borderRadius:2,cursor:t.cursor,pointerEvents:"auto",touchAction:"none"},onPointerDown:function(t){return Mt(t,"resize")},onPointerMove:St,onPointerUp:Pt},"resize-".concat(e))}),n.jsx("div",{style:{position:"absolute",left:f-1,top:-28,width:2,height:20,backgroundColor:"#8B5CF6",pointerEvents:"none"}}),n.jsx("div",{style:{position:"absolute",left:f-8,top:-36,width:16,height:16,backgroundColor:"#fff",border:"2px solid #8B5CF6",borderRadius:"50%",cursor:"grab",pointerEvents:"auto",touchAction:"none",display:"flex",alignItems:"center",justifyContent:"center"},onPointerDown:function(t){return Mt(t,"rotate")},onPointerMove:St,onPointerUp:Pt,children:n.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"#8B5CF6",strokeWidth:"3",strokeLinecap:"round",children:[n.jsx("path",{d:"M1 4v6h6M23 20v-6h-6"}),n.jsx("path",{d:"M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15"})]})}),n.jsx("div",{style:{position:"absolute",right:-12,top:-12,width:22,height:22,backgroundColor:"#EF4444",borderRadius:"50%",cursor:"pointer",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.3)"},onClick:function(){K(function(t){return t.filter(function(t){return t.id!==ht})}),ft(null),dt.current=null},children:n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"3",strokeLinecap:"round",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})}()]}):n.jsx("div",{className:"w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}),n.jsx("input",{ref:B,type:"file",accept:"image/*",className:"hidden",onChange:jt})]}),n.jsxs("div",{className:"flex-shrink-0 border-t safe-area-bottom",style:{borderColor:"var(--color-border)",backgroundColor:"var(--glass-dark-bg)"},children:[null!==ht&&"none"===Q&&n.jsxs("div",{className:"border-b px-3 sm:px-4 py-1.5 flex items-center gap-3",style:{borderColor:"var(--color-border)"},children:[n.jsxs("span",{className:"text-[11px] flex-shrink-0",style:{color:"var(--color-text-muted)"},children:[Math.round(100*(null!==(h=null===(v=W.find(function(t){return t.id===ht}))||void 0===v?void 0:v.scale)&&void 0!==h?h:.3)),"%"]}),n.jsx("input",{type:"range",min:5,max:300,value:Math.round(100*(null!==(x=null===(w=W.find(function(t){return t.id===ht}))||void 0===w?void 0:w.scale)&&void 0!==x?x:.3)),onChange:function(t){return K(function(e){return e.map(function(e){return e.id===ht?a(a({},e),{},{scale:+t.target.value/100}):e})})},className:"flex-1 h-1 accent-purple-500"}),n.jsxs("span",{className:"text-[11px] flex-shrink-0",style:{color:"var(--color-text-muted)"},children:[Math.round(180*(null!==(j=null===(C=W.find(function(t){return t.id===ht}))||void 0===C?void 0:C.rotation)&&void 0!==j?j:0)/Math.PI),"¬∞"]}),n.jsx("input",{type:"range",min:-180,max:180,value:Math.round(180*(null!==(N=null===(E=W.find(function(t){return t.id===ht}))||void 0===E?void 0:E.rotation)&&void 0!==N?N:0)/Math.PI),onChange:function(t){return K(function(e){return e.map(function(e){return e.id===ht?a(a({},e),{},{rotation:+t.target.value*Math.PI/180}):e})})},className:"flex-1 h-1 accent-purple-500"}),n.jsx("button",{onClick:function(){ft(null),dt.current=null},className:"text-[11px] px-2 py-0.5 rounded active:scale-95",style:{color:"var(--color-text-muted)"},children:M("tools.photoEditor.done")})]}),n.jsxs("div",{className:"flex justify-evenly py-1.5",children:[n.jsx(k,{icon:"üñåÔ∏è",label:M("tools.photoEditor.brush"),active:"brush"===Q,onClick:function(){Xt("brush","draw")}}),n.jsx(k,{icon:"üòä",label:M("tools.photoEditor.sticker"),active:"sticker"===Q,onClick:function(){Xt("sticker")}}),n.jsx(k,{icon:"‚úã",label:M("tools.photoEditor.move"),active:"sticker"===H&&"none"===Q,onClick:function(){V("sticker"),$("none")}}),n.jsx(k,{icon:"üñºÔ∏è",label:M("tools.photoEditor.changeImg"),active:!1,onClick:function(){var t;return null===(t=B.current)||void 0===t?void 0:t.click()}})]}),"brush"===Q&&n.jsxs("div",{className:"border-t px-3 sm:px-4 py-2.5 space-y-2.5 overflow-y-auto max-h-[45vh] sm:max-h-72",style:{borderColor:"var(--color-border)"},children:[n.jsx("div",{className:"flex gap-1.5 overflow-x-auto pb-1 -mx-1 px-1 scrollbar-hide",children:r.map(function(t){return n.jsxs("button",{onClick:function(){return G(function(e){return a(a({},e),{},{type:t.type})})},className:"flex flex-col items-center gap-0.5 flex-shrink-0 w-12 py-1.5 rounded-xl border transition-all active:scale-95",style:{borderColor:_.type===t.type?"#8B5CF6":"var(--color-border)",backgroundColor:_.type===t.type?"rgba(139,92,246,0.15)":"transparent"},children:[n.jsx("span",{className:"text-base leading-none",children:t.icon}),n.jsx("span",{className:"text-[9px] leading-none",style:{color:_.type===t.type?"#8B5CF6":"var(--color-text-muted)"},children:M(t.labelKey)})]},t.type)})}),n.jsx(b,{label:M("tools.photoEditor.size"),value:_.size,min:1,max:30,display:"".concat(_.size),preview:n.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:n.jsx("div",{style:{width:Math.min(Math.max(_.size,2),20),height:Math.min(Math.max(_.size,2),20),borderRadius:"50%",backgroundColor:kt?"#666":_.color}})}),onChange:function(t){return G(function(e){return a(a({},e),{},{size:t})})}}),!kt&&n.jsx(b,{label:M("tools.photoEditor.opacity"),value:Math.round(100*_.opacity),min:10,max:100,display:"".concat(Math.round(100*_.opacity),"%"),onChange:function(t){return G(function(e){return a(a({},e),{},{opacity:t/100})})}}),!kt&&n.jsxs("div",{className:"space-y-1.5",children:[xt?n.jsx("div",{className:"flex gap-1.5",children:["fill","stroke"].map(function(t){return n.jsxs("button",{onClick:function(){return rt(t)},className:"flex items-center gap-1 px-2.5 py-1 rounded-lg border text-[11px] transition-all active:scale-95",style:{borderColor:et===t?"#8B5CF6":"var(--color-border)",backgroundColor:et===t?"rgba(139,92,246,0.15)":"transparent",color:et===t?"#8B5CF6":"var(--color-text-muted)"},children:[n.jsx("div",{className:"w-2.5 h-2.5 rounded-full border border-white/20",style:{backgroundColor:"fill"===t?_.color:_.strokeColor}}),M("fill"===t?"tools.photoEditor.fillColor":"tools.photoEditor.strokeColor")]},t)})}):n.jsx("span",{className:"text-[11px]",style:{color:"var(--color-text-muted)"},children:M("tools.photoEditor.color")}),n.jsx("div",{className:"flex flex-wrap gap-1.5",children:p.map(function(t){var e=(xt&&"stroke"===et?_.strokeColor:_.color)===t;return n.jsx("button",{onClick:function(){G(xt&&"stroke"===et?function(e){return a(a({},e),{},{strokeColor:t})}:function(e){return a(a({},e),{},{color:t})})},className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full border-2 transition-all active:scale-90",style:{backgroundColor:t,borderColor:e?"#8B5CF6":"rgba(255,255,255,0.12)",boxShadow:e?"0 0 8px ".concat(t,"80"):"none",transform:e?"scale(1.1)":"scale(1)"}},t)})})]})]}),"sticker"===Q&&n.jsxs("div",{className:"border-t px-3 sm:px-4 py-2.5 max-h-[45vh] sm:max-h-60 overflow-y-auto",style:{borderColor:"var(--color-border)"},children:[n.jsx("p",{className:"text-xs font-medium mb-2 text-center",style:{color:"var(--color-text-muted)"},children:M("tools.photoEditor.stickerHint")}),n.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-8 md:grid-cols-10 gap-1.5",children:f.map(function(t){var e=t.path,r=t.url,o=t.filename;return n.jsx("button",{onClick:function(){return Dt(o)},className:"aspect-square rounded-lg border p-1 hover:border-purple-500/50 active:scale-90 transition-all",style:{borderColor:"var(--color-border)",backgroundColor:"var(--glass-bg)"},children:n.jsx("img",{src:r,alt:"",className:"w-full h-full object-contain",loading:"lazy"})},e)})})]})]})]})});var r=[{type:"normal",icon:"‚úèÔ∏è",labelKey:"tools.photoEditor.brushNormal"},{type:"marker",icon:"üñäÔ∏è",labelKey:"tools.photoEditor.brushMarker"},{type:"neon",icon:"‚ú®",labelKey:"tools.photoEditor.brushNeon"},{type:"graffiti",icon:"ü§ü",labelKey:"tools.photoEditor.brushGraffiti"},{type:"crayon",icon:"üñçÔ∏è",labelKey:"tools.photoEditor.brushCrayon"},{type:"dotted",icon:"‚ö¨",labelKey:"tools.photoEditor.brushDotted"},{type:"calligraphy",icon:"üñåÔ∏è",labelKey:"tools.photoEditor.brushCalligraphy"},{type:"spray",icon:"üí®",labelKey:"tools.photoEditor.brushSpray"},{type:"eraser",icon:"üßπ",labelKey:"tools.photoEditor.brushEraser"}],p=["#ffffff","#000000","#EF4444","#F97316","#EAB308","#22C55E","#06B6D4","#3B82F6","#8B5CF6","#EC4899","#F472B6","#6366F1"],h=Object.assign({"/src/assets/tools/photo-editor/stickers/sticker1.png":"https://cdn-frontend-static.kigermap.com/assets/sticker1-38mmhz3b.png","/src/assets/tools/photo-editor/stickers/sticker10.png":"https://cdn-frontend-static.kigermap.com/assets/sticker10-il3UTrwN.png","/src/assets/tools/photo-editor/stickers/sticker11.png":"https://cdn-frontend-static.kigermap.com/assets/sticker11-BNsw8jES.png","/src/assets/tools/photo-editor/stickers/sticker12.png":"https://cdn-frontend-static.kigermap.com/assets/sticker12-BJTJN19g.png","/src/assets/tools/photo-editor/stickers/sticker13.png":"https://cdn-frontend-static.kigermap.com/assets/sticker13-C_2JCPDb.png","/src/assets/tools/photo-editor/stickers/sticker14.png":"https://cdn-frontend-static.kigermap.com/assets/sticker14-x5lpuO9O.png","/src/assets/tools/photo-editor/stickers/sticker15.png":"https://cdn-frontend-static.kigermap.com/assets/sticker15-CcyXET6Y.png","/src/assets/tools/photo-editor/stickers/sticker16.png":"https://cdn-frontend-static.kigermap.com/assets/sticker16-CB0Ztylh.png","/src/assets/tools/photo-editor/stickers/sticker17.png":"https://cdn-frontend-static.kigermap.com/assets/sticker17-5VcswKud.png","/src/assets/tools/photo-editor/stickers/sticker18.png":"https://cdn-frontend-static.kigermap.com/assets/sticker18-Bzcfqd53.png","/src/assets/tools/photo-editor/stickers/sticker19.png":"https://cdn-frontend-static.kigermap.com/assets/sticker19-BQT_Zbyy.png","/src/assets/tools/photo-editor/stickers/sticker2.png":"https://cdn-frontend-static.kigermap.com/assets/sticker2-DtfT_zIB.png","/src/assets/tools/photo-editor/stickers/sticker20.png":"https://cdn-frontend-static.kigermap.com/assets/sticker20-D81HmG3-.png","/src/assets/tools/photo-editor/stickers/sticker21.png":"https://cdn-frontend-static.kigermap.com/assets/sticker21-DmM0O5oq.png","/src/assets/tools/photo-editor/stickers/sticker22.png":"https://cdn-frontend-static.kigermap.com/assets/sticker22-BLr6jxd6.png","/src/assets/tools/photo-editor/stickers/sticker23.png":"https://cdn-frontend-static.kigermap.com/assets/sticker23-BjbeFdLY.png","/src/assets/tools/photo-editor/stickers/sticker24.png":"https://cdn-frontend-static.kigermap.com/assets/sticker24-B4BIa0Gd.png","/src/assets/tools/photo-editor/stickers/sticker25.png":"https://cdn-frontend-static.kigermap.com/assets/sticker25-rc92JpKV.png","/src/assets/tools/photo-editor/stickers/sticker26.png":"https://cdn-frontend-static.kigermap.com/assets/sticker26-DwLyRqdJ.png","/src/assets/tools/photo-editor/stickers/sticker27.png":"https://cdn-frontend-static.kigermap.com/assets/sticker27-BEi-p9Uf.png","/src/assets/tools/photo-editor/stickers/sticker28.png":"https://cdn-frontend-static.kigermap.com/assets/sticker28-CySwcxJM.png","/src/assets/tools/photo-editor/stickers/sticker29.png":"https://cdn-frontend-static.kigermap.com/assets/sticker29-C7Gfqxke.png","/src/assets/tools/photo-editor/stickers/sticker3.png":"https://cdn-frontend-static.kigermap.com/assets/sticker3-DVJSBMyl.png","/src/assets/tools/photo-editor/stickers/sticker30.png":"https://cdn-frontend-static.kigermap.com/assets/sticker30-COjy7fwf.png","/src/assets/tools/photo-editor/stickers/sticker4.png":"https://cdn-frontend-static.kigermap.com/assets/sticker4-P3isdio2.png","/src/assets/tools/photo-editor/stickers/sticker5.png":"https://cdn-frontend-static.kigermap.com/assets/sticker5-D7FAEvjA.png","/src/assets/tools/photo-editor/stickers/sticker6.png":"https://cdn-frontend-static.kigermap.com/assets/sticker6-CWUC2w7C.png","/src/assets/tools/photo-editor/stickers/sticker7.png":"https://cdn-frontend-static.kigermap.com/assets/sticker7-PdP5IsXU.png","/src/assets/tools/photo-editor/stickers/sticker8.png":"https://cdn-frontend-static.kigermap.com/assets/sticker8-D0Hyp4Dw.png","/src/assets/tools/photo-editor/stickers/sticker9.png":"https://cdn-frontend-static.kigermap.com/assets/sticker9-CPeOS_Ki.png"}),f=Object.entries(h).map(function(t){var e=u(t,2),r=e[0];return{path:r,url:e[1],filename:r.split("/").pop()||""}}).sort(function(t,e){var r,n;return parseInt((null===(r=t.path.match(/sticker(\d+)\.png/))||void 0===r?void 0:r[1])||"0")-parseInt((null===(n=e.path.match(/sticker(\d+)\.png/))||void 0===n?void 0:n[1])||"0")}),m=Object.fromEntries(f.map(function(t){return[t.filename,t.url]})),g=["graffiti","neon"];function v(t,e){var r=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return"rgba(".concat(r,",").concat(n,",").concat(o,",").concat(e,")")}function y(t,e){if(e&&e.points&&0!==e.points.length){var r=e.brush,n=r.opacity;switch(t.lineCap="round",t.lineJoin="round",r.type){case"normal":t.strokeStyle=v(r.color,n),t.lineWidth=r.size,x(t,e.points);break;case"marker":t.strokeStyle=v(r.color,.4*n),t.lineCap="square",t.lineWidth=2.5*r.size,x(t,e.points);break;case"neon":t.save(),t.strokeStyle=v(r.strokeColor,.15*n),t.lineWidth=4*r.size,t.shadowColor=r.strokeColor,t.shadowBlur=8,x(t,e.points),t.restore(),t.strokeStyle=v(r.color,.9*n),t.lineWidth=.6*r.size,x(t,e.points);break;case"dotted":t.fillStyle=v(r.color,n),function(t,e,r,n){for(var o=0,s=0;s<e.length;s++){if(s>0){var i=e[s].x-e[s-1].x,a=e[s].y-e[s-1].y;o+=Math.sqrt(i*i+a*a)}(o>=n||0===s)&&(t.beginPath(),t.arc(e[s].x,e[s].y,r/2,0,2*Math.PI),t.fill(),o=0)}}(t,e.points,r.size,3*r.size);break;case"calligraphy":t.strokeStyle=v(r.color,n),t.lineCap="butt",function(t,e,r){if(e.length<2)return;for(var n=0;n<e.length-1;n++){var o=e[n+1].x-e[n].x,s=e[n+1].y-e[n].y,i=Math.sqrt(o*o+s*s);t.lineWidth=Math.min(Math.max(2*r/(1+.05*i),.3*r),2.5*r),t.beginPath(),t.moveTo(e[n].x,e[n].y),t.lineTo(e[n+1].x,e[n+1].y),t.stroke()}}(t,e.points,r.size);break;case"spray":!function(t,e,r,n,o){var s,i=42,a=function(){return i=1103515245*i+12345&2147483647},c=l(e);try{for(c.s();!(s=c.n()).done;)for(var u=s.value,d=0;d<12;d++){var p=a()%Math.floor(6*n)-3*n,h=a()%Math.floor(6*n)-3*n,f=p*p+h*h;f<n*n*9&&(t.fillStyle=v(r,Math.min(Math.max(.6-f/(n*n*15),.05),.6)*o),t.beginPath(),t.arc(u.x+p,u.y+h,.8,0,2*Math.PI),t.fill())}}catch(m){c.e(m)}finally{c.f()}}(t,e.points,r.color,r.size,n);break;case"graffiti":!function(t,e,r){if(e.points.length<2)return;var n=e.brush,o=n.color,s=n.strokeColor,i=n.size;t.strokeStyle=v(s,.8*r),t.lineWidth=2.2*i,t.lineCap="round",t.lineJoin="round",x(t,e.points),t.strokeStyle=v(o,r),t.lineWidth=1.2*i,x(t,e.points)}(t,e,n);break;case"crayon":!function(t,e,r){if(e.points.length<2)return;for(var n=e.brush,o=n.color,s=n.size,i=parseInt(o.slice(1),16)||42,a=0;a<3;a++){t.strokeStyle=v(o,.35*r),t.lineWidth=s*(.6+.3*a),t.lineCap="round",t.beginPath();for(var c=0;c<e.points.length;c++){var l=((i=1103515245*i+12345&2147483647)%100-50)*s*.02,u=((i=1103515245*i+12345&2147483647)%100-50)*s*.02;0===c?t.moveTo(e.points[c].x+l,e.points[c].y+u):t.lineTo(e.points[c].x+l,e.points[c].y+u)}t.stroke()}}(t,e,n);break;case"eraser":t.save(),t.globalCompositeOperation="destination-out",t.strokeStyle="rgba(0,0,0,1)",t.lineWidth=3*r.size,t.lineCap="round",x(t,e.points),t.restore()}}}function x(t,e){if(e.length<2)return t.beginPath(),t.arc(e[0].x,e[0].y,t.lineWidth/2,0,2*Math.PI),void t.fill();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var r=1;r<e.length-1;r++){var n=(e[r].x+e[r+1].x)/2,o=(e[r].y+e[r+1].y)/2;t.quadraticCurveTo(e[r].x,e[r].y,n,o)}t.lineTo(e[e.length-1].x,e[e.length-1].y),t.stroke()}function k(t){var e=t.icon,r=t.label,o=t.active,s=t.onClick;return n.jsxs("button",{onClick:s,className:"flex flex-col items-center gap-0.5 px-3 sm:px-5 py-0.5 rounded-lg transition-all active:scale-90",style:{color:o?"#8B5CF6":"var(--color-text-muted)"},children:[n.jsx("span",{className:"text-lg leading-none",children:e}),n.jsx("span",{className:"text-[10px] leading-none",children:r})]})}function b(t){var e=t.label,r=t.value,o=t.min,s=t.max,i=t.display,a=t.preview,c=t.onChange;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[11px] w-6 flex-shrink-0",style:{color:"var(--color-text-muted)"},children:e}),a,n.jsx("input",{type:"range",min:o,max:s,value:r,onChange:function(t){return c(+t.target.value)},className:"flex-1 h-1 accent-purple-500 cursor-pointer"}),n.jsx("span",{className:"text-[11px] w-8 text-right flex-shrink-0",style:{color:"var(--color-text-muted)"},children:i})]})}}}})}();
